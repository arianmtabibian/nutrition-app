{"ast":null,"code":"import{useEffect}from'react';// Track user session to prevent inappropriate onboarding redirects\nexport const useUserSession=()=>{useEffect(()=>{// Mark that this user has accessed the app before\nconst hasAccessedApp=localStorage.getItem('hasAccessedApp');if(!hasAccessedApp){localStorage.setItem('hasAccessedApp','true');localStorage.setItem('firstAccess',new Date().toISOString());}// Update last access time\nlocalStorage.setItem('lastAccess',new Date().toISOString());},[]);const hasAccessedAppBefore=()=>{return localStorage.getItem('hasAccessedApp')==='true';};const getFirstAccessDate=()=>{const dateStr=localStorage.getItem('firstAccess');return dateStr?new Date(dateStr):null;};const getLastAccessDate=()=>{const dateStr=localStorage.getItem('lastAccess');return dateStr?new Date(dateStr):null;};return{hasAccessedAppBefore,getFirstAccessDate,getLastAccessDate};};","map":{"version":3,"names":["useEffect","useUserSession","hasAccessedApp","localStorage","getItem","setItem","Date","toISOString","hasAccessedAppBefore","getFirstAccessDate","dateStr","getLastAccessDate"],"sources":["C:/Users/arian/OneDrive/Desktop/Nutrition/client/src/hooks/useUserSession.ts"],"sourcesContent":["import { useEffect } from 'react';\r\n\r\n// Track user session to prevent inappropriate onboarding redirects\r\nexport const useUserSession = () => {\r\n  useEffect(() => {\r\n    // Mark that this user has accessed the app before\r\n    const hasAccessedApp = localStorage.getItem('hasAccessedApp');\r\n    if (!hasAccessedApp) {\r\n      localStorage.setItem('hasAccessedApp', 'true');\r\n      localStorage.setItem('firstAccess', new Date().toISOString());\r\n    }\r\n    \r\n    // Update last access time\r\n    localStorage.setItem('lastAccess', new Date().toISOString());\r\n  }, []);\r\n\r\n  const hasAccessedAppBefore = (): boolean => {\r\n    return localStorage.getItem('hasAccessedApp') === 'true';\r\n  };\r\n\r\n  const getFirstAccessDate = (): Date | null => {\r\n    const dateStr = localStorage.getItem('firstAccess');\r\n    return dateStr ? new Date(dateStr) : null;\r\n  };\r\n\r\n  const getLastAccessDate = (): Date | null => {\r\n    const dateStr = localStorage.getItem('lastAccess');\r\n    return dateStr ? new Date(dateStr) : null;\r\n  };\r\n\r\n  return {\r\n    hasAccessedAppBefore,\r\n    getFirstAccessDate,\r\n    getLastAccessDate\r\n  };\r\n};\r\n"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CAEjC;AACA,MAAO,MAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAClCD,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAE,cAAc,CAAGC,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC,CAC7D,GAAI,CAACF,cAAc,CAAE,CACnBC,YAAY,CAACE,OAAO,CAAC,gBAAgB,CAAE,MAAM,CAAC,CAC9CF,YAAY,CAACE,OAAO,CAAC,aAAa,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC,CAC/D,CAEA;AACAJ,YAAY,CAACE,OAAO,CAAC,YAAY,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC,CAC9D,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,oBAAoB,CAAGA,CAAA,GAAe,CAC1C,MAAO,CAAAL,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC,GAAK,MAAM,CAC1D,CAAC,CAED,KAAM,CAAAK,kBAAkB,CAAGA,CAAA,GAAmB,CAC5C,KAAM,CAAAC,OAAO,CAAGP,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CACnD,MAAO,CAAAM,OAAO,CAAG,GAAI,CAAAJ,IAAI,CAACI,OAAO,CAAC,CAAG,IAAI,CAC3C,CAAC,CAED,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAmB,CAC3C,KAAM,CAAAD,OAAO,CAAGP,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAClD,MAAO,CAAAM,OAAO,CAAG,GAAI,CAAAJ,IAAI,CAACI,OAAO,CAAC,CAAG,IAAI,CAC3C,CAAC,CAED,MAAO,CACLF,oBAAoB,CACpBC,kBAAkB,CAClBE,iBACF,CAAC,CACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}