{"ast":null,"code":"import _objectSpread from\"C:/Users/arian/OneDrive/Desktop/Nutrition/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{format,parseISO}from'date-fns';import{Plus,Loader2,Trash2,Utensils,Calendar,Zap,Beef,Heart,X}from'lucide-react';import{mealsAPI,favoritesAPI}from'../services/api';import{generateMealSummary}from'../utils/mealSummary';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Inputs=()=>{const[meals,setMeals]=useState([]);const[loading,setLoading]=useState(false);const[addingMeal,setAddingMeal]=useState(false);const[selectedDate,setSelectedDate]=useState(format(new Date(),'yyyy-MM-dd'));const[newMeal,setNewMeal]=useState({meal_type:'breakfast',description:''});const[manualMacros,setManualMacros]=useState({calories:0,protein:0,carbs:0,fat:0,fiber:0,sugar:0,sodium:0});const[message,setMessage]=useState('');const[editingMeal,setEditingMeal]=useState(null);const[editForm,setEditForm]=useState({description:'',calories:0,protein:0,carbs:0,fat:0,fiber:0,sugar:0,sodium:0});const[favoritingMeal,setFavoritingMeal]=useState(null);const[favorites,setFavorites]=useState([]);const[loadingFavorites,setLoadingFavorites]=useState(false);const[showFavorites,setShowFavorites]=useState(false);const[showMealTypeSelector,setShowMealTypeSelector]=useState(false);const[selectedSavedMeal,setSelectedSavedMeal]=useState(null);const[quickAddMealType,setQuickAddMealType]=useState('breakfast');// Helper function to safely format dates\nconst safeFormatDate=(dateString,formatString)=>{try{if(!dateString)return'N/A';const parsedDate=parseISO(dateString);if(isNaN(parsedDate.getTime()))return'Invalid Date';return format(parsedDate,formatString);}catch(error){console.error('Date formatting error:',error);return'N/A';}};useEffect(()=>{loadMeals();},[selectedDate]);useEffect(()=>{loadFavorites();},[]);const loadMeals=async()=>{setLoading(true);try{const response=await mealsAPI.getByDate(selectedDate);setMeals(response.data.meals||[]);}catch(error){console.error('Failed to load meals:',error);}finally{setLoading(false);}};const loadFavorites=async()=>{setLoadingFavorites(true);try{const response=await favoritesAPI.getAll();setFavorites(response.data.favorites||[]);}catch(error){console.error('Failed to load favorites:',error);}finally{setLoadingFavorites(false);}};const handleSelectFromFavorites=favorite=>{setSelectedSavedMeal(favorite);setQuickAddMealType(favorite.meal_type);// Default to the saved meal type\nsetShowMealTypeSelector(true);};const handleQuickAddMeal=async()=>{if(!selectedSavedMeal)return;setAddingMeal(true);try{const mealData={meal_date:selectedDate,meal_type:quickAddMealType,description:selectedSavedMeal.description,calories:selectedSavedMeal.calories||0,protein:selectedSavedMeal.protein||0,carbs:selectedSavedMeal.carbs||0,fat:selectedSavedMeal.fat||0,fiber:selectedSavedMeal.fiber||0,sugar:selectedSavedMeal.sugar||0,sodium:selectedSavedMeal.sodium||0};await mealsAPI.add(mealData);await loadMeals();// Reload meals after adding\n// Close modal and reset\nsetShowMealTypeSelector(false);setSelectedSavedMeal(null);setMessage(\"Added \\\"\".concat(selectedSavedMeal.name,\"\\\" as \").concat(quickAddMealType,\"!\"));setTimeout(()=>setMessage(''),3000);// Notify other components\nwindow.dispatchEvent(new CustomEvent('mealAdded'));window.dispatchEvent(new CustomEvent('mealDataChanged'));window.dispatchEvent(new CustomEvent('sidebarRefresh'));window.dispatchEvent(new CustomEvent('calendarRefresh'));}catch(error){var _error$response,_error$response$data;setMessage(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Failed to add meal');setTimeout(()=>setMessage(''),3000);}finally{setAddingMeal(false);}};const cancelQuickAdd=()=>{setShowMealTypeSelector(false);setSelectedSavedMeal(null);setQuickAddMealType('breakfast');};const handleAddMeal=async isManual=>{if(!newMeal.description.trim()){setMessage('Please enter a meal description');return;}setAddingMeal(true);setMessage('');try{let mealData={meal_date:selectedDate,meal_type:newMeal.meal_type,description:newMeal.description};// If using manual entry, include the macros\nif(isManual){mealData=_objectSpread(_objectSpread({},mealData),{},{calories:manualMacros.calories,protein:manualMacros.protein,carbs:manualMacros.carbs,fat:manualMacros.fat,fiber:manualMacros.fiber,sugar:manualMacros.sugar,sodium:manualMacros.sodium});}const response=await mealsAPI.add(mealData);// Reload meals from server to ensure consistency\nawait loadMeals();// Reset form\nsetNewMeal({meal_type:'breakfast',description:''});setManualMacros({calories:0,protein:0,carbs:0,fat:0,fiber:0,sugar:0,sodium:0});setMessage('Meal added successfully!');setTimeout(()=>setMessage(''),3000);// Notify other tabs that a meal was added\nlocalStorage.setItem('mealAdded',Date.now().toString());// Also trigger custom events for the same tab\nconsole.log('🍽️ Inputs: Dispatching meal added events IMMEDIATELY');window.dispatchEvent(new CustomEvent('mealAdded'));window.dispatchEvent(new CustomEvent('mealDataChanged'));window.dispatchEvent(new CustomEvent('sidebarRefresh'));window.dispatchEvent(new CustomEvent('calendarRefresh'));console.log('🍽️ Inputs: All events dispatched!');}catch(error){var _error$response2,_error$response2$data;setMessage(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||'Failed to add meal');}finally{setAddingMeal(false);}};const handleDeleteMeal=async mealId=>{try{await mealsAPI.delete(mealId);setMeals(prev=>prev.filter(meal=>meal.id!==mealId));setMessage('Meal deleted successfully!');setTimeout(()=>setMessage(''),3000);// Notify other tabs that a meal was deleted\nlocalStorage.setItem('mealDeleted',Date.now().toString());// Also trigger custom events for the same tab\nconsole.log('🍽️ Inputs: Dispatching meal deleted events');window.dispatchEvent(new CustomEvent('mealDeleted'));window.dispatchEvent(new CustomEvent('mealDataChanged'));// Force sidebar and calendar refresh\nwindow.dispatchEvent(new CustomEvent('sidebarRefresh'));window.dispatchEvent(new CustomEvent('calendarRefresh'));}catch(error){var _error$response3,_error$response3$data;setMessage(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||'Failed to delete meal');}};const handleAddToFavorites=async meal=>{setFavoritingMeal(meal.id);try{await favoritesAPI.createFromMeal(meal.id);setMessage('Meal saved successfully!');setTimeout(()=>setMessage(''),3000);// Reload favorites to update the count and list\nawait loadFavorites();}catch(error){var _error$response4;if(((_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.status)===409){setMessage('This meal is already saved');}else{var _error$response5,_error$response5$data;setMessage(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.error)||'Failed to save meal');}setTimeout(()=>setMessage(''),3000);}finally{setFavoritingMeal(null);}};const startEditMeal=meal=>{setEditingMeal(meal.id);setEditForm({description:meal.description,calories:meal.calories,protein:meal.protein,carbs:meal.carbs||0,fat:meal.fat||0,fiber:meal.fiber||0,sugar:meal.sugar||0,sodium:meal.sodium||0});};const cancelEditMeal=()=>{setEditingMeal(null);setEditForm({description:'',calories:0,protein:0,carbs:0,fat:0,fiber:0,sugar:0,sodium:0});};const handleEditMeal=async mealId=>{try{const response=await mealsAPI.update(mealId,editForm);// Reload meals from server to ensure consistency\nawait loadMeals();setMessage('Meal updated successfully!');setTimeout(()=>setMessage(''),3000);setEditingMeal(null);// Notify other tabs that a meal was updated\nlocalStorage.setItem('mealUpdated',Date.now().toString());// Also trigger custom events for the same tab\nconsole.log('🍽️ Inputs: Dispatching meal updated events');window.dispatchEvent(new CustomEvent('mealUpdated'));window.dispatchEvent(new CustomEvent('mealDataChanged'));// Force sidebar and calendar refresh\nwindow.dispatchEvent(new CustomEvent('sidebarRefresh'));window.dispatchEvent(new CustomEvent('calendarRefresh'));}catch(error){var _error$response6,_error$response6$data;setMessage(((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.error)||'Failed to update meal');}};const getMealTypeIcon=mealType=>{switch(mealType){case'breakfast':return'🌅';case'lunch':return'🌞';case'dinner':return'🌙';case'snack':return'🍎';default:return'🍽️';}};const getMealTypeColor=mealType=>{switch(mealType){case'breakfast':return'bg-orange-100 text-orange-800';case'lunch':return'bg-yellow-100 text-yellow-800';case'dinner':return'bg-blue-100 text-blue-800';case'snack':return'bg-green-100 text-green-800';default:return'bg-gray-100 text-gray-800';}};const calculateDailyTotals=()=>{return meals.reduce((totals,meal)=>({calories:totals.calories+meal.calories,protein:totals.protein+meal.protein,carbs:totals.carbs+(meal.carbs||0),fat:totals.fat+(meal.fat||0),fiber:totals.fiber+(meal.fiber||0),sugar:totals.sugar+(meal.sugar||0),sodium:totals.sodium+(meal.sodium||0)}),{calories:0,protein:0,carbs:0,fat:0,fiber:0,sugar:0,sodium:0});};const dailyTotals=calculateDailyTotals();return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Meal Inputs\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Utensils,{className:\"h-5 w-5 text-gray-400\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:\"Add and track your meals\"})]})]}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"p-4 rounded-lg \".concat(message.includes('successfully')?'bg-success-50 border border-success-200 text-success-700':'bg-danger-50 border border-danger-200 text-danger-700'),children:message}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-4\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-5 w-5 text-gray-500\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Select Date\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:selectedDate,onChange:e=>setSelectedDate(e.target.value),className:\"input max-w-xs\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-4\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-5 w-5 text-primary-600\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Add New Meal\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Meal Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:newMeal.meal_type,onChange:e=>setNewMeal(prev=>_objectSpread(_objectSpread({},prev),{},{meal_type:e.target.value})),className:\"input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"breakfast\",children:\"Breakfast\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lunch\",children:\"Lunch\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dinner\",children:\"Dinner\"}),/*#__PURE__*/_jsx(\"option\",{value:\"snack\",children:\"Snack\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Meal Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newMeal.description,onChange:e=>setNewMeal(prev=>_objectSpread(_objectSpread({},prev),{},{description:e.target.value})),className:\"input\",placeholder:\"e.g., Grilled chicken breast with brown rice and vegetables\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200 pt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Or select from saved meals\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setShowFavorites(!showFavorites),className:\"text-sm text-primary-600 hover:text-primary-700 transition-colors\",children:[showFavorites?'Hide':'Show',\" Saved Meals (\",favorites.length,\")\"]})]}),showFavorites&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 max-h-60 overflow-y-auto\",children:loadingFavorites?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center py-4\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"h-5 w-5 animate-spin text-primary-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm text-gray-600\",children:\"Loading saved meals...\"})]}):favorites.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4 text-gray-500 text-sm\",children:[/*#__PURE__*/_jsx(Heart,{className:\"h-8 w-8 mx-auto mb-2 text-gray-300\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No saved meals yet\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Save meals using the \\\"Save\\\" button to quickly select them here\"})]}):favorites.map(favorite=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer\",onClick:()=>handleSelectFromFavorites(favorite),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:favorite.meal_type==='breakfast'?'🍳':favorite.meal_type==='lunch'?'🥗':favorite.meal_type==='dinner'?'🍽️':'🍎'}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900\",children:favorite.name}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-medium \".concat(favorite.meal_type==='breakfast'?'bg-yellow-100 text-yellow-800':favorite.meal_type==='lunch'?'bg-green-100 text-green-800':favorite.meal_type==='dinner'?'bg-blue-100 text-blue-800':'bg-purple-100 text-purple-800'),children:favorite.meal_type.charAt(0).toUpperCase()+favorite.meal_type.slice(1)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:[favorite.calories,\" cal \\u2022 \",favorite.protein,\"g protein\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-primary-600 hover:text-primary-700\",children:/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4\"})})]},favorite.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Zap,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"AI will analyze your meal and calculate all nutrition values\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleAddMeal(false),disabled:addingMeal,className:\"btn-primary flex items-center space-x-2 flex-1\",children:addingMeal?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader2,{className:\"animate-spin h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Analyzing meal...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Zap,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add Meal Using AI\"})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleAddMeal(true),disabled:addingMeal,className:\"flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors duration-200 flex-1 bg-green-600 hover:bg-green-700 text-white\",children:addingMeal?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader2,{className:\"animate-spin h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Adding meal...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Utensils,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add Meal Manually\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 p-4 bg-green-50 border border-green-200 rounded-lg mt-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium text-green-800 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Utensils,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Enter Nutrition Values (for manual entry)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-green-700 mb-1\",children:\"Calories\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:manualMacros.calories||'',onChange:e=>setManualMacros(prev=>_objectSpread(_objectSpread({},prev),{},{calories:parseFloat(e.target.value)||0})),className:\"w-full px-3 py-2 border border-green-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\",placeholder:\"0\",min:\"0\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-green-700 mb-1\",children:\"Protein (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:manualMacros.protein||'',onChange:e=>setManualMacros(prev=>_objectSpread(_objectSpread({},prev),{},{protein:parseFloat(e.target.value)||0})),className:\"w-full px-3 py-2 border border-green-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\",placeholder:\"0\",min:\"0\",step:\"0.1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-green-700 mb-1\",children:\"Carbs (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:manualMacros.carbs||'',onChange:e=>setManualMacros(prev=>_objectSpread(_objectSpread({},prev),{},{carbs:parseFloat(e.target.value)||0})),className:\"w-full px-3 py-2 border border-green-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\",placeholder:\"0\",min:\"0\",step:\"0.1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-green-700 mb-1\",children:\"Fat (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:manualMacros.fat||'',onChange:e=>setManualMacros(prev=>_objectSpread(_objectSpread({},prev),{},{fat:parseFloat(e.target.value)||0})),className:\"w-full px-3 py-2 border border-green-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\",placeholder:\"0\",min:\"0\",step:\"0.1\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-green-700 mb-1\",children:\"Fiber (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:manualMacros.fiber||'',onChange:e=>setManualMacros(prev=>_objectSpread(_objectSpread({},prev),{},{fiber:parseFloat(e.target.value)||0})),className:\"w-full px-3 py-2 border border-green-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\",placeholder:\"0\",min:\"0\",step:\"0.1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-green-700 mb-1\",children:\"Sugar (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:manualMacros.sugar||'',onChange:e=>setManualMacros(prev=>_objectSpread(_objectSpread({},prev),{},{sugar:parseFloat(e.target.value)||0})),className:\"w-full px-3 py-2 border border-green-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\",placeholder:\"0\",min:\"0\",step:\"0.1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-green-700 mb-1\",children:\"Sodium (mg)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:manualMacros.sodium||'',onChange:e=>setManualMacros(prev=>_objectSpread(_objectSpread({},prev),{},{sodium:parseFloat(e.target.value)||0})),className:\"w-full px-3 py-2 border border-green-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\",placeholder:\"0\",min:\"0\",step:\"0.1\"})]})]})]})]})]}),meals.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"card bg-primary-50 border-primary-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-primary-800 mb-4\",children:\"Daily Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-primary-600\",children:meals.length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-primary-700\",children:\"Meals\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-primary-600\",children:dailyTotals.calories}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-primary-700\",children:\"Calories\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold text-primary-600\",children:[dailyTotals.protein,\"g\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-primary-700\",children:\"Protein\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-5 gap-3 mt-4 pt-4 border-t border-primary-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-medium text-gray-600\",children:[dailyTotals.carbs,\"g\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Carbs\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-medium text-gray-600\",children:[dailyTotals.fat,\"g\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Fat\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-medium text-gray-600\",children:[dailyTotals.fiber,\"g\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Fiber\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-medium text-gray-600\",children:[dailyTotals.sugar,\"g\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Sugar\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-medium text-gray-600\",children:[dailyTotals.sodium,\"mg\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Sodium\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:[\"Meals for \",safeFormatDate(selectedDate,'EEEE, MMMM d, yyyy')]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-32\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600\"})}):meals.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500\",children:[/*#__PURE__*/_jsx(Utensils,{className:\"h-12 w-12 mx-auto mb-4 text-gray-300\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No meals logged for this date\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"Add your first meal above to get started!\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:meals.map(meal=>/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-gray-50 rounded-lg\",children:editingMeal===meal.id?/*#__PURE__*/// Edit Mode\n_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl\",children:getMealTypeIcon(meal.meal_type)}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-medium \".concat(getMealTypeColor(meal.meal_type)),children:meal.meal_type.charAt(0).toUpperCase()+meal.meal_type.slice(1)})})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editForm.description,onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{description:e.target.value})),className:\"input w-full\",placeholder:\"Meal description\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Calories\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editForm.calories,onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{calories:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Protein (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editForm.protein,onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{protein:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\",step:\"0.1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Carbs (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editForm.carbs,onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{carbs:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\",step:\"0.1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Fat (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editForm.fat,onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{fat:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\",step:\"0.1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Fiber (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editForm.fiber,onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{fiber:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\",step:\"0.1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Sugar (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editForm.sugar,onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{sugar:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\",step:\"0.1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Sodium (mg)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editForm.sodium,onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{sodium:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\",step:\"0.1\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:cancelEditMeal,className:\"px-3 py-1 text-sm text-gray-600 hover:text-gray-800 transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditMeal(meal.id),className:\"px-3 py-1 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors\",children:\"Save Changes\"})]})]}):/*#__PURE__*/// View Mode\n_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl\",children:getMealTypeIcon(meal.meal_type)}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-medium \".concat(getMealTypeColor(meal.meal_type)),children:meal.meal_type.charAt(0).toUpperCase()+meal.meal_type.slice(1)}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:safeFormatDate(meal.created_at,'h:mm a')})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900 font-medium\",children:generateMealSummary(meal.description)}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",title:meal.description,children:meal.description.length>50?\"\".concat(meal.description.substring(0,50),\"...\"):meal.description})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm\",children:[/*#__PURE__*/_jsx(Zap,{className:\"h-4 w-4 text-yellow-600\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-lg\",children:[meal.calories,\" cal\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm\",children:[/*#__PURE__*/_jsx(Beef,{className:\"h-4 w-4 text-red-600\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-lg\",children:[meal.protein,\"g\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 text-xs text-gray-500 mt-1\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Carbs: \",meal.carbs,\"g\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Fat: \",meal.fat,\"g\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Fiber: \",meal.fiber,\"g\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAddToFavorites(meal),disabled:favoritingMeal===meal.id,className:\"flex items-center space-x-1 px-2 py-1 text-xs bg-blue-50 text-blue-700 rounded hover:bg-blue-100 transition-colors disabled:opacity-50\",title:\"Save meal for quick access later\",children:favoritingMeal===meal.id?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader2,{className:\"h-3 w-3 animate-spin\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Saving...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Heart,{className:\"h-3 w-3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Save\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>startEditMeal(meal),className:\"text-gray-400 hover:text-primary-600 transition-colors\",title:\"Edit meal\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-4 w-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"})})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteMeal(meal.id),className:\"text-gray-400 hover:text-danger-600 transition-colors\",title:\"Delete meal\",children:/*#__PURE__*/_jsx(Trash2,{className:\"h-4 w-4\"})})]})]})]})},meal.id))})]}),showMealTypeSelector&&selectedSavedMeal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-md mx-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Add Saved Meal\"}),/*#__PURE__*/_jsx(\"button\",{onClick:cancelQuickAdd,className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"h-5 w-5\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl\",children:selectedSavedMeal.meal_type==='breakfast'?'🍳':selectedSavedMeal.meal_type==='lunch'?'🥗':selectedSavedMeal.meal_type==='dinner'?'🍽️':'🍎'}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900\",children:selectedSavedMeal.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[selectedSavedMeal.calories,\" cal \\u2022 \",selectedSavedMeal.protein,\"g protein\"]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Select meal type for today:\"}),/*#__PURE__*/_jsxs(\"select\",{value:quickAddMealType,onChange:e=>setQuickAddMealType(e.target.value),className:\"input w-full\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"breakfast\",children:\"\\uD83C\\uDF73 Breakfast\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lunch\",children:\"\\uD83E\\uDD57 Lunch\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dinner\",children:\"\\uD83C\\uDF7D\\uFE0F Dinner\"}),/*#__PURE__*/_jsx(\"option\",{value:\"snack\",children:\"\\uD83C\\uDF4E Snack\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:cancelQuickAdd,className:\"flex-1 px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleQuickAddMeal,disabled:addingMeal,className:\"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 flex items-center justify-center space-x-2\",children:addingMeal?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader2,{className:\"h-4 w-4 animate-spin\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Adding...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add Meal\"})]})})]})]})})]});};export default Inputs;","map":{"version":3,"names":["React","useState","useEffect","format","parseISO","Plus","Loader2","Trash2","Utensils","Calendar","Zap","Beef","Heart","X","mealsAPI","favoritesAPI","generateMealSummary","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Inputs","meals","setMeals","loading","setLoading","addingMeal","setAddingMeal","selectedDate","setSelectedDate","Date","newMeal","setNewMeal","meal_type","description","manualMacros","setManualMacros","calories","protein","carbs","fat","fiber","sugar","sodium","message","setMessage","editingMeal","setEditingMeal","editForm","setEditForm","favoritingMeal","setFavoritingMeal","favorites","setFavorites","loadingFavorites","setLoadingFavorites","showFavorites","setShowFavorites","showMealTypeSelector","setShowMealTypeSelector","selectedSavedMeal","setSelectedSavedMeal","quickAddMealType","setQuickAddMealType","safeFormatDate","dateString","formatString","parsedDate","isNaN","getTime","error","console","loadMeals","loadFavorites","response","getByDate","data","getAll","handleSelectFromFavorites","favorite","handleQuickAddMeal","mealData","meal_date","add","concat","name","setTimeout","window","dispatchEvent","CustomEvent","_error$response","_error$response$data","cancelQuickAdd","handleAddMeal","isManual","trim","_objectSpread","localStorage","setItem","now","toString","log","_error$response2","_error$response2$data","handleDeleteMeal","mealId","delete","prev","filter","meal","id","_error$response3","_error$response3$data","handleAddToFavorites","createFromMeal","_error$response4","status","_error$response5","_error$response5$data","startEditMeal","cancelEditMeal","handleEditMeal","update","_error$response6","_error$response6$data","getMealTypeIcon","mealType","getMealTypeColor","calculateDailyTotals","reduce","totals","dailyTotals","className","children","includes","type","value","onChange","e","target","placeholder","required","onClick","length","map","charAt","toUpperCase","slice","disabled","parseFloat","min","step","Number","created_at","title","substring","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d"],"sources":["C:/Users/arian/OneDrive/Desktop/Nutrition/client/src/components/Inputs.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { format, parseISO } from 'date-fns';\nimport { Plus, Loader2, Trash2, Utensils, Calendar, Zap, Beef, Heart, HeartOff, X } from 'lucide-react';\nimport { mealsAPI, favoritesAPI } from '../services/api';\nimport { generateMealSummary } from '../utils/mealSummary';\n\ninterface Meal {\n  id: number;\n  meal_date: string;\n  meal_type: string;\n  description: string;\n  calories: number;\n  protein: number;\n  carbs: number;\n  fat: number;\n  fiber: number;\n  sugar: number;\n  sodium: number;\n  created_at: string;\n}\n\nconst Inputs: React.FC = () => {\n  const [meals, setMeals] = useState<Meal[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [addingMeal, setAddingMeal] = useState(false);\n  const [selectedDate, setSelectedDate] = useState(format(new Date(), 'yyyy-MM-dd'));\n  const [newMeal, setNewMeal] = useState({\n    meal_type: 'breakfast',\n    description: ''\n  });\n  const [manualMacros, setManualMacros] = useState({\n    calories: 0,\n    protein: 0,\n    carbs: 0,\n    fat: 0,\n    fiber: 0,\n    sugar: 0,\n    sodium: 0\n  });\n\n  const [message, setMessage] = useState('');\n  const [editingMeal, setEditingMeal] = useState<number | null>(null);\n  const [editForm, setEditForm] = useState({\n    description: '',\n    calories: 0,\n    protein: 0,\n    carbs: 0,\n    fat: 0,\n    fiber: 0,\n    sugar: 0,\n    sodium: 0\n  });\n  const [favoritingMeal, setFavoritingMeal] = useState<number | null>(null);\n  const [favorites, setFavorites] = useState<any[]>([]);\n  const [loadingFavorites, setLoadingFavorites] = useState(false);\n  const [showFavorites, setShowFavorites] = useState(false);\n  const [showMealTypeSelector, setShowMealTypeSelector] = useState(false);\n  const [selectedSavedMeal, setSelectedSavedMeal] = useState<any>(null);\n  const [quickAddMealType, setQuickAddMealType] = useState('breakfast');\n\n  // Helper function to safely format dates\n  const safeFormatDate = (dateString: string, formatString: string) => {\n    try {\n      if (!dateString) return 'N/A';\n      const parsedDate = parseISO(dateString);\n      if (isNaN(parsedDate.getTime())) return 'Invalid Date';\n      return format(parsedDate, formatString);\n    } catch (error) {\n      console.error('Date formatting error:', error);\n      return 'N/A';\n    }\n  };\n\n  useEffect(() => {\n    loadMeals();\n  }, [selectedDate]);\n\n  useEffect(() => {\n    loadFavorites();\n  }, []);\n\n  const loadMeals = async () => {\n    setLoading(true);\n    try {\n      const response = await mealsAPI.getByDate(selectedDate);\n      setMeals(response.data.meals || []);\n    } catch (error) {\n      console.error('Failed to load meals:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadFavorites = async () => {\n    setLoadingFavorites(true);\n    try {\n      const response = await favoritesAPI.getAll();\n      setFavorites(response.data.favorites || []);\n    } catch (error) {\n      console.error('Failed to load favorites:', error);\n    } finally {\n      setLoadingFavorites(false);\n    }\n  };\n\n  const handleSelectFromFavorites = (favorite: any) => {\n    setSelectedSavedMeal(favorite);\n    setQuickAddMealType(favorite.meal_type); // Default to the saved meal type\n    setShowMealTypeSelector(true);\n  };\n\n  const handleQuickAddMeal = async () => {\n    if (!selectedSavedMeal) return;\n\n    setAddingMeal(true);\n    try {\n      const mealData = {\n        meal_date: selectedDate,\n        meal_type: quickAddMealType,\n        description: selectedSavedMeal.description,\n        calories: selectedSavedMeal.calories || 0,\n        protein: selectedSavedMeal.protein || 0,\n        carbs: selectedSavedMeal.carbs || 0,\n        fat: selectedSavedMeal.fat || 0,\n        fiber: selectedSavedMeal.fiber || 0,\n        sugar: selectedSavedMeal.sugar || 0,\n        sodium: selectedSavedMeal.sodium || 0\n      };\n\n      await mealsAPI.add(mealData);\n      await loadMeals(); // Reload meals after adding\n      \n      // Close modal and reset\n      setShowMealTypeSelector(false);\n      setSelectedSavedMeal(null);\n      \n      setMessage(`Added \"${selectedSavedMeal.name}\" as ${quickAddMealType}!`);\n      setTimeout(() => setMessage(''), 3000);\n      \n      // Notify other components\n      window.dispatchEvent(new CustomEvent('mealAdded'));\n      window.dispatchEvent(new CustomEvent('mealDataChanged'));\n      window.dispatchEvent(new CustomEvent('sidebarRefresh'));\n      window.dispatchEvent(new CustomEvent('calendarRefresh'));\n      \n    } catch (error: any) {\n      setMessage(error.response?.data?.error || 'Failed to add meal');\n      setTimeout(() => setMessage(''), 3000);\n    } finally {\n      setAddingMeal(false);\n    }\n  };\n\n  const cancelQuickAdd = () => {\n    setShowMealTypeSelector(false);\n    setSelectedSavedMeal(null);\n    setQuickAddMealType('breakfast');\n  };\n\n  const handleAddMeal = async (isManual: boolean) => {\n    if (!newMeal.description.trim()) {\n      setMessage('Please enter a meal description');\n      return;\n    }\n\n    setAddingMeal(true);\n    setMessage('');\n    \n    try {\n      let mealData: any = {\n        meal_date: selectedDate,\n        meal_type: newMeal.meal_type,\n        description: newMeal.description\n      };\n\n      // If using manual entry, include the macros\n      if (isManual) {\n        mealData = {\n          ...mealData,\n          calories: manualMacros.calories,\n          protein: manualMacros.protein,\n          carbs: manualMacros.carbs,\n          fat: manualMacros.fat,\n          fiber: manualMacros.fiber,\n          sugar: manualMacros.sugar,\n          sodium: manualMacros.sodium\n        };\n      }\n\n      const response = await mealsAPI.add(mealData);\n      \n      // Reload meals from server to ensure consistency\n      await loadMeals();\n      \n      // Reset form\n      setNewMeal({ meal_type: 'breakfast', description: '' });\n      setManualMacros({\n        calories: 0,\n        protein: 0,\n        carbs: 0,\n        fat: 0,\n        fiber: 0,\n        sugar: 0,\n        sodium: 0\n      });\n      setMessage('Meal added successfully!');\n      setTimeout(() => setMessage(''), 3000);\n      \n      // Notify other tabs that a meal was added\n      localStorage.setItem('mealAdded', Date.now().toString());\n      \n      // Also trigger custom events for the same tab\n      console.log('🍽️ Inputs: Dispatching meal added events IMMEDIATELY');\n      \n      window.dispatchEvent(new CustomEvent('mealAdded'));\n      window.dispatchEvent(new CustomEvent('mealDataChanged'));\n      window.dispatchEvent(new CustomEvent('sidebarRefresh'));\n      window.dispatchEvent(new CustomEvent('calendarRefresh'));\n      \n      console.log('🍽️ Inputs: All events dispatched!');\n    } catch (error: any) {\n      setMessage(error.response?.data?.error || 'Failed to add meal');\n    } finally {\n      setAddingMeal(false);\n    }\n  };\n\n  const handleDeleteMeal = async (mealId: number) => {\n    try {\n      await mealsAPI.delete(mealId);\n      setMeals(prev => prev.filter(meal => meal.id !== mealId));\n      setMessage('Meal deleted successfully!');\n      setTimeout(() => setMessage(''), 3000);\n      \n      // Notify other tabs that a meal was deleted\n      localStorage.setItem('mealDeleted', Date.now().toString());\n      \n      // Also trigger custom events for the same tab\n      console.log('🍽️ Inputs: Dispatching meal deleted events');\n      window.dispatchEvent(new CustomEvent('mealDeleted'));\n      window.dispatchEvent(new CustomEvent('mealDataChanged'));\n      \n      // Force sidebar and calendar refresh\n      window.dispatchEvent(new CustomEvent('sidebarRefresh'));\n      window.dispatchEvent(new CustomEvent('calendarRefresh'));\n    } catch (error: any) {\n      setMessage(error.response?.data?.error || 'Failed to delete meal');\n    }\n  };\n\n  const handleAddToFavorites = async (meal: Meal) => {\n    setFavoritingMeal(meal.id);\n    try {\n      await favoritesAPI.createFromMeal(meal.id);\n      setMessage('Meal saved successfully!');\n      setTimeout(() => setMessage(''), 3000);\n      // Reload favorites to update the count and list\n      await loadFavorites();\n    } catch (error: any) {\n      if (error.response?.status === 409) {\n        setMessage('This meal is already saved');\n      } else {\n        setMessage(error.response?.data?.error || 'Failed to save meal');\n      }\n      setTimeout(() => setMessage(''), 3000);\n    } finally {\n      setFavoritingMeal(null);\n    }\n  };\n\n  const startEditMeal = (meal: Meal) => {\n    setEditingMeal(meal.id);\n    setEditForm({\n      description: meal.description,\n      calories: meal.calories,\n      protein: meal.protein,\n      carbs: meal.carbs || 0,\n      fat: meal.fat || 0,\n      fiber: meal.fiber || 0,\n      sugar: meal.sugar || 0,\n      sodium: meal.sodium || 0\n    });\n  };\n\n  const cancelEditMeal = () => {\n    setEditingMeal(null);\n    setEditForm({\n      description: '',\n      calories: 0,\n      protein: 0,\n      carbs: 0,\n      fat: 0,\n      fiber: 0,\n      sugar: 0,\n      sodium: 0\n    });\n  };\n\n  const handleEditMeal = async (mealId: number) => {\n    try {\n      const response = await mealsAPI.update(mealId, editForm);\n      \n      // Reload meals from server to ensure consistency\n      await loadMeals();\n      setMessage('Meal updated successfully!');\n      setTimeout(() => setMessage(''), 3000);\n      setEditingMeal(null);\n      \n      // Notify other tabs that a meal was updated\n      localStorage.setItem('mealUpdated', Date.now().toString());\n      \n      // Also trigger custom events for the same tab\n      console.log('🍽️ Inputs: Dispatching meal updated events');\n      window.dispatchEvent(new CustomEvent('mealUpdated'));\n      window.dispatchEvent(new CustomEvent('mealDataChanged'));\n      \n      // Force sidebar and calendar refresh\n      window.dispatchEvent(new CustomEvent('sidebarRefresh'));\n      window.dispatchEvent(new CustomEvent('calendarRefresh'));\n    } catch (error: any) {\n      setMessage(error.response?.data?.error || 'Failed to update meal');\n    }\n  };\n\n  const getMealTypeIcon = (mealType: string) => {\n    switch (mealType) {\n      case 'breakfast':\n        return '🌅';\n      case 'lunch':\n        return '🌞';\n      case 'dinner':\n        return '🌙';\n      case 'snack':\n        return '🍎';\n      default:\n        return '🍽️';\n    }\n  };\n\n  const getMealTypeColor = (mealType: string) => {\n    switch (mealType) {\n      case 'breakfast':\n        return 'bg-orange-100 text-orange-800';\n      case 'lunch':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'dinner':\n        return 'bg-blue-100 text-blue-800';\n      case 'snack':\n        return 'bg-green-100 text-green-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const calculateDailyTotals = () => {\n    return meals.reduce((totals, meal) => ({\n      calories: totals.calories + meal.calories,\n      protein: totals.protein + meal.protein,\n      carbs: totals.carbs + (meal.carbs || 0),\n      fat: totals.fat + (meal.fat || 0),\n      fiber: totals.fiber + (meal.fiber || 0),\n      sugar: totals.sugar + (meal.sugar || 0),\n      sodium: totals.sodium + (meal.sodium || 0)\n    }), { calories: 0, protein: 0, carbs: 0, fat: 0, fiber: 0, sugar: 0, sodium: 0 });\n  };\n\n  const dailyTotals = calculateDailyTotals();\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-2xl font-bold text-gray-900\">Meal Inputs</h2>\n        <div className=\"flex items-center space-x-2\">\n          <Utensils className=\"h-5 w-5 text-gray-400\" />\n          <span className=\"text-sm text-gray-500\">Add and track your meals</span>\n        </div>\n      </div>\n\n      {message && (\n        <div className={`p-4 rounded-lg ${\n          message.includes('successfully') \n            ? 'bg-success-50 border border-success-200 text-success-700'\n            : 'bg-danger-50 border border-danger-200 text-danger-700'\n        }`}>\n          {message}\n        </div>\n      )}\n\n      {/* Date Selection */}\n      <div className=\"card\">\n        <div className=\"flex items-center space-x-2 mb-4\">\n          <Calendar className=\"h-5 w-5 text-gray-500\" />\n          <h3 className=\"text-lg font-semibold text-gray-900\">Select Date</h3>\n        </div>\n        \n        <input\n          type=\"date\"\n          value={selectedDate}\n          onChange={(e) => setSelectedDate(e.target.value)}\n          className=\"input max-w-xs\"\n        />\n      </div>\n\n      {/* Add New Meal */}\n      <div className=\"card\">\n        <div className=\"flex items-center space-x-2 mb-4\">\n          <Plus className=\"h-5 w-5 text-primary-600\" />\n          <h3 className=\"text-lg font-semibold text-gray-900\">Add New Meal</h3>\n        </div>\n        \n        <form className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Meal Type\n              </label>\n              <select\n                value={newMeal.meal_type}\n                onChange={(e) => setNewMeal(prev => ({ ...prev, meal_type: e.target.value }))}\n                className=\"input\"\n              >\n                <option value=\"breakfast\">Breakfast</option>\n                <option value=\"lunch\">Lunch</option>\n                <option value=\"dinner\">Dinner</option>\n                <option value=\"snack\">Snack</option>\n              </select>\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Meal Description\n              </label>\n              <input\n                type=\"text\"\n                value={newMeal.description}\n                onChange={(e) => setNewMeal(prev => ({ ...prev, description: e.target.value }))}\n                className=\"input\"\n                placeholder=\"e.g., Grilled chicken breast with brown rice and vegetables\"\n                required\n              />\n            </div>\n          </div>\n          \n          {/* Saved Meals Selection */}\n          <div className=\"border-t border-gray-200 pt-4\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <label className=\"block text-sm font-medium text-gray-700\">\n                Or select from saved meals\n              </label>\n              <button\n                type=\"button\"\n                onClick={() => setShowFavorites(!showFavorites)}\n                className=\"text-sm text-primary-600 hover:text-primary-700 transition-colors\"\n              >\n                {showFavorites ? 'Hide' : 'Show'} Saved Meals ({favorites.length})\n              </button>\n            </div>\n            \n            {showFavorites && (\n              <div className=\"space-y-2 max-h-60 overflow-y-auto\">\n                {loadingFavorites ? (\n                  <div className=\"flex items-center justify-center py-4\">\n                    <Loader2 className=\"h-5 w-5 animate-spin text-primary-600\" />\n                    <span className=\"ml-2 text-sm text-gray-600\">Loading saved meals...</span>\n                  </div>\n                ) : favorites.length === 0 ? (\n                  <div className=\"text-center py-4 text-gray-500 text-sm\">\n                    <Heart className=\"h-8 w-8 mx-auto mb-2 text-gray-300\" />\n                    <p>No saved meals yet</p>\n                    <p>Save meals using the \"Save\" button to quickly select them here</p>\n                  </div>\n                ) : (\n                  favorites.map((favorite) => (\n                    <div\n                      key={favorite.id}\n                      className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer\"\n                      onClick={() => handleSelectFromFavorites(favorite)}\n                    >\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center space-x-2\">\n                          <span className=\"text-lg\">{favorite.meal_type === 'breakfast' ? '🍳' : favorite.meal_type === 'lunch' ? '🥗' : favorite.meal_type === 'dinner' ? '🍽️' : '🍎'}</span>\n                          <span className=\"font-medium text-gray-900\">{favorite.name}</span>\n                          <span className={`px-2 py-1 rounded-full text-xs font-medium ${\n                            favorite.meal_type === 'breakfast' ? 'bg-yellow-100 text-yellow-800' :\n                            favorite.meal_type === 'lunch' ? 'bg-green-100 text-green-800' :\n                            favorite.meal_type === 'dinner' ? 'bg-blue-100 text-blue-800' :\n                            'bg-purple-100 text-purple-800'\n                          }`}>\n                            {favorite.meal_type.charAt(0).toUpperCase() + favorite.meal_type.slice(1)}\n                          </span>\n                        </div>\n                        <div className=\"text-xs text-gray-500 mt-1\">\n                          {favorite.calories} cal • {favorite.protein}g protein\n                        </div>\n                      </div>\n                      <div className=\"text-primary-600 hover:text-primary-700\">\n                        <Plus className=\"h-4 w-4\" />\n                      </div>\n                    </div>\n                  ))\n                )}\n              </div>\n            )}\n          </div>\n          \n          {/* AI Analysis Info */}\n          <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\n            <Zap className=\"h-4 w-4\" />\n            <span>AI will analyze your meal and calculate all nutrition values</span>\n          </div>\n\n\n          \n          {/* Two buttons side by side */}\n          <div className=\"flex space-x-3\">\n            <button\n              type=\"button\"\n              onClick={() => handleAddMeal(false)}\n              disabled={addingMeal}\n              className=\"btn-primary flex items-center space-x-2 flex-1\"\n            >\n              {addingMeal ? (\n                <>\n                  <Loader2 className=\"animate-spin h-4 w-4\" />\n                  <span>Analyzing meal...</span>\n                </>\n              ) : (\n                <>\n                  <Zap className=\"h-4 w-4\" />\n                  <span>Add Meal Using AI</span>\n                </>\n              )}\n            </button>\n            \n            <button\n              type=\"button\"\n              onClick={() => handleAddMeal(true)}\n              disabled={addingMeal}\n              className=\"flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors duration-200 flex-1 bg-green-600 hover:bg-green-700 text-white\"\n            >\n              {addingMeal ? (\n                <>\n                  <Loader2 className=\"animate-spin h-4 w-4\" />\n                  <span>Adding meal...</span>\n                </>\n              ) : (\n                <>\n                  <Utensils className=\"h-4 w-4\" />\n                  <span>Add Meal Manually</span>\n                </>\n              )}\n            </button>\n          </div>\n          \n          {/* Manual Entry Fields - Always visible */}\n          <div className=\"space-y-4 p-4 bg-green-50 border border-green-200 rounded-lg mt-4\">\n            <h4 className=\"font-medium text-green-800 flex items-center space-x-2\">\n              <Utensils className=\"h-4 w-4\" />\n              <span>Enter Nutrition Values (for manual entry)</span>\n            </h4>\n            \n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n              <div>\n                <label className=\"block text-xs font-medium text-green-700 mb-1\">Calories</label>\n                <input\n                  type=\"number\"\n                  value={manualMacros.calories || ''}\n                  onChange={(e) => setManualMacros(prev => ({ ...prev, calories: parseFloat(e.target.value) || 0 }))}\n                  className=\"w-full px-3 py-2 border border-green-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\"\n                  placeholder=\"0\"\n                  min=\"0\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-xs font-medium text-green-700 mb-1\">Protein (g)</label>\n                <input\n                  type=\"number\"\n                  value={manualMacros.protein || ''}\n                  onChange={(e) => setManualMacros(prev => ({ ...prev, protein: parseFloat(e.target.value) || 0 }))}\n                  className=\"w-full px-3 py-2 border border-green-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\"\n                  placeholder=\"0\"\n                  min=\"0\"\n                  step=\"0.1\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-xs font-medium text-green-700 mb-1\">Carbs (g)</label>\n                <input\n                  type=\"number\"\n                  value={manualMacros.carbs || ''}\n                  onChange={(e) => setManualMacros(prev => ({ ...prev, carbs: parseFloat(e.target.value) || 0 }))}\n                  className=\"w-full px-3 py-2 border border-green-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\"\n                  placeholder=\"0\"\n                  min=\"0\"\n                  step=\"0.1\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-xs font-medium text-green-700 mb-1\">Fat (g)</label>\n                <input\n                  type=\"number\"\n                  value={manualMacros.fat || ''}\n                  onChange={(e) => setManualMacros(prev => ({ ...prev, fat: parseFloat(e.target.value) || 0 }))}\n                  className=\"w-full px-3 py-2 border border-green-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\"\n                  placeholder=\"0\"\n                  min=\"0\"\n                  step=\"0.1\"\n                />\n              </div>\n            </div>\n            \n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n              <div>\n                <label className=\"block text-xs font-medium text-green-700 mb-1\">Fiber (g)</label>\n                <input\n                  type=\"number\"\n                  value={manualMacros.fiber || ''}\n                  onChange={(e) => setManualMacros(prev => ({ ...prev, fiber: parseFloat(e.target.value) || 0 }))}\n                  className=\"w-full px-3 py-2 border border-green-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\"\n                  placeholder=\"0\"\n                  min=\"0\"\n                  step=\"0.1\"\n                />\n              </div>\n              \n                              <div>\n                  <label className=\"block text-xs font-medium text-green-700 mb-1\">Sugar (g)</label>\n                  <input\n                    type=\"number\"\n                    value={manualMacros.sugar || ''}\n                    onChange={(e) => setManualMacros(prev => ({ ...prev, sugar: parseFloat(e.target.value) || 0 }))}\n                    className=\"w-full px-3 py-2 border border-green-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\"\n                    placeholder=\"0\"\n                    min=\"0\"\n                    step=\"0.1\"\n                  />\n                </div>\n              \n              <div>\n                <label className=\"block text-xs font-medium text-green-700 mb-1\">Sodium (mg)</label>\n                <input\n                  type=\"number\"\n                  value={manualMacros.sodium || ''}\n                  onChange={(e) => setManualMacros(prev => ({ ...prev, sodium: parseFloat(e.target.value) || 0 }))}\n                  className=\"w-full px-3 py-2 border border-green-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\"\n                  placeholder=\"0\"\n                  min=\"0\"\n                  step=\"0.1\"\n                />\n              </div>\n            </div>\n          </div>\n        </form>\n      </div>\n\n      {/* Daily Summary */}\n      {meals.length > 0 && (\n        <div className=\"card bg-primary-50 border-primary-200\">\n          <h3 className=\"text-lg font-semibold text-primary-800 mb-4\">Daily Summary</h3>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-primary-600\">{meals.length}</div>\n              <div className=\"text-sm text-primary-700\">Meals</div>\n            </div>\n            \n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-primary-600\">{dailyTotals.calories}</div>\n              <div className=\"text-sm text-primary-700\">Calories</div>\n            </div>\n            \n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-primary-600\">{dailyTotals.protein}g</div>\n              <div className=\"text-sm text-primary-700\">Protein</div>\n            </div>\n          </div>\n          \n          {/* Additional macros - secondary focus */}\n          <div className=\"grid grid-cols-2 md:grid-cols-5 gap-3 mt-4 pt-4 border-t border-primary-200\">\n            <div className=\"text-center\">\n              <div className=\"text-lg font-medium text-gray-600\">{dailyTotals.carbs}g</div>\n              <div className=\"text-xs text-gray-500\">Carbs</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-lg font-medium text-gray-600\">{dailyTotals.fat}g</div>\n              <div className=\"text-xs text-gray-500\">Fat</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-lg font-medium text-gray-600\">{dailyTotals.fiber}g</div>\n              <div className=\"text-xs text-gray-500\">Fiber</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-lg font-medium text-gray-600\">{dailyTotals.sugar}g</div>\n              <div className=\"text-xs text-gray-500\">Sugar</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-lg font-medium text-gray-600\">{dailyTotals.sodium}mg</div>\n              <div className=\"text-xs text-gray-500\">Sodium</div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Meals List */}\n      <div className=\"card\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n          Meals for {safeFormatDate(selectedDate, 'EEEE, MMMM d, yyyy')}\n        </h3>\n        \n        {loading ? (\n          <div className=\"flex items-center justify-center h-32\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600\"></div>\n          </div>\n        ) : meals.length === 0 ? (\n          <div className=\"text-center py-8 text-gray-500\">\n            <Utensils className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n            <p>No meals logged for this date</p>\n            <p className=\"text-sm\">Add your first meal above to get started!</p>\n          </div>\n        ) : (\n          <div className=\"space-y-3\">\n            {meals.map((meal) => (\n              <div key={meal.id} className=\"p-4 bg-gray-50 rounded-lg\">\n                {editingMeal === meal.id ? (\n                  // Edit Mode\n                  <div className=\"space-y-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center space-x-3\">\n                        <div className=\"text-2xl\">{getMealTypeIcon(meal.meal_type)}</div>\n                        <div>\n                          <span className={`px-2 py-1 rounded-full text-xs font-medium ${getMealTypeColor(meal.meal_type)}`}>\n                            {meal.meal_type.charAt(0).toUpperCase() + meal.meal_type.slice(1)}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    {/* Description field for editing */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n                      <input\n                        type=\"text\"\n                        value={editForm.description}\n                        onChange={(e) => setEditForm(prev => ({ ...prev, description: e.target.value }))}\n                        className=\"input w-full\"\n                        placeholder=\"Meal description\"\n                      />\n                    </div>\n                    \n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n                      <div>\n                        <label className=\"block text-xs font-medium text-gray-700 mb-1\">Calories</label>\n                        <input\n                          type=\"number\"\n                          value={editForm.calories}\n                          onChange={(e) => setEditForm(prev => ({ ...prev, calories: Number(e.target.value) }))}\n                          className=\"input text-sm w-full\"\n                          min=\"0\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-xs font-medium text-gray-700 mb-1\">Protein (g)</label>\n                        <input\n                          type=\"number\"\n                          value={editForm.protein}\n                          onChange={(e) => setEditForm(prev => ({ ...prev, protein: Number(e.target.value) }))}\n                          className=\"input text-sm w-full\"\n                          min=\"0\"\n                          step=\"0.1\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-xs font-medium text-gray-700 mb-1\">Carbs (g)</label>\n                        <input\n                          type=\"number\"\n                          value={editForm.carbs}\n                          onChange={(e) => setEditForm(prev => ({ ...prev, carbs: Number(e.target.value) }))}\n                          className=\"input text-sm w-full\"\n                          min=\"0\"\n                          step=\"0.1\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-xs font-medium text-gray-700 mb-1\">Fat (g)</label>\n                        <input\n                          type=\"number\"\n                          value={editForm.fat}\n                          onChange={(e) => setEditForm(prev => ({ ...prev, fat: Number(e.target.value) }))}\n                          className=\"input text-sm w-full\"\n                          min=\"0\"\n                          step=\"0.1\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-xs font-medium text-gray-700 mb-1\">Fiber (g)</label>\n                        <input\n                          type=\"number\"\n                          value={editForm.fiber}\n                          onChange={(e) => setEditForm(prev => ({ ...prev, fiber: Number(e.target.value) }))}\n                          className=\"input text-sm w-full\"\n                          min=\"0\"\n                          step=\"0.1\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-xs font-medium text-gray-700 mb-1\">Sugar (g)</label>\n                        <input\n                          type=\"number\"\n                          value={editForm.sugar}\n                          onChange={(e) => setEditForm(prev => ({ ...prev, sugar: Number(e.target.value) }))}\n                          className=\"input text-sm w-full\"\n                          min=\"0\"\n                          step=\"0.1\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-xs font-medium text-gray-700 mb-1\">Sodium (mg)</label>\n                        <input\n                          type=\"number\"\n                          value={editForm.sodium}\n                          onChange={(e) => setEditForm(prev => ({ ...prev, sodium: Number(e.target.value) }))}\n                          className=\"input text-sm w-full\"\n                          min=\"0\"\n                          step=\"0.1\"\n                        />\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex items-center justify-end space-x-2\">\n                      <button\n                        onClick={cancelEditMeal}\n                        className=\"px-3 py-1 text-sm text-gray-600 hover:text-gray-800 transition-colors\"\n                      >\n                        Cancel\n                      </button>\n                      <button\n                        onClick={() => handleEditMeal(meal.id)}\n                        className=\"px-3 py-1 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 transition-colors\"\n                      >\n                        Save Changes\n                      </button>\n                    </div>\n                  </div>\n                ) : (\n                  // View Mode\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center space-x-3\">\n                      <div className=\"text-2xl\">{getMealTypeIcon(meal.meal_type)}</div>\n                      \n                      <div>\n                        <div className=\"flex items-center space-x-2\">\n                          <span className={`px-2 py-1 rounded-full text-xs font-medium ${getMealTypeColor(meal.meal_type)}`}>\n                            {meal.meal_type.charAt(0).toUpperCase() + meal.meal_type.slice(1)}\n                          </span>\n                          <span className=\"text-sm text-gray-500\">\n                            {safeFormatDate(meal.created_at, 'h:mm a')}\n                          </span>\n                        </div>\n                        <p className=\"text-gray-900 font-medium\">\n                          {generateMealSummary(meal.description)}\n                        </p>\n                        <p className=\"text-xs text-gray-500 mt-1\" title={meal.description}>\n                          {meal.description.length > 50 ? `${meal.description.substring(0, 50)}...` : meal.description}\n                        </p>\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex items-center space-x-4\">\n                      <div className=\"text-right\">\n                        {/* Main focus - Calories and Protein */}\n                        <div className=\"flex items-center space-x-2 text-sm\">\n                          <Zap className=\"h-4 w-4 text-yellow-600\" />\n                          <span className=\"font-semibold text-lg\">{meal.calories} cal</span>\n                        </div>\n                        <div className=\"flex items-center space-x-2 text-sm\">\n                          <Beef className=\"h-4 w-4 text-red-600\" />\n                          <span className=\"font-semibold text-lg\">{meal.protein}g</span>\n                        </div>\n                        \n                        {/* Additional macros - smaller and less prominent */}\n                        <div className=\"flex items-center space-x-3 text-xs text-gray-500 mt-1\">\n                          <span>Carbs: {meal.carbs}g</span>\n                          <span>Fat: {meal.fat}g</span>\n                          <span>Fiber: {meal.fiber}g</span>\n                        </div>\n                      </div>\n                      \n                      <div className=\"flex items-center space-x-2\">\n                        <button\n                          onClick={() => handleAddToFavorites(meal)}\n                          disabled={favoritingMeal === meal.id}\n                          className=\"flex items-center space-x-1 px-2 py-1 text-xs bg-blue-50 text-blue-700 rounded hover:bg-blue-100 transition-colors disabled:opacity-50\"\n                          title=\"Save meal for quick access later\"\n                        >\n                          {favoritingMeal === meal.id ? (\n                            <>\n                              <Loader2 className=\"h-3 w-3 animate-spin\" />\n                              <span>Saving...</span>\n                            </>\n                          ) : (\n                            <>\n                              <Heart className=\"h-3 w-3\" />\n                              <span>Save</span>\n                            </>\n                          )}\n                        </button>\n                        <button\n                          onClick={() => startEditMeal(meal)}\n                          className=\"text-gray-400 hover:text-primary-600 transition-colors\"\n                          title=\"Edit meal\"\n                        >\n                          <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                          </svg>\n                        </button>\n                        <button\n                          onClick={() => handleDeleteMeal(meal.id)}\n                          className=\"text-gray-400 hover:text-danger-600 transition-colors\"\n                          title=\"Delete meal\"\n                        >\n                          <Trash2 className=\"h-4 w-4\" />\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Meal Type Selector Modal */}\n      {showMealTypeSelector && selectedSavedMeal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md mx-4\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">Add Saved Meal</h3>\n              <button\n                onClick={cancelQuickAdd}\n                className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n              >\n                <X className=\"h-5 w-5\" />\n              </button>\n            </div>\n            \n            <div className=\"mb-4\">\n              <div className=\"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg\">\n                <div className=\"text-2xl\">\n                  {selectedSavedMeal.meal_type === 'breakfast' ? '🍳' : \n                   selectedSavedMeal.meal_type === 'lunch' ? '🥗' : \n                   selectedSavedMeal.meal_type === 'dinner' ? '🍽️' : '🍎'}\n                </div>\n                <div>\n                  <p className=\"font-medium text-gray-900\">{selectedSavedMeal.name}</p>\n                  <p className=\"text-sm text-gray-500\">\n                    {selectedSavedMeal.calories} cal • {selectedSavedMeal.protein}g protein\n                  </p>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"mb-6\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Select meal type for today:\n              </label>\n              <select\n                value={quickAddMealType}\n                onChange={(e) => setQuickAddMealType(e.target.value)}\n                className=\"input w-full\"\n              >\n                <option value=\"breakfast\">🍳 Breakfast</option>\n                <option value=\"lunch\">🥗 Lunch</option>\n                <option value=\"dinner\">🍽️ Dinner</option>\n                <option value=\"snack\">🍎 Snack</option>\n              </select>\n            </div>\n            \n            <div className=\"flex space-x-3\">\n              <button\n                onClick={cancelQuickAdd}\n                className=\"flex-1 px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleQuickAddMeal}\n                disabled={addingMeal}\n                className=\"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 flex items-center justify-center space-x-2\"\n              >\n                {addingMeal ? (\n                  <>\n                    <Loader2 className=\"h-4 w-4 animate-spin\" />\n                    <span>Adding...</span>\n                  </>\n                ) : (\n                  <>\n                    <Plus className=\"h-4 w-4\" />\n                    <span>Add Meal</span>\n                  </>\n                )}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Inputs;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}