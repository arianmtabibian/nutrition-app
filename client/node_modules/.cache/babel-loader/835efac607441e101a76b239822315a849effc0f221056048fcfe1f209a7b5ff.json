{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from 'react';\n\n// Track user session to prevent inappropriate onboarding redirects\nexport const useUserSession = () => {\n  _s();\n  useEffect(() => {\n    // Mark that this user has accessed the app before\n    const hasAccessedApp = localStorage.getItem('hasAccessedApp');\n    if (!hasAccessedApp) {\n      localStorage.setItem('hasAccessedApp', 'true');\n      localStorage.setItem('firstAccess', new Date().toISOString());\n    }\n\n    // Update last access time\n    localStorage.setItem('lastAccess', new Date().toISOString());\n  }, []);\n  const hasAccessedAppBefore = () => {\n    return localStorage.getItem('hasAccessedApp') === 'true';\n  };\n  const getFirstAccessDate = () => {\n    const dateStr = localStorage.getItem('firstAccess');\n    return dateStr ? new Date(dateStr) : null;\n  };\n  const getLastAccessDate = () => {\n    const dateStr = localStorage.getItem('lastAccess');\n    return dateStr ? new Date(dateStr) : null;\n  };\n  return {\n    hasAccessedAppBefore,\n    getFirstAccessDate,\n    getLastAccessDate\n  };\n};\n_s(useUserSession, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");","map":{"version":3,"names":["useEffect","useUserSession","_s","hasAccessedApp","localStorage","getItem","setItem","Date","toISOString","hasAccessedAppBefore","getFirstAccessDate","dateStr","getLastAccessDate"],"sources":["C:/Users/arian/OneDrive/Desktop/Nutrition/client/src/hooks/useUserSession.ts"],"sourcesContent":["import { useEffect } from 'react';\r\n\r\n// Track user session to prevent inappropriate onboarding redirects\r\nexport const useUserSession = () => {\r\n  useEffect(() => {\r\n    // Mark that this user has accessed the app before\r\n    const hasAccessedApp = localStorage.getItem('hasAccessedApp');\r\n    if (!hasAccessedApp) {\r\n      localStorage.setItem('hasAccessedApp', 'true');\r\n      localStorage.setItem('firstAccess', new Date().toISOString());\r\n    }\r\n    \r\n    // Update last access time\r\n    localStorage.setItem('lastAccess', new Date().toISOString());\r\n  }, []);\r\n\r\n  const hasAccessedAppBefore = (): boolean => {\r\n    return localStorage.getItem('hasAccessedApp') === 'true';\r\n  };\r\n\r\n  const getFirstAccessDate = (): Date | null => {\r\n    const dateStr = localStorage.getItem('firstAccess');\r\n    return dateStr ? new Date(dateStr) : null;\r\n  };\r\n\r\n  const getLastAccessDate = (): Date | null => {\r\n    const dateStr = localStorage.getItem('lastAccess');\r\n    return dateStr ? new Date(dateStr) : null;\r\n  };\r\n\r\n  return {\r\n    hasAccessedAppBefore,\r\n    getFirstAccessDate,\r\n    getLastAccessDate\r\n  };\r\n};\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;;AAEjC;AACA,OAAO,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClCF,SAAS,CAAC,MAAM;IACd;IACA,MAAMG,cAAc,GAAGC,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC;IAC7D,IAAI,CAACF,cAAc,EAAE;MACnBC,YAAY,CAACE,OAAO,CAAC,gBAAgB,EAAE,MAAM,CAAC;MAC9CF,YAAY,CAACE,OAAO,CAAC,aAAa,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC;IAC/D;;IAEA;IACAJ,YAAY,CAACE,OAAO,CAAC,YAAY,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC;EAC9D,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,oBAAoB,GAAGA,CAAA,KAAe;IAC1C,OAAOL,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC,KAAK,MAAM;EAC1D,CAAC;EAED,MAAMK,kBAAkB,GAAGA,CAAA,KAAmB;IAC5C,MAAMC,OAAO,GAAGP,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;IACnD,OAAOM,OAAO,GAAG,IAAIJ,IAAI,CAACI,OAAO,CAAC,GAAG,IAAI;EAC3C,CAAC;EAED,MAAMC,iBAAiB,GAAGA,CAAA,KAAmB;IAC3C,MAAMD,OAAO,GAAGP,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;IAClD,OAAOM,OAAO,GAAG,IAAIJ,IAAI,CAACI,OAAO,CAAC,GAAG,IAAI;EAC3C,CAAC;EAED,OAAO;IACLF,oBAAoB;IACpBC,kBAAkB;IAClBE;EACF,CAAC;AACH,CAAC;AAACV,EAAA,CAhCWD,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}