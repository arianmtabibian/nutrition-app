{"ast":null,"code":"import _objectSpread from\"C:/Users/arian/OneDrive/Desktop/Nutrition/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{format,startOfWeek,endOfWeek,eachDayOfInterval,addDays,subDays,isToday}from'date-fns';import{Target,Flame,Beef,TrendingUp,Calendar,Zap,Plus,Utensils,Clock,Edit2,Save,X,Loader2,Heart,ChevronLeft,ChevronRight,BarChart3}from'lucide-react';import{profileAPI,mealsAPI,favoritesAPI}from'../services/api';import{generateMealSummary}from'../utils/mealSummary';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";// Weight Analysis Component\nconst WeightAnalysis=_ref=>{let{currentWeight,targetWeight,dailyCalorieGoal}=_ref;const[weeklyData,setWeeklyData]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{loadWeeklyData();},[]);const loadWeeklyData=async()=>{try{setLoading(true);const endDate=format(new Date(),'yyyy-MM-dd');const startDate=format(new Date(Date.now()-7*24*60*60*1000),'yyyy-MM-dd');// Get meals for the past week\nconst response=await mealsAPI.getByRange(startDate,endDate);const meals=response.data.meals||[];// Group meals by date and calculate daily totals\nconst dailyTotals=meals.reduce((acc,meal)=>{const date=meal.meal_date;if(!acc[date]){acc[date]={calories:0,protein:0};}acc[date].calories+=meal.calories||0;acc[date].protein+=meal.protein||0;return acc;},{});// Convert to array and sort by date\nconst weeklyDataArray=Object.entries(dailyTotals).map(_ref2=>{let[date,totals]=_ref2;return{date,calories:totals.calories,deficit:dailyCalorieGoal-totals.calories};}).sort((a,b)=>new Date(a.date).getTime()-new Date(b.date).getTime());setWeeklyData(weeklyDataArray);}catch(error){console.error('Failed to load weekly data:',error);}finally{setLoading(false);}};const weightDifference=targetWeight-currentWeight;const isWeightLoss=weightDifference<0;const absWeightDifference=Math.abs(weightDifference);// Calculate average daily calorie deficit/surplus over the past week\nconst averageDailyDeficit=weeklyData.length>0?weeklyData.reduce((sum,day)=>sum+day.deficit,0)/weeklyData.length:0;// Calculate time to reach target weight\n// 1 lb of fat = approximately 3,500 calories\nconst caloriesPerLb=3500;const totalCaloriesNeeded=absWeightDifference*caloriesPerLb;const daysToTarget=averageDailyDeficit!==0?Math.abs(totalCaloriesNeeded/averageDailyDeficit):0;const weeksToTarget=daysToTarget/7;if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center py-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold text-gray-900\",children:[currentWeight,\" lbs\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Current Weight\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold text-primary-600\",children:[targetWeight,\" lbs\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Target Weight\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold \".concat(isWeightLoss?'text-green-600':'text-orange-600'),children:[absWeightDifference.toFixed(1),\" lbs\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-600\",children:[\"to \",isWeightLoss?'Lose':'Gain']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold \".concat(averageDailyDeficit>0?'text-green-600':'text-orange-600'),children:Math.abs(averageDailyDeficit).toFixed(0)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-600\",children:[averageDailyDeficit>0?'Cal Deficit':'Cal Surplus',\"/day\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-4 border border-blue-200\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-blue-900 mb-3\",children:\"Weekly Progress Analysis\"}),weeklyData.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[\"Average daily calorie \",averageDailyDeficit>0?'deficit':'surplus',\":\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium \".concat(averageDailyDeficit>0?'text-green-600':'text-orange-600'),children:[Math.abs(averageDailyDeficit).toFixed(0),\" calories\"]})]}),averageDailyDeficit!==0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"At this pace, you'll reach your target in:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-blue-600\",children:daysToTarget<30?\"\".concat(Math.round(daysToTarget),\" days\"):\"\".concat(weeksToTarget.toFixed(1),\" weeks\")})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-2\",children:\"* Based on past week's average calorie intake vs. your daily goal\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:\"No meal data available for the past week. Add meals to see your progress analysis.\"})]})]});};// Helper functions for meal display\nconst getMealTypeIcon=mealType=>{const icons={breakfast:'ðŸ³',lunch:'ðŸ¥—',dinner:'ðŸ½ï¸',snack:'ðŸŽ'};return icons[mealType.toLowerCase()]||'ðŸ½ï¸';};const getMealTypeColor=mealType=>{const colors={breakfast:'bg-yellow-100 text-yellow-800',lunch:'bg-green-100 text-green-800',dinner:'bg-blue-100 text-blue-800',snack:'bg-purple-100 text-purple-800'};return colors[mealType.toLowerCase()]||'bg-gray-100 text-gray-800';};const safeFormatDate=(dateString,formatStr)=>{try{return format(new Date(dateString),formatStr);}catch(error){return dateString;}};const Overview=()=>{const[profile,setProfile]=useState(null);const[todayNutrition,setTodayNutrition]=useState(null);const[todayMeals,setTodayMeals]=useState([]);// Helper function for greeting\nconst getGreeting=()=>{const hour=new Date().getHours();if(hour<12)return'Morning';if(hour<17)return'Afternoon';return'Evening';};const[loading,setLoading]=useState(true);const[today]=useState(format(new Date(),'yyyy-MM-dd'));const[editingMeal,setEditingMeal]=useState(null);const[editForm,setEditForm]=useState({description:'',calories:0,protein:0,carbs:0,fat:0,fiber:0,sugar:0,sodium:0});const[updatingMeal,setUpdatingMeal]=useState(false);const[showAddMealForm,setShowAddMealForm]=useState(false);const[newMeal,setNewMeal]=useState({meal_type:'breakfast',description:''});const[manualMacros,setManualMacros]=useState({calories:0,protein:0,carbs:0,fat:0,fiber:0,sugar:0,sodium:0});const[addingMeal,setAddingMeal]=useState(false);const[favoritingMeal,setFavoritingMeal]=useState(null);const[favorites,setFavorites]=useState([]);const[loadingFavorites,setLoadingFavorites]=useState(false);const[showFavorites,setShowFavorites]=useState(false);const[showMealTypeSelector,setShowMealTypeSelector]=useState(false);const[selectedSavedMeal,setSelectedSavedMeal]=useState(null);const[quickAddMealType,setQuickAddMealType]=useState('breakfast');const[weekData,setWeekData]=useState([]);const[weekStartDate,setWeekStartDate]=useState(new Date());const[weeklyStats,setWeeklyStats]=useState({averageDeficit:0,daysWithData:0,loading:false});const[lastRefresh,setLastRefresh]=useState(0);useEffect(()=>{loadOverviewData();loadFavorites();loadWeekData();},[]);useEffect(()=>{loadWeekData();},[weekStartDate]);const loadOverviewData=async()=>{try{var _profileResponse$data,_profileResponse$data2,_profileResponse$data3,_profileResponse$data4;setLoading(true);// Load user profile\nconst profileResponse=await profileAPI.get();if(profileResponse.data.profile){setProfile(profileResponse.data.profile);}// Load today's meals directly to calculate totals\nconst mealsResponse=await mealsAPI.getByDate(today);console.log('Meals response:',mealsResponse.data);// Calculate totals from meals\nconst meals=mealsResponse.data.meals||[];setTodayMeals(meals);// Store meals for display\nconst totalCalories=meals.reduce((sum,meal)=>sum+(meal.calories||0),0);const totalProtein=meals.reduce((sum,meal)=>sum+(meal.protein||0),0);const totalCarbs=meals.reduce((sum,meal)=>sum+(meal.carbs||0),0);const totalFat=meals.reduce((sum,meal)=>sum+(meal.fat||0),0);const totalFiber=meals.reduce((sum,meal)=>sum+(meal.fiber||0),0);const totalSugar=meals.reduce((sum,meal)=>sum+(meal.sugar||0),0);const totalSodium=meals.reduce((sum,meal)=>sum+(meal.sodium||0),0);// Create nutrition data object\nconst nutritionData={total_calories:totalCalories,total_protein:totalProtein,total_carbs:totalCarbs,total_fat:totalFat,total_fiber:totalFiber,total_sugar:totalSugar,total_sodium:totalSodium,calories_goal:((_profileResponse$data=profileResponse.data.profile)===null||_profileResponse$data===void 0?void 0:_profileResponse$data.daily_calories)||0,protein_goal:((_profileResponse$data2=profileResponse.data.profile)===null||_profileResponse$data2===void 0?void 0:_profileResponse$data2.daily_protein)||0,calories_met:totalCalories>=(((_profileResponse$data3=profileResponse.data.profile)===null||_profileResponse$data3===void 0?void 0:_profileResponse$data3.daily_calories)||0),protein_met:totalProtein>=(((_profileResponse$data4=profileResponse.data.profile)===null||_profileResponse$data4===void 0?void 0:_profileResponse$data4.daily_protein)||0),date:today};console.log('Calculated nutrition data:',nutritionData);setTodayNutrition(nutritionData);}catch(error){console.error('Failed to load overview data:',error);}finally{setLoading(false);}};// Refresh data when component mounts or when today changes\nuseEffect(()=>{loadOverviewData();},[today]);// Add a manual refresh function\nconst refreshData=()=>{loadOverviewData();};// Meal editing functions\nconst startEditMeal=meal=>{setEditingMeal(meal.id);setEditForm({description:meal.description,calories:meal.calories,protein:meal.protein,carbs:meal.carbs,fat:meal.fat,fiber:meal.fiber,sugar:meal.sugar,sodium:meal.sodium});};const cancelEditMeal=()=>{setEditingMeal(null);setEditForm({description:'',calories:0,protein:0,carbs:0,fat:0,fiber:0,sugar:0,sodium:0});};const handleEditMeal=async mealId=>{setUpdatingMeal(true);try{await mealsAPI.update(mealId,editForm);// Update the local state\nsetTodayMeals(prev=>prev.map(meal=>meal.id===mealId?_objectSpread(_objectSpread({},meal),editForm):meal));// Refresh overview data to update totals\nawait loadOverviewData();setEditingMeal(null);// Notify other components about the meal update\nwindow.dispatchEvent(new CustomEvent('mealDataChanged'));window.dispatchEvent(new CustomEvent('sidebarRefresh'));window.dispatchEvent(new CustomEvent('calendarRefresh'));}catch(error){var _error$response,_error$response$data;console.error('Failed to update meal:',error);alert(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Failed to update meal');}finally{setUpdatingMeal(false);}};// Meal creation functions\nconst handleAddMeal=async isManual=>{if(!newMeal.description.trim()){alert('Please enter a meal description');return;}setAddingMeal(true);try{const mealData=_objectSpread({meal_date:today,meal_type:newMeal.meal_type,description:newMeal.description},isManual?manualMacros:{});await mealsAPI.add(mealData);// Reset form\nsetNewMeal({meal_type:'breakfast',description:''});setManualMacros({calories:0,protein:0,carbs:0,fat:0,fiber:0,sugar:0,sodium:0});setShowAddMealForm(false);// Refresh data\nawait loadOverviewData();// Notify other components\nwindow.dispatchEvent(new CustomEvent('mealAdded'));window.dispatchEvent(new CustomEvent('mealDataChanged'));window.dispatchEvent(new CustomEvent('sidebarRefresh'));window.dispatchEvent(new CustomEvent('calendarRefresh'));}catch(error){var _error$response2,_error$response2$data;console.error('Failed to add meal:',error);alert(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||'Failed to add meal');}finally{setAddingMeal(false);}};const cancelAddMeal=()=>{setShowAddMealForm(false);setNewMeal({meal_type:'breakfast',description:''});setManualMacros({calories:0,protein:0,carbs:0,fat:0,fiber:0,sugar:0,sodium:0});};// Save meal function\nconst handleAddToFavorites=async meal=>{setFavoritingMeal(meal.id);try{await favoritesAPI.createFromMeal(meal.id);// Could add a toast notification here if desired\n}catch(error){var _error$response3;if(((_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.status)===409){alert('This meal is already saved');}else{alert('Failed to save meal');}}finally{setFavoritingMeal(null);}};const loadFavorites=async()=>{setLoadingFavorites(true);try{const response=await favoritesAPI.getAll();setFavorites(response.data.favorites||[]);}catch(error){console.error('Failed to load favorites:',error);}finally{setLoadingFavorites(false);}};const handleSelectFromFavorites=favorite=>{setSelectedSavedMeal(favorite);setQuickAddMealType(favorite.meal_type);// Default to the saved meal type\nsetShowMealTypeSelector(true);};const handleQuickAddMeal=async()=>{if(!selectedSavedMeal)return;setAddingMeal(true);try{const mealData={meal_date:today,meal_type:quickAddMealType,description:selectedSavedMeal.description,calories:selectedSavedMeal.calories||0,protein:selectedSavedMeal.protein||0,carbs:selectedSavedMeal.carbs||0,fat:selectedSavedMeal.fat||0,fiber:selectedSavedMeal.fiber||0,sugar:selectedSavedMeal.sugar||0,sodium:selectedSavedMeal.sodium||0};await mealsAPI.add(mealData);// Close modal and reset\nsetShowMealTypeSelector(false);setSelectedSavedMeal(null);setShowAddMealForm(false);// Also close the add meal form if open\n// Refresh data\nawait loadOverviewData();// Notify other components\nwindow.dispatchEvent(new CustomEvent('mealAdded'));window.dispatchEvent(new CustomEvent('mealDataChanged'));window.dispatchEvent(new CustomEvent('sidebarRefresh'));window.dispatchEvent(new CustomEvent('calendarRefresh'));}catch(error){var _error$response4,_error$response4$data;console.error('Failed to add meal:',error);alert(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.error)||'Failed to add meal');}finally{setAddingMeal(false);}};const cancelQuickAdd=()=>{setShowMealTypeSelector(false);setSelectedSavedMeal(null);setQuickAddMealType('breakfast');};const loadWeekData=async()=>{setWeeklyStats(prev=>_objectSpread(_objectSpread({},prev),{},{loading:true}));try{const currentWeekStart=startOfWeek(weekStartDate,{weekStartsOn:0});const weekDays=eachDayOfInterval({start:currentWeekStart,end:endOfWeek(currentWeekStart,{weekStartsOn:0})});// Get user's profile for goals\nlet dailyCalorieGoal=2000;let dailyProteinGoal=150;try{var _profileResponse$data5,_profileResponse$data6;const profileResponse=await profileAPI.get();if((_profileResponse$data5=profileResponse.data.profile)!==null&&_profileResponse$data5!==void 0&&_profileResponse$data5.daily_calories){dailyCalorieGoal=profileResponse.data.profile.daily_calories;}if((_profileResponse$data6=profileResponse.data.profile)!==null&&_profileResponse$data6!==void 0&&_profileResponse$data6.daily_protein){dailyProteinGoal=profileResponse.data.profile.daily_protein;}}catch(error){console.error('Failed to get profile for goals:',error);}const weekDataPromises=weekDays.map(async day=>{const dateStr=format(day,'yyyy-MM-dd');try{const response=await mealsAPI.getByDate(dateStr);const meals=response.data.meals||[];const dayTotals=meals.reduce((acc,meal)=>{acc.calories+=meal.calories||0;acc.protein+=meal.protein||0;return acc;},{calories:0,protein:0});return{date:dateStr,dayOfWeek:format(day,'EEE'),dayNumber:format(day,'d'),calories:dayTotals.calories,protein:dayTotals.protein,caloriesGoal:dailyCalorieGoal,proteinGoal:dailyProteinGoal,caloriesMet:dayTotals.calories<=dailyCalorieGoal,proteinMet:dayTotals.protein>=dailyProteinGoal,bothMet:dayTotals.calories<=dailyCalorieGoal&&dayTotals.protein>=dailyProteinGoal,hasData:meals.length>0,isToday:isToday(day)};}catch(error){return{date:dateStr,dayOfWeek:format(day,'EEE'),dayNumber:format(day,'d'),calories:0,protein:0,caloriesGoal:dailyCalorieGoal,proteinGoal:dailyProteinGoal,caloriesMet:false,proteinMet:false,bothMet:false,hasData:false,isToday:isToday(day)};}});const weekResults=await Promise.all(weekDataPromises);setWeekData(weekResults);// Calculate weekly stats\nconst daysWithData=weekResults.filter(day=>day.hasData);const averageDeficit=daysWithData.length>0?daysWithData.reduce((sum,day)=>sum+(day.caloriesGoal-day.calories),0)/daysWithData.length:0;setWeeklyStats({averageDeficit:Math.round(averageDeficit),daysWithData:daysWithData.length,loading:false});}catch(error){console.error('Failed to load week data:',error);setWeeklyStats(prev=>_objectSpread(_objectSpread({},prev),{},{loading:false}));}};const navigateWeek=direction=>{setWeekStartDate(prev=>direction==='prev'?subDays(prev,7):addDays(prev,7));};// Remove aggressive auto-refresh - only refresh on user actions or events\n// Refresh data when the tab becomes visible (user switches back to this tab)\nuseEffect(()=>{const handleVisibilityChange=()=>{if(!document.hidden){console.log('Tab became visible, refreshing data...');loadOverviewData();}};document.addEventListener('visibilitychange',handleVisibilityChange);return()=>document.removeEventListener('visibilitychange',handleVisibilityChange);},[]);// Listen for storage events to refresh when meals are added from other tabs\nuseEffect(()=>{const handleStorageChange=e=>{if(e.key==='mealAdded'||e.key==='mealDeleted'){console.log('Storage event detected, refreshing data...');loadOverviewData();}};// Also listen for custom events that can be triggered from the same tab\nconst handleCustomEvent=()=>{const now=Date.now();// Throttle refreshing to prevent excessive calls (max once every 2 seconds)\nif(now-lastRefresh>2000){console.log('Custom event detected, refreshing data...');setLastRefresh(now);loadOverviewData();loadWeekData();}};window.addEventListener('storage',handleStorageChange);window.addEventListener('mealDataChanged',handleCustomEvent);return()=>{window.removeEventListener('storage',handleStorageChange);window.removeEventListener('mealDataChanged',handleCustomEvent);};},[]);const calculateRemaining=(consumed,goal)=>{return Math.max(0,goal-consumed);};const calculateProgress=(consumed,goal)=>{return Math.min(100,consumed/goal*100);};const getProgressColor=progress=>{if(progress>=100)return'bg-success-500';return'bg-primary-500';};const getStatusIcon=met=>{return met?/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-success-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"w-5 h-5 text-success-600\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Target,{className:\"w-5 h-5 text-gray-500\"})});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600\"})});}// Debug information (remove this in production)\nconsole.log('Overview component state:',{profile,todayNutrition,today});if(!profile){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Target,{className:\"h-16 w-16 mx-auto mb-4 text-gray-300\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No Profile Set\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:\"Set your daily nutrition goals in the Profile tab to see your overview.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href='/dashboard/profile',className:\"btn-primary\",children:\"Set Goals\"})]});}// Show message if no nutrition data for today (check if we have actual meal data)\nif(!todayNutrition||todayNutrition.total_calories===0&&todayNutrition.total_protein===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Daily Overview\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Track your nutrition progress for today\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:refreshData,className:\"btn-secondary flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Zap,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Refresh\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:format(new Date(),'EEEE, MMMM d, yyyy')})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Flame,{className:\"h-16 w-16 mx-auto mb-4 text-gray-300\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No Meals Logged Today\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:\"Start tracking your nutrition by adding your first meal of the day.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href='/dashboard/inputs',className:\"btn-primary\",children:\"Add Meal\"}),/*#__PURE__*/_jsx(\"button\",{onClick:refreshData,className:\"btn-secondary\",children:\"Refresh Data\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Flame,{className:\"w-6 h-6 text-orange-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Calories\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Daily Goal\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Target,{className:\"w-5 h-5 text-gray-500\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-gray-900\",children:\"0\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg text-gray-500\",children:[\"/ \",profile.daily_calories]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-3 rounded-full transition-all duration-300 bg-gray-300\",style:{width:'0%'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center text-sm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[profile.daily_calories,\" left\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900\",children:\"0%\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Beef,{className:\"w-6 h-6 text-red-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Protein\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Daily Goal\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Target,{className:\"w-5 h-5 text-gray-500\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-gray-900\",children:\"0g\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg text-gray-500\",children:[\"/ \",profile.daily_protein,\"g\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-3 rounded-full transition-all duration-300 bg-gray-300\",style:{width:'0%'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center text-sm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[profile.daily_protein,\"g left\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900\",children:\"0%\"})]})]})]})]})]});}// Ensure we have valid numbers for calculations\nconst currentCalories=(todayNutrition===null||todayNutrition===void 0?void 0:todayNutrition.total_calories)||0;const currentProtein=(todayNutrition===null||todayNutrition===void 0?void 0:todayNutrition.total_protein)||0;const caloriesGoal=profile.daily_calories||0;const proteinGoal=profile.daily_protein||0;const caloriesRemaining=calculateRemaining(currentCalories,caloriesGoal);const proteinRemaining=calculateRemaining(currentProtein,proteinGoal);const caloriesProgress=calculateProgress(currentCalories,caloriesGoal);const proteinProgress=calculateProgress(currentProtein,proteinGoal);return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl font-bold text-gray-900 mb-1\",children:[\"Good \",getGreeting(),\"! \\uD83D\\uDC4B\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Here's your nutrition snapshot for \",format(new Date(),'MMMM d')]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:refreshData,className:\"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2 font-medium\",children:[/*#__PURE__*/_jsx(Zap,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Refresh\"})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(BarChart3,{className:\"h-5 w-5 text-orange-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Weekly Progress\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Your 7-day nutrition journey\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 text-xs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-green-100 rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Goals Met\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-orange-100 rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Today\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-yellow-100 rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Partial\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-gray-100 rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"No Data\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateWeek('prev'),className:\"p-1 hover:bg-gray-100 rounded transition-colors\",children:/*#__PURE__*/_jsx(ChevronLeft,{className:\"h-4 w-4 text-gray-600\"})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-gray-700\",children:[format(startOfWeek(weekStartDate,{weekStartsOn:0}),'MMM d'),\" - \",format(endOfWeek(weekStartDate,{weekStartsOn:0}),'MMM d')]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateWeek('next'),className:\"p-1 hover:bg-gray-100 rounded transition-colors\",children:/*#__PURE__*/_jsx(ChevronRight,{className:\"h-4 w-4 text-gray-600\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-3 flex-1 mr-6\",children:weekData.map(day=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center p-3 rounded-lg text-xs font-medium transition-colors flex-1 \".concat(day.isToday?'bg-orange-100 text-orange-800':day.bothMet?'bg-green-100 text-green-800':day.hasData?'bg-yellow-100 text-yellow-800':'bg-gray-100 text-gray-500'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs\",children:day.dayOfWeek}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-bold\",children:day.dayNumber}),day.hasData&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs mt-1\",children:/*#__PURE__*/_jsxs(\"div\",{children:[day.calories,\"cal\"]})})]},day.date))}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:weeklyStats.loading?/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mx-auto\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold \".concat(weeklyStats.averageDeficit>0?'text-green-600':weeklyStats.averageDeficit<0?'text-orange-600':'text-gray-600'),children:[weeklyStats.averageDeficit>0?'-':weeklyStats.averageDeficit<0?'+':'',Math.abs(weeklyStats.averageDeficit)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-600\",children:[weeklyStats.averageDeficit>0?'Deficit':weeklyStats.averageDeficit<0?'Surplus':'Maintenance',\" avg\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[weeklyStats.daysWithData,\"/7 days logged\"]})]})})]})]}),profile.weight&&profile.target_weight&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"h-5 w-5 text-orange-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Weight Progress Analysis\"})]}),/*#__PURE__*/_jsx(WeightAnalysis,{currentWeight:profile.weight,targetWeight:profile.target_weight,dailyCalorieGoal:profile.daily_calories})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Flame,{className:\"w-5 h-5 text-orange-600\"})}),getStatusIcon((todayNutrition===null||todayNutrition===void 0?void 0:todayNutrition.calories_met)||false)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-bold text-gray-900\",children:currentCalories}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-orange-600 font-medium\",children:[\"of \",caloriesGoal,\" calories\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-orange-500 h-2 rounded-full transition-all duration-500\",style:{width:\"\".concat(Math.min(caloriesProgress,100),\"%\")}})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Beef,{className:\"w-5 h-5 text-green-600\"})}),getStatusIcon((todayNutrition===null||todayNutrition===void 0?void 0:todayNutrition.protein_met)||false)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl font-bold text-gray-900\",children:[currentProtein,\"g\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-green-600 font-medium\",children:[\"of \",proteinGoal,\"g protein\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-500 h-2 rounded-full transition-all duration-500\",style:{width:\"\".concat(Math.min(proteinProgress,100),\"%\")}})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Target,{className:\"w-5 h-5 text-blue-600\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-bold text-gray-900\",children:caloriesRemaining}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-blue-600 font-medium\",children:\"calories remaining\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-blue-700 bg-blue-100 px-2 py-1 rounded-full inline-block\",children:[Math.round(caloriesProgress),\"% complete\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Zap,{className:\"w-5 h-5 text-purple-600\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl font-bold text-gray-900\",children:[proteinRemaining,\"g\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-purple-600 font-medium\",children:\"protein remaining\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-purple-700 bg-purple-100 px-2 py-1 rounded-full inline-block\",children:[Math.round(proteinProgress),\"% complete\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 shadow-sm border border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-purple-100 rounded-xl flex items-center justify-center mr-3\",children:/*#__PURE__*/_jsx(BarChart3,{className:\"w-4 h-4 text-purple-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Other Nutrients\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-5 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl font-bold text-purple-600\",children:[(todayNutrition===null||todayNutrition===void 0?void 0:todayNutrition.total_carbs)||0,\"g\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:\"Carbs\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl font-bold text-yellow-600\",children:[(todayNutrition===null||todayNutrition===void 0?void 0:todayNutrition.total_fat)||0,\"g\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:\"Fat\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl font-bold text-green-600\",children:[(todayNutrition===null||todayNutrition===void 0?void 0:todayNutrition.total_fiber)||0,\"g\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:\"Fiber\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl font-bold text-pink-600\",children:[(todayNutrition===null||todayNutrition===void 0?void 0:todayNutrition.total_sugar)||0,\"g\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:\"Sugar\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl font-bold text-indigo-600\",children:[(todayNutrition===null||todayNutrition===void 0?void 0:todayNutrition.total_sodium)||0,\"mg\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:\"Sodium\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 shadow-sm border border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center mr-3\",children:/*#__PURE__*/_jsx(Zap,{className:\"w-4 h-4 text-orange-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Quick Actions\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.location.href='/dashboard/inputs',className:\"flex items-center space-x-4 p-4 bg-gray-50 hover:bg-gray-100 rounded-lg border border-gray-200 transition-all duration-200 group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Plus,{className:\"w-6 h-6 text-gray-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-gray-900\",children:\"Add Meal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Log your nutrition\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.location.href='/dashboard/profile',className:\"flex items-center space-x-4 p-4 bg-gray-50 hover:bg-gray-100 rounded-lg border border-gray-200 transition-all duration-200 group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Target,{className:\"w-6 h-6 text-gray-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-gray-900\",children:\"Update Goals\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Adjust your targets\"})]})]})]})]}),todayMeals.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Today's Meals\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddMealForm(!showAddMealForm),className:\"flex items-center space-x-2 px-3 py-1 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:showAddMealForm?'Cancel':'Add Meal'})]})]}),showAddMealForm&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Add New Meal\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Meal Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:newMeal.meal_type,onChange:e=>setNewMeal(prev=>_objectSpread(_objectSpread({},prev),{},{meal_type:e.target.value})),className:\"input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"breakfast\",children:\"Breakfast\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lunch\",children:\"Lunch\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dinner\",children:\"Dinner\"}),/*#__PURE__*/_jsx(\"option\",{value:\"snack\",children:\"Snack\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Meal Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newMeal.description,onChange:e=>setNewMeal(prev=>_objectSpread(_objectSpread({},prev),{},{description:e.target.value})),className:\"input\",placeholder:\"e.g., Grilled chicken breast with brown rice and vegetables\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Zap,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"AI will analyze your meal and calculate all nutrition values\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleAddMeal(false),disabled:addingMeal,className:\"btn-primary flex items-center space-x-2 flex-1\",children:addingMeal?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader2,{className:\"animate-spin h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Analyzing meal...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Zap,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add Meal Using AI\"})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleAddMeal(true),disabled:addingMeal,className:\"flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors duration-200 flex-1 bg-green-600 hover:bg-green-700 text-white\",children:addingMeal?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader2,{className:\"animate-spin h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Adding meal...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add Manual Entry\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-medium text-gray-700 mb-3\",children:\"Manual Nutrition Values (Optional)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Calories\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:manualMacros.calories,onChange:e=>setManualMacros(prev=>_objectSpread(_objectSpread({},prev),{},{calories:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Protein (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:manualMacros.protein,onChange:e=>setManualMacros(prev=>_objectSpread(_objectSpread({},prev),{},{protein:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\",step:\"0.1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Carbs (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:manualMacros.carbs,onChange:e=>setManualMacros(prev=>_objectSpread(_objectSpread({},prev),{},{carbs:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\",step:\"0.1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Fat (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:manualMacros.fat,onChange:e=>setManualMacros(prev=>_objectSpread(_objectSpread({},prev),{},{fat:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\",step:\"0.1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Fiber (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:manualMacros.fiber,onChange:e=>setManualMacros(prev=>_objectSpread(_objectSpread({},prev),{},{fiber:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\",step:\"0.1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Sugar (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:manualMacros.sugar,onChange:e=>setManualMacros(prev=>_objectSpread(_objectSpread({},prev),{},{sugar:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\",step:\"0.1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Sodium (mg)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:manualMacros.sodium,onChange:e=>setManualMacros(prev=>_objectSpread(_objectSpread({},prev),{},{sodium:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\",step:\"0.1\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:cancelAddMeal,className:\"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors\",children:\"Cancel\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:todayMeals.map(meal=>/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-gray-50 rounded-lg\",children:editingMeal===meal.id?/*#__PURE__*/// Edit Mode\n_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900\",children:\"Edit Meal\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditMeal(meal.id),disabled:updatingMeal,className:\"flex items-center space-x-1 px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors disabled:opacity-50\",children:updatingMeal?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader2,{className:\"h-3 w-3 animate-spin\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Saving...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Save,{className:\"h-3 w-3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Save\"})]})}),/*#__PURE__*/_jsxs(\"button\",{onClick:cancelEditMeal,disabled:updatingMeal,className:\"flex items-center space-x-1 px-3 py-1 bg-gray-500 text-white rounded text-sm hover:bg-gray-600 transition-colors disabled:opacity-50\",children:[/*#__PURE__*/_jsx(X,{className:\"h-3 w-3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Cancel\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editForm.description,onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{description:e.target.value})),className:\"input w-full\",placeholder:\"Meal description\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Calories\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editForm.calories,onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{calories:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Protein (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editForm.protein,onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{protein:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\",step:\"0.1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Carbs (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editForm.carbs,onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{carbs:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\",step:\"0.1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Fat (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editForm.fat,onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{fat:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\",step:\"0.1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Fiber (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editForm.fiber,onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{fiber:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\",step:\"0.1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Sugar (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editForm.sugar,onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{sugar:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\",step:\"0.1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Sodium (mg)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editForm.sodium,onChange:e=>setEditForm(prev=>_objectSpread(_objectSpread({},prev),{},{sodium:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\",step:\"0.1\"})]})]})]}):/*#__PURE__*/// View Mode\n_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl\",children:getMealTypeIcon(meal.meal_type)}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-medium \".concat(getMealTypeColor(meal.meal_type)),children:meal.meal_type.charAt(0).toUpperCase()+meal.meal_type.slice(1)}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-3 h-3 inline mr-1\"}),safeFormatDate(meal.created_at,'h:mm a')]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900 font-medium\",children:generateMealSummary(meal.description)}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",title:meal.description,children:meal.description.length>40?\"\".concat(meal.description.substring(0,40),\"...\"):meal.description})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm\",children:[/*#__PURE__*/_jsx(Zap,{className:\"h-4 w-4 text-yellow-600\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-lg\",children:[meal.calories,\" cal\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm\",children:[/*#__PURE__*/_jsx(Beef,{className:\"h-4 w-4 text-red-600\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-lg\",children:[meal.protein,\"g\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 text-xs text-gray-500 mt-1\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Carbs: \",meal.carbs,\"g\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Fat: \",meal.fat,\"g\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Fiber: \",meal.fiber,\"g\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAddToFavorites(meal),disabled:favoritingMeal===meal.id,className:\"flex items-center space-x-1 px-2 py-1 text-xs bg-blue-50 text-blue-700 rounded hover:bg-blue-100 transition-colors disabled:opacity-50\",title:\"Save meal for quick access later\",children:favoritingMeal===meal.id?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader2,{className:\"h-3 w-3 animate-spin\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Saving...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Heart,{className:\"h-3 w-3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Save\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>startEditMeal(meal),className:\"text-gray-400 hover:text-primary-600 transition-colors p-1\",title:\"Edit meal\",children:/*#__PURE__*/_jsx(Edit2,{className:\"h-4 w-4\"})})]})]})]})},meal.id))})]}),todayMeals.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Add Your First Meal Today\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddMealForm(!showAddMealForm),className:\"flex items-center space-x-2 px-3 py-1 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:showAddMealForm?'Cancel':'Add Meal'})]})]}),showAddMealForm&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Add New Meal\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Meal Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:newMeal.meal_type,onChange:e=>setNewMeal(prev=>_objectSpread(_objectSpread({},prev),{},{meal_type:e.target.value})),className:\"input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"breakfast\",children:\"Breakfast\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lunch\",children:\"Lunch\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dinner\",children:\"Dinner\"}),/*#__PURE__*/_jsx(\"option\",{value:\"snack\",children:\"Snack\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Meal Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newMeal.description,onChange:e=>setNewMeal(prev=>_objectSpread(_objectSpread({},prev),{},{description:e.target.value})),className:\"input\",placeholder:\"e.g., Grilled chicken breast with brown rice and vegetables\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Zap,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"AI will analyze your meal and calculate all nutrition values\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleAddMeal(false),disabled:addingMeal,className:\"btn-primary flex items-center space-x-2 flex-1\",children:addingMeal?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader2,{className:\"animate-spin h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Analyzing meal...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Zap,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add Meal Using AI\"})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleAddMeal(true),disabled:addingMeal,className:\"flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors duration-200 flex-1 bg-green-600 hover:bg-green-700 text-white\",children:addingMeal?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader2,{className:\"animate-spin h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Adding meal...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add Manual Entry\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-medium text-gray-700 mb-3\",children:\"Manual Nutrition Values (Optional)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Calories\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:manualMacros.calories,onChange:e=>setManualMacros(prev=>_objectSpread(_objectSpread({},prev),{},{calories:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Protein (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:manualMacros.protein,onChange:e=>setManualMacros(prev=>_objectSpread(_objectSpread({},prev),{},{protein:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\",step:\"0.1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Carbs (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:manualMacros.carbs,onChange:e=>setManualMacros(prev=>_objectSpread(_objectSpread({},prev),{},{carbs:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\",step:\"0.1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Fat (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:manualMacros.fat,onChange:e=>setManualMacros(prev=>_objectSpread(_objectSpread({},prev),{},{fat:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\",step:\"0.1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Fiber (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:manualMacros.fiber,onChange:e=>setManualMacros(prev=>_objectSpread(_objectSpread({},prev),{},{fiber:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\",step:\"0.1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Sugar (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:manualMacros.sugar,onChange:e=>setManualMacros(prev=>_objectSpread(_objectSpread({},prev),{},{sugar:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\",step:\"0.1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Sodium (mg)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:manualMacros.sodium,onChange:e=>setManualMacros(prev=>_objectSpread(_objectSpread({},prev),{},{sodium:Number(e.target.value)})),className:\"input text-sm w-full\",min:\"0\",step:\"0.1\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:cancelAddMeal,className:\"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors\",children:\"Cancel\"})})]})]}),!showAddMealForm&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500\",children:[/*#__PURE__*/_jsx(Utensils,{className:\"h-12 w-12 mx-auto mb-4 text-gray-300\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-medium mb-2\",children:\"No meals logged today\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"Click \\\"Add Meal\\\" to start tracking your nutrition\"})]})]})]});};export default Overview;","map":{"version":3,"names":["React","useState","useEffect","format","startOfWeek","endOfWeek","eachDayOfInterval","addDays","subDays","isToday","Target","Flame","Beef","TrendingUp","Calendar","Zap","Plus","Utensils","Clock","Edit2","Save","X","Loader2","Heart","ChevronLeft","ChevronRight","BarChart3","profileAPI","mealsAPI","favoritesAPI","generateMealSummary","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","WeightAnalysis","_ref","currentWeight","targetWeight","dailyCalorieGoal","weeklyData","setWeeklyData","loading","setLoading","loadWeeklyData","endDate","Date","startDate","now","response","getByRange","meals","data","dailyTotals","reduce","acc","meal","date","meal_date","calories","protein","weeklyDataArray","Object","entries","map","_ref2","totals","deficit","sort","a","b","getTime","error","console","weightDifference","isWeightLoss","absWeightDifference","Math","abs","averageDailyDeficit","length","sum","day","caloriesPerLb","totalCaloriesNeeded","daysToTarget","weeksToTarget","className","children","concat","toFixed","round","getMealTypeIcon","mealType","icons","breakfast","lunch","dinner","snack","toLowerCase","getMealTypeColor","colors","safeFormatDate","dateString","formatStr","Overview","profile","setProfile","todayNutrition","setTodayNutrition","todayMeals","setTodayMeals","getGreeting","hour","getHours","today","editingMeal","setEditingMeal","editForm","setEditForm","description","carbs","fat","fiber","sugar","sodium","updatingMeal","setUpdatingMeal","showAddMealForm","setShowAddMealForm","newMeal","setNewMeal","meal_type","manualMacros","setManualMacros","addingMeal","setAddingMeal","favoritingMeal","setFavoritingMeal","favorites","setFavorites","loadingFavorites","setLoadingFavorites","showFavorites","setShowFavorites","showMealTypeSelector","setShowMealTypeSelector","selectedSavedMeal","setSelectedSavedMeal","quickAddMealType","setQuickAddMealType","weekData","setWeekData","weekStartDate","setWeekStartDate","weeklyStats","setWeeklyStats","averageDeficit","daysWithData","lastRefresh","setLastRefresh","loadOverviewData","loadFavorites","loadWeekData","_profileResponse$data","_profileResponse$data2","_profileResponse$data3","_profileResponse$data4","profileResponse","get","mealsResponse","getByDate","log","totalCalories","totalProtein","totalCarbs","totalFat","totalFiber","totalSugar","totalSodium","nutritionData","total_calories","total_protein","total_carbs","total_fat","total_fiber","total_sugar","total_sodium","calories_goal","daily_calories","protein_goal","daily_protein","calories_met","protein_met","refreshData","startEditMeal","id","cancelEditMeal","handleEditMeal","mealId","update","prev","_objectSpread","window","dispatchEvent","CustomEvent","_error$response","_error$response$data","alert","handleAddMeal","isManual","trim","mealData","add","_error$response2","_error$response2$data","cancelAddMeal","handleAddToFavorites","createFromMeal","_error$response3","status","getAll","handleSelectFromFavorites","favorite","handleQuickAddMeal","_error$response4","_error$response4$data","cancelQuickAdd","currentWeekStart","weekStartsOn","weekDays","start","end","dailyProteinGoal","_profileResponse$data5","_profileResponse$data6","weekDataPromises","dateStr","dayTotals","dayOfWeek","dayNumber","caloriesGoal","proteinGoal","caloriesMet","proteinMet","bothMet","hasData","weekResults","Promise","all","filter","navigateWeek","direction","handleVisibilityChange","document","hidden","addEventListener","removeEventListener","handleStorageChange","e","key","handleCustomEvent","calculateRemaining","consumed","goal","max","calculateProgress","min","getProgressColor","progress","getStatusIcon","met","onClick","location","href","style","width","currentCalories","currentProtein","caloriesRemaining","proteinRemaining","caloriesProgress","proteinProgress","weight","target_weight","value","onChange","target","type","placeholder","required","disabled","Number","step","charAt","toUpperCase","slice","created_at","title","substring"],"sources":["C:/Users/arian/OneDrive/Desktop/Nutrition/client/src/components/Overview.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { format, startOfWeek, endOfWeek, eachDayOfInterval, addDays, subDays, isToday } from 'date-fns';\nimport { Target, Flame, Beef, TrendingUp, Calendar, Zap, Plus, Utensils, Clock, Edit2, Save, X, Loader2, Heart, ChevronLeft, ChevronRight, BarChart3 } from 'lucide-react';\nimport { profileAPI, mealsAPI, diaryAPI, favoritesAPI } from '../services/api';\nimport { generateMealSummary } from '../utils/mealSummary';\n\ninterface UserProfile {\n  daily_calories: number;\n  daily_protein: number;\n  weight?: number;\n  target_weight?: number;\n}\n\ninterface DailyNutrition {\n  total_calories: number;\n  total_protein: number;\n  total_carbs?: number;\n  total_fat?: number;\n  total_fiber?: number;\n  total_sugar?: number;\n  total_sodium?: number;\n  calories_goal: number;\n  protein_goal: number;\n  calories_met: boolean;\n  protein_met: boolean;\n  date?: string;\n}\n\ninterface MealData {\n  id: number;\n  meal_date: string;\n  meal_type: string;\n  description: string;\n  calories: number;\n  protein: number;\n  carbs: number;\n  fat: number;\n  fiber: number;\n  sugar: number;\n  sodium: number;\n  created_at: string;\n}\n\n// Weight Analysis Component\nconst WeightAnalysis: React.FC<{\n  currentWeight: number;\n  targetWeight: number;\n  dailyCalorieGoal: number;\n}> = ({ currentWeight, targetWeight, dailyCalorieGoal }) => {\n  const [weeklyData, setWeeklyData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadWeeklyData();\n  }, []);\n\n  const loadWeeklyData = async () => {\n    try {\n      setLoading(true);\n      const endDate = format(new Date(), 'yyyy-MM-dd');\n      const startDate = format(new Date(Date.now() - 7 * 24 * 60 * 60 * 1000), 'yyyy-MM-dd');\n      \n      // Get meals for the past week\n      const response = await mealsAPI.getByRange(startDate, endDate);\n      const meals = response.data.meals || [];\n      \n      // Group meals by date and calculate daily totals\n      const dailyTotals = meals.reduce((acc: any, meal: any) => {\n        const date = meal.meal_date;\n        if (!acc[date]) {\n          acc[date] = { calories: 0, protein: 0 };\n        }\n        acc[date].calories += meal.calories || 0;\n        acc[date].protein += meal.protein || 0;\n        return acc;\n      }, {});\n      \n      // Convert to array and sort by date\n      const weeklyDataArray = Object.entries(dailyTotals).map(([date, totals]: [string, any]) => ({\n        date,\n        calories: totals.calories,\n        deficit: dailyCalorieGoal - totals.calories\n      })).sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime());\n      \n      setWeeklyData(weeklyDataArray);\n    } catch (error) {\n      console.error('Failed to load weekly data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const weightDifference = targetWeight - currentWeight;\n  const isWeightLoss = weightDifference < 0;\n  const absWeightDifference = Math.abs(weightDifference);\n  \n  // Calculate average daily calorie deficit/surplus over the past week\n  const averageDailyDeficit = weeklyData.length > 0 \n    ? weeklyData.reduce((sum, day) => sum + day.deficit, 0) / weeklyData.length\n    : 0;\n  \n  // Calculate time to reach target weight\n  // 1 lb of fat = approximately 3,500 calories\n  const caloriesPerLb = 3500;\n  const totalCaloriesNeeded = absWeightDifference * caloriesPerLb;\n  const daysToTarget = averageDailyDeficit !== 0 ? Math.abs(totalCaloriesNeeded / averageDailyDeficit) : 0;\n  const weeksToTarget = daysToTarget / 7;\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-4\">\n        <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Current Status */}\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                 <div className=\"text-center\">\n           <div className=\"text-lg font-bold text-gray-900\">{currentWeight} lbs</div>\n           <div className=\"text-xs text-gray-600\">Current Weight</div>\n         </div>\n         <div className=\"text-center\">\n           <div className=\"text-lg font-bold text-primary-600\">{targetWeight} lbs</div>\n           <div className=\"text-xs text-gray-600\">Target Weight</div>\n         </div>\n         <div className=\"text-center\">\n           <div className={`text-lg font-bold ${isWeightLoss ? 'text-green-600' : 'text-orange-600'}`}>\n             {absWeightDifference.toFixed(1)} lbs\n           </div>\n           <div className=\"text-xs text-gray-600\">to {isWeightLoss ? 'Lose' : 'Gain'}</div>\n         </div>\n        <div className=\"text-center\">\n          <div className={`text-lg font-bold ${averageDailyDeficit > 0 ? 'text-green-600' : 'text-orange-600'}`}>\n            {Math.abs(averageDailyDeficit).toFixed(0)}\n          </div>\n          <div className=\"text-xs text-gray-600\">\n            {averageDailyDeficit > 0 ? 'Cal Deficit' : 'Cal Surplus'}/day\n          </div>\n        </div>\n      </div>\n\n      {/* Progress Analysis */}\n      <div className=\"bg-white rounded-lg p-4 border border-blue-200\">\n        <h4 className=\"font-semibold text-blue-900 mb-3\">Weekly Progress Analysis</h4>\n        \n        {weeklyData.length > 0 ? (\n          <div className=\"space-y-3\">\n            <div className=\"flex justify-between text-sm\">\n              <span className=\"text-gray-600\">Average daily calorie {averageDailyDeficit > 0 ? 'deficit' : 'surplus'}:</span>\n              <span className={`font-medium ${averageDailyDeficit > 0 ? 'text-green-600' : 'text-orange-600'}`}>\n                {Math.abs(averageDailyDeficit).toFixed(0)} calories\n              </span>\n            </div>\n            \n            {averageDailyDeficit !== 0 && (\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-gray-600\">At this pace, you'll reach your target in:</span>\n                <span className=\"font-medium text-blue-600\">\n                  {daysToTarget < 30 ? `${Math.round(daysToTarget)} days` : `${weeksToTarget.toFixed(1)} weeks`}\n                </span>\n              </div>\n            )}\n            \n            <div className=\"text-xs text-gray-500 mt-2\">\n              * Based on past week's average calorie intake vs. your daily goal\n            </div>\n          </div>\n        ) : (\n          <div className=\"text-sm text-gray-500\">\n            No meal data available for the past week. Add meals to see your progress analysis.\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// Helper functions for meal display\nconst getMealTypeIcon = (mealType: string) => {\n  const icons: { [key: string]: string } = {\n    breakfast: 'ðŸ³',\n    lunch: 'ðŸ¥—',\n    dinner: 'ðŸ½ï¸',\n    snack: 'ðŸŽ'\n  };\n  return icons[mealType.toLowerCase()] || 'ðŸ½ï¸';\n};\n\nconst getMealTypeColor = (mealType: string) => {\n  const colors: { [key: string]: string } = {\n    breakfast: 'bg-yellow-100 text-yellow-800',\n    lunch: 'bg-green-100 text-green-800',\n    dinner: 'bg-blue-100 text-blue-800',\n    snack: 'bg-purple-100 text-purple-800'\n  };\n  return colors[mealType.toLowerCase()] || 'bg-gray-100 text-gray-800';\n};\n\nconst safeFormatDate = (dateString: string, formatStr: string) => {\n  try {\n    return format(new Date(dateString), formatStr);\n  } catch (error) {\n    return dateString;\n  }\n};\n\nconst Overview: React.FC = () => {\n  const [profile, setProfile] = useState<UserProfile | null>(null);\n  const [todayNutrition, setTodayNutrition] = useState<DailyNutrition | null>(null);\n  const [todayMeals, setTodayMeals] = useState<MealData[]>([]);\n\n  // Helper function for greeting\n  const getGreeting = () => {\n    const hour = new Date().getHours();\n    if (hour < 12) return 'Morning';\n    if (hour < 17) return 'Afternoon';\n    return 'Evening';\n  };\n  const [loading, setLoading] = useState(true);\n  const [today] = useState(format(new Date(), 'yyyy-MM-dd'));\n  const [editingMeal, setEditingMeal] = useState<number | null>(null);\n  const [editForm, setEditForm] = useState({\n    description: '',\n    calories: 0,\n    protein: 0,\n    carbs: 0,\n    fat: 0,\n    fiber: 0,\n    sugar: 0,\n    sodium: 0\n  });\n  const [updatingMeal, setUpdatingMeal] = useState(false);\n  const [showAddMealForm, setShowAddMealForm] = useState(false);\n  const [newMeal, setNewMeal] = useState({\n    meal_type: 'breakfast',\n    description: ''\n  });\n  const [manualMacros, setManualMacros] = useState({\n    calories: 0,\n    protein: 0,\n    carbs: 0,\n    fat: 0,\n    fiber: 0,\n    sugar: 0,\n    sodium: 0\n  });\n  const [addingMeal, setAddingMeal] = useState(false);\n  const [favoritingMeal, setFavoritingMeal] = useState<number | null>(null);\n  const [favorites, setFavorites] = useState<any[]>([]);\n  const [loadingFavorites, setLoadingFavorites] = useState(false);\n  const [showFavorites, setShowFavorites] = useState(false);\n  const [showMealTypeSelector, setShowMealTypeSelector] = useState(false);\n  const [selectedSavedMeal, setSelectedSavedMeal] = useState<any>(null);\n  const [quickAddMealType, setQuickAddMealType] = useState('breakfast');\n  const [weekData, setWeekData] = useState<any[]>([]);\n  const [weekStartDate, setWeekStartDate] = useState(new Date());\n  const [weeklyStats, setWeeklyStats] = useState({\n    averageDeficit: 0,\n    daysWithData: 0,\n    loading: false\n  });\n  const [lastRefresh, setLastRefresh] = useState(0);\n\n  useEffect(() => {\n    loadOverviewData();\n    loadFavorites();\n    loadWeekData();\n  }, []);\n\n  useEffect(() => {\n    loadWeekData();\n  }, [weekStartDate]);\n\n  const loadOverviewData = async () => {\n    try {\n      setLoading(true);\n      \n      // Load user profile\n      const profileResponse = await profileAPI.get();\n      if (profileResponse.data.profile) {\n        setProfile(profileResponse.data.profile);\n      }\n      \n      // Load today's meals directly to calculate totals\n      const mealsResponse = await mealsAPI.getByDate(today);\n      console.log('Meals response:', mealsResponse.data);\n      \n             // Calculate totals from meals\n       const meals: MealData[] = mealsResponse.data.meals || [];\n       setTodayMeals(meals); // Store meals for display\n       const totalCalories = meals.reduce((sum: number, meal: MealData) => sum + (meal.calories || 0), 0);\n       const totalProtein = meals.reduce((sum: number, meal: MealData) => sum + (meal.protein || 0), 0);\n       const totalCarbs = meals.reduce((sum: number, meal: MealData) => sum + (meal.carbs || 0), 0);\n       const totalFat = meals.reduce((sum: number, meal: MealData) => sum + (meal.fat || 0), 0);\n       const totalFiber = meals.reduce((sum: number, meal: MealData) => sum + (meal.fiber || 0), 0);\n       const totalSugar = meals.reduce((sum: number, meal: MealData) => sum + (meal.sugar || 0), 0);\n       const totalSodium = meals.reduce((sum: number, meal: MealData) => sum + (meal.sodium || 0), 0);\n       \n       // Create nutrition data object\n       const nutritionData = {\n         total_calories: totalCalories,\n         total_protein: totalProtein,\n         total_carbs: totalCarbs,\n         total_fat: totalFat,\n         total_fiber: totalFiber,\n         total_sugar: totalSugar,\n         total_sodium: totalSodium,\n         calories_goal: profileResponse.data.profile?.daily_calories || 0,\n         protein_goal: profileResponse.data.profile?.daily_protein || 0,\n         calories_met: totalCalories >= (profileResponse.data.profile?.daily_calories || 0),\n         protein_met: totalProtein >= (profileResponse.data.profile?.daily_protein || 0),\n         date: today\n       };\n      \n      console.log('Calculated nutrition data:', nutritionData);\n      setTodayNutrition(nutritionData);\n      \n    } catch (error) {\n      console.error('Failed to load overview data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Refresh data when component mounts or when today changes\n  useEffect(() => {\n    loadOverviewData();\n  }, [today]);\n\n  // Add a manual refresh function\n  const refreshData = () => {\n    loadOverviewData();\n  };\n\n  // Meal editing functions\n  const startEditMeal = (meal: MealData) => {\n    setEditingMeal(meal.id);\n    setEditForm({\n      description: meal.description,\n      calories: meal.calories,\n      protein: meal.protein,\n      carbs: meal.carbs,\n      fat: meal.fat,\n      fiber: meal.fiber,\n      sugar: meal.sugar,\n      sodium: meal.sodium\n    });\n  };\n\n  const cancelEditMeal = () => {\n    setEditingMeal(null);\n    setEditForm({\n      description: '',\n      calories: 0,\n      protein: 0,\n      carbs: 0,\n      fat: 0,\n      fiber: 0,\n      sugar: 0,\n      sodium: 0\n    });\n  };\n\n  const handleEditMeal = async (mealId: number) => {\n    setUpdatingMeal(true);\n    try {\n      await mealsAPI.update(mealId, editForm);\n      \n      // Update the local state\n      setTodayMeals(prev => prev.map(meal => \n        meal.id === mealId ? { ...meal, ...editForm } : meal\n      ));\n      \n      // Refresh overview data to update totals\n      await loadOverviewData();\n      \n      setEditingMeal(null);\n      \n      // Notify other components about the meal update\n      window.dispatchEvent(new CustomEvent('mealDataChanged'));\n      window.dispatchEvent(new CustomEvent('sidebarRefresh'));\n      window.dispatchEvent(new CustomEvent('calendarRefresh'));\n      \n    } catch (error: any) {\n      console.error('Failed to update meal:', error);\n      alert(error.response?.data?.error || 'Failed to update meal');\n    } finally {\n      setUpdatingMeal(false);\n    }\n  };\n\n  // Meal creation functions\n  const handleAddMeal = async (isManual: boolean) => {\n    if (!newMeal.description.trim()) {\n      alert('Please enter a meal description');\n      return;\n    }\n\n    setAddingMeal(true);\n    try {\n      const mealData = {\n        meal_date: today,\n        meal_type: newMeal.meal_type,\n        description: newMeal.description,\n        ...(isManual ? manualMacros : {})\n      };\n\n      await mealsAPI.add(mealData);\n      \n      // Reset form\n      setNewMeal({\n        meal_type: 'breakfast',\n        description: ''\n      });\n      setManualMacros({\n        calories: 0,\n        protein: 0,\n        carbs: 0,\n        fat: 0,\n        fiber: 0,\n        sugar: 0,\n        sodium: 0\n      });\n      setShowAddMealForm(false);\n      \n      // Refresh data\n      await loadOverviewData();\n      \n      // Notify other components\n      window.dispatchEvent(new CustomEvent('mealAdded'));\n      window.dispatchEvent(new CustomEvent('mealDataChanged'));\n      window.dispatchEvent(new CustomEvent('sidebarRefresh'));\n      window.dispatchEvent(new CustomEvent('calendarRefresh'));\n      \n    } catch (error: any) {\n      console.error('Failed to add meal:', error);\n      alert(error.response?.data?.error || 'Failed to add meal');\n    } finally {\n      setAddingMeal(false);\n    }\n  };\n\n  const cancelAddMeal = () => {\n    setShowAddMealForm(false);\n    setNewMeal({\n      meal_type: 'breakfast',\n      description: ''\n    });\n    setManualMacros({\n      calories: 0,\n      protein: 0,\n      carbs: 0,\n      fat: 0,\n      fiber: 0,\n      sugar: 0,\n      sodium: 0\n    });\n  };\n\n  // Save meal function\n  const handleAddToFavorites = async (meal: MealData) => {\n    setFavoritingMeal(meal.id);\n    try {\n      await favoritesAPI.createFromMeal(meal.id);\n      // Could add a toast notification here if desired\n    } catch (error: any) {\n      if (error.response?.status === 409) {\n        alert('This meal is already saved');\n      } else {\n        alert('Failed to save meal');\n      }\n    } finally {\n      setFavoritingMeal(null);\n    }\n  };\n\n  const loadFavorites = async () => {\n    setLoadingFavorites(true);\n    try {\n      const response = await favoritesAPI.getAll();\n      setFavorites(response.data.favorites || []);\n    } catch (error) {\n      console.error('Failed to load favorites:', error);\n    } finally {\n      setLoadingFavorites(false);\n    }\n  };\n\n  const handleSelectFromFavorites = (favorite: any) => {\n    setSelectedSavedMeal(favorite);\n    setQuickAddMealType(favorite.meal_type); // Default to the saved meal type\n    setShowMealTypeSelector(true);\n  };\n\n  const handleQuickAddMeal = async () => {\n    if (!selectedSavedMeal) return;\n\n    setAddingMeal(true);\n    try {\n      const mealData = {\n        meal_date: today,\n        meal_type: quickAddMealType,\n        description: selectedSavedMeal.description,\n        calories: selectedSavedMeal.calories || 0,\n        protein: selectedSavedMeal.protein || 0,\n        carbs: selectedSavedMeal.carbs || 0,\n        fat: selectedSavedMeal.fat || 0,\n        fiber: selectedSavedMeal.fiber || 0,\n        sugar: selectedSavedMeal.sugar || 0,\n        sodium: selectedSavedMeal.sodium || 0\n      };\n\n      await mealsAPI.add(mealData);\n      \n      // Close modal and reset\n      setShowMealTypeSelector(false);\n      setSelectedSavedMeal(null);\n      setShowAddMealForm(false); // Also close the add meal form if open\n      \n      // Refresh data\n      await loadOverviewData();\n      \n      // Notify other components\n      window.dispatchEvent(new CustomEvent('mealAdded'));\n      window.dispatchEvent(new CustomEvent('mealDataChanged'));\n      window.dispatchEvent(new CustomEvent('sidebarRefresh'));\n      window.dispatchEvent(new CustomEvent('calendarRefresh'));\n      \n    } catch (error: any) {\n      console.error('Failed to add meal:', error);\n      alert(error.response?.data?.error || 'Failed to add meal');\n    } finally {\n      setAddingMeal(false);\n    }\n  };\n\n  const cancelQuickAdd = () => {\n    setShowMealTypeSelector(false);\n    setSelectedSavedMeal(null);\n    setQuickAddMealType('breakfast');\n  };\n\n  const loadWeekData = async () => {\n    setWeeklyStats(prev => ({ ...prev, loading: true }));\n    try {\n      const currentWeekStart = startOfWeek(weekStartDate, { weekStartsOn: 0 });\n      const weekDays = eachDayOfInterval({\n        start: currentWeekStart,\n        end: endOfWeek(currentWeekStart, { weekStartsOn: 0 })\n      });\n\n      // Get user's profile for goals\n      let dailyCalorieGoal = 2000;\n      let dailyProteinGoal = 150;\n      try {\n        const profileResponse = await profileAPI.get();\n        if (profileResponse.data.profile?.daily_calories) {\n          dailyCalorieGoal = profileResponse.data.profile.daily_calories;\n        }\n        if (profileResponse.data.profile?.daily_protein) {\n          dailyProteinGoal = profileResponse.data.profile.daily_protein;\n        }\n      } catch (error) {\n        console.error('Failed to get profile for goals:', error);\n      }\n\n      const weekDataPromises = weekDays.map(async (day) => {\n        const dateStr = format(day, 'yyyy-MM-dd');\n        try {\n          const response = await mealsAPI.getByDate(dateStr);\n          const meals = response.data.meals || [];\n          \n          const dayTotals = meals.reduce((acc: any, meal: any) => {\n            acc.calories += meal.calories || 0;\n            acc.protein += meal.protein || 0;\n            return acc;\n          }, { calories: 0, protein: 0 });\n\n          return {\n            date: dateStr,\n            dayOfWeek: format(day, 'EEE'),\n            dayNumber: format(day, 'd'),\n            calories: dayTotals.calories,\n            protein: dayTotals.protein,\n            caloriesGoal: dailyCalorieGoal,\n            proteinGoal: dailyProteinGoal,\n            caloriesMet: dayTotals.calories <= dailyCalorieGoal,\n            proteinMet: dayTotals.protein >= dailyProteinGoal,\n            bothMet: dayTotals.calories <= dailyCalorieGoal && dayTotals.protein >= dailyProteinGoal,\n            hasData: meals.length > 0,\n            isToday: isToday(day)\n          };\n        } catch (error) {\n          return {\n            date: dateStr,\n            dayOfWeek: format(day, 'EEE'),\n            dayNumber: format(day, 'd'),\n            calories: 0,\n            protein: 0,\n            caloriesGoal: dailyCalorieGoal,\n            proteinGoal: dailyProteinGoal,\n            caloriesMet: false,\n            proteinMet: false,\n            bothMet: false,\n            hasData: false,\n            isToday: isToday(day)\n          };\n        }\n      });\n\n      const weekResults = await Promise.all(weekDataPromises);\n      setWeekData(weekResults);\n\n      // Calculate weekly stats\n      const daysWithData = weekResults.filter(day => day.hasData);\n      const averageDeficit = daysWithData.length > 0 \n        ? daysWithData.reduce((sum, day) => sum + (day.caloriesGoal - day.calories), 0) / daysWithData.length\n        : 0;\n\n      setWeeklyStats({\n        averageDeficit: Math.round(averageDeficit),\n        daysWithData: daysWithData.length,\n        loading: false\n      });\n\n    } catch (error) {\n      console.error('Failed to load week data:', error);\n      setWeeklyStats(prev => ({ ...prev, loading: false }));\n    }\n  };\n\n  const navigateWeek = (direction: 'prev' | 'next') => {\n    setWeekStartDate(prev => \n      direction === 'prev' ? subDays(prev, 7) : addDays(prev, 7)\n    );\n  };\n\n  // Remove aggressive auto-refresh - only refresh on user actions or events\n\n  // Refresh data when the tab becomes visible (user switches back to this tab)\n  useEffect(() => {\n    const handleVisibilityChange = () => {\n      if (!document.hidden) {\n        console.log('Tab became visible, refreshing data...');\n        loadOverviewData();\n      }\n    };\n\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n    return () => document.removeEventListener('visibilitychange', handleVisibilityChange);\n  }, []);\n\n  // Listen for storage events to refresh when meals are added from other tabs\n  useEffect(() => {\n    const handleStorageChange = (e: StorageEvent) => {\n      if (e.key === 'mealAdded' || e.key === 'mealDeleted') {\n        console.log('Storage event detected, refreshing data...');\n        loadOverviewData();\n      }\n    };\n\n    // Also listen for custom events that can be triggered from the same tab\n    const handleCustomEvent = () => {\n      const now = Date.now();\n      // Throttle refreshing to prevent excessive calls (max once every 2 seconds)\n      if (now - lastRefresh > 2000) {\n        console.log('Custom event detected, refreshing data...');\n        setLastRefresh(now);\n        loadOverviewData();\n        loadWeekData();\n      }\n    };\n\n    window.addEventListener('storage', handleStorageChange);\n    window.addEventListener('mealDataChanged', handleCustomEvent);\n    \n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n      window.removeEventListener('mealDataChanged', handleCustomEvent);\n    };\n  }, []);\n\n  const calculateRemaining = (consumed: number, goal: number) => {\n    return Math.max(0, goal - consumed);\n  };\n\n  const calculateProgress = (consumed: number, goal: number) => {\n    return Math.min(100, (consumed / goal) * 100);\n  };\n\n  const getProgressColor = (progress: number) => {\n    if (progress >= 100) return 'bg-success-500';\n    return 'bg-primary-500';\n  };\n\n  const getStatusIcon = (met: boolean) => {\n    return met ? (\n      <div className=\"w-8 h-8 bg-success-100 rounded-full flex items-center justify-center\">\n        <TrendingUp className=\"w-5 h-5 text-success-600\" />\n      </div>\n    ) : (\n      <div className=\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center\">\n        <Target className=\"w-5 h-5 text-gray-500\" />\n      </div>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600\"></div>\n      </div>\n    );\n  }\n\n  // Debug information (remove this in production)\n  console.log('Overview component state:', {\n    profile,\n    todayNutrition,\n    today\n  });\n\n  if (!profile) {\n    return (\n      <div className=\"text-center py-12\">\n        <Target className=\"h-16 w-16 mx-auto mb-4 text-gray-300\" />\n        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No Profile Set</h3>\n        <p className=\"text-gray-500 mb-4\">Set your daily nutrition goals in the Profile tab to see your overview.</p>\n        <button\n          onClick={() => window.location.href = '/dashboard/profile'}\n          className=\"btn-primary\"\n        >\n          Set Goals\n        </button>\n      </div>\n    );\n  }\n\n  // Show message if no nutrition data for today (check if we have actual meal data)\n  if (!todayNutrition || (todayNutrition.total_calories === 0 && todayNutrition.total_protein === 0)) {\n    return (\n      <div className=\"space-y-6\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">Daily Overview</h2>\n            <p className=\"text-gray-600\">Track your nutrition progress for today</p>\n          </div>\n          <div className=\"flex items-center space-x-4\">\n            <button\n              onClick={refreshData}\n              className=\"btn-secondary flex items-center space-x-2\"\n            >\n              <Zap className=\"h-4 w-4\" />\n              <span>Refresh</span>\n            </button>\n            <div className=\"flex items-center space-x-2 text-sm text-gray-500\">\n              <Calendar className=\"h-4 w-4\" />\n              <span>{format(new Date(), 'EEEE, MMMM d, yyyy')}</span>\n            </div>\n          </div>\n        </div>\n\n        {/* No Data Message */}\n        <div className=\"text-center py-12\">\n          <Flame className=\"h-16 w-16 mx-auto mb-4 text-gray-300\" />\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No Meals Logged Today</h3>\n          <p className=\"text-gray-500 mb-4\">Start tracking your nutrition by adding your first meal of the day.</p>\n          <div className=\"flex justify-center space-x-4\">\n            <button\n              onClick={() => window.location.href = '/dashboard/inputs'}\n              className=\"btn-primary\"\n            >\n              Add Meal\n            </button>\n            <button\n              onClick={refreshData}\n              className=\"btn-secondary\"\n            >\n              Refresh Data\n            </button>\n          </div>\n        </div>\n\n        {/* Daily Goals Summary (with 0 values) */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          {/* Calories Card */}\n          <div className=\"card\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center\">\n                  <Flame className=\"w-6 h-6 text-orange-600\" />\n                </div>\n                <div>\n                  <h3 className=\"text-lg font-semibold text-gray-900\">Calories</h3>\n                  <p className=\"text-sm text-gray-500\">Daily Goal</p>\n                </div>\n              </div>\n              <div className=\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center\">\n                <Target className=\"w-5 h-5 text-gray-500\" />\n              </div>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-2xl font-bold text-gray-900\">0</span>\n                <span className=\"text-lg text-gray-500\">/ {profile.daily_calories}</span>\n              </div>\n\n              {/* Progress Bar */}\n              <div className=\"w-full bg-gray-200 rounded-full h-3\">\n                <div className=\"h-3 rounded-full transition-all duration-300 bg-gray-300\" style={{ width: '0%' }}></div>\n              </div>\n\n              <div className=\"flex justify-between items-center text-sm\">\n                <span className=\"text-gray-600\">{profile.daily_calories} left</span>\n                <span className=\"font-medium text-gray-900\">0%</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Protein Card */}\n          <div className=\"card\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center\">\n                  <Beef className=\"w-6 h-6 text-red-600\" />\n                </div>\n                <div>\n                  <h3 className=\"text-lg font-semibold text-gray-900\">Protein</h3>\n                  <p className=\"text-sm text-gray-500\">Daily Goal</p>\n                </div>\n              </div>\n              <div className=\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center\">\n                <Target className=\"w-5 h-5 text-gray-500\" />\n              </div>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-2xl font-bold text-gray-900\">0g</span>\n                <span className=\"text-lg text-gray-500\">/ {profile.daily_protein}g</span>\n              </div>\n\n              {/* Progress Bar */}\n              <div className=\"w-full bg-gray-200 rounded-full h-3\">\n                <div className=\"h-3 rounded-full transition-all duration-300 bg-gray-300\" style={{ width: '0%' }}></div>\n              </div>\n\n              <div className=\"flex justify-between items-center text-sm\">\n                <span className=\"text-gray-600\">{profile.daily_protein}g left</span>\n                <span className=\"font-medium text-gray-900\">0%</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Ensure we have valid numbers for calculations\n  const currentCalories = todayNutrition?.total_calories || 0;\n  const currentProtein = todayNutrition?.total_protein || 0;\n  const caloriesGoal = profile.daily_calories || 0;\n  const proteinGoal = profile.daily_protein || 0;\n\n  const caloriesRemaining = calculateRemaining(currentCalories, caloriesGoal);\n  const proteinRemaining = calculateRemaining(currentProtein, proteinGoal);\n  \n  const caloriesProgress = calculateProgress(currentCalories, caloriesGoal);\n  const proteinProgress = calculateProgress(currentProtein, proteinGoal);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Simple Header with Orange Theme */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900 mb-1\">Good {getGreeting()}! ðŸ‘‹</h1>\n            <p className=\"text-gray-600\">Here's your nutrition snapshot for {format(new Date(), 'MMMM d')}</p>\n          </div>\n          <div className=\"text-right\">\n            <button\n              onClick={refreshData}\n              className=\"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2 font-medium\"\n            >\n              <Zap className=\"h-4 w-4\" />\n              <span>Refresh</span>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Weekly Progress - Simple */}\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center\">\n              <BarChart3 className=\"h-5 w-5 text-orange-600\" />\n            </div>\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-900\">Weekly Progress</h3>\n              <p className=\"text-sm text-gray-600\">Your 7-day nutrition journey</p>\n            </div>\n          </div>\n          \n          {/* Color Legend */}\n          <div className=\"flex items-center space-x-4 text-xs\">\n            <div className=\"flex items-center space-x-1\">\n              <div className=\"w-3 h-3 bg-green-100 rounded\"></div>\n              <span className=\"text-gray-600\">Goals Met</span>\n            </div>\n            <div className=\"flex items-center space-x-1\">\n              <div className=\"w-3 h-3 bg-orange-100 rounded\"></div>\n              <span className=\"text-gray-600\">Today</span>\n            </div>\n            <div className=\"flex items-center space-x-1\">\n              <div className=\"w-3 h-3 bg-yellow-100 rounded\"></div>\n              <span className=\"text-gray-600\">Partial</span>\n            </div>\n            <div className=\"flex items-center space-x-1\">\n              <div className=\"w-3 h-3 bg-gray-100 rounded\"></div>\n              <span className=\"text-gray-600\">No Data</span>\n            </div>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <button\n              onClick={() => navigateWeek('prev')}\n              className=\"p-1 hover:bg-gray-100 rounded transition-colors\"\n            >\n              <ChevronLeft className=\"h-4 w-4 text-gray-600\" />\n            </button>\n            <span className=\"text-sm font-medium text-gray-700\">\n              {format(startOfWeek(weekStartDate, { weekStartsOn: 0 }), 'MMM d')} - {format(endOfWeek(weekStartDate, { weekStartsOn: 0 }), 'MMM d')}\n            </span>\n            <button\n              onClick={() => navigateWeek('next')}\n              className=\"p-1 hover:bg-gray-100 rounded transition-colors\"\n            >\n              <ChevronRight className=\"h-4 w-4 text-gray-600\" />\n            </button>\n          </div>\n        </div>\n        \n        <div className=\"flex items-center justify-between\">\n          {/* Week Calendar */}\n          <div className=\"flex space-x-3 flex-1 mr-6\">\n            {weekData.map((day) => (\n              <div\n                key={day.date}\n                className={`flex flex-col items-center p-3 rounded-lg text-xs font-medium transition-colors flex-1 ${\n                  day.isToday \n                    ? 'bg-orange-100 text-orange-800' \n                    : day.bothMet \n                      ? 'bg-green-100 text-green-800' \n                      : day.hasData \n                        ? 'bg-yellow-100 text-yellow-800' \n                        : 'bg-gray-100 text-gray-500'\n                }`}\n              >\n                <span className=\"text-xs\">{day.dayOfWeek}</span>\n                <span className=\"text-sm font-bold\">{day.dayNumber}</span>\n                {day.hasData && (\n                  <div className=\"text-xs mt-1\">\n                    <div>{day.calories}cal</div>\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n          \n          {/* Weekly Stats */}\n          <div className=\"text-right\">\n            {weeklyStats.loading ? (\n              <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mx-auto\"></div>\n            ) : (\n              <>\n                <div className={`text-lg font-bold ${\n                  weeklyStats.averageDeficit > 0 ? 'text-green-600' : \n                  weeklyStats.averageDeficit < 0 ? 'text-orange-600' : 'text-gray-600'\n                }`}>\n                  {weeklyStats.averageDeficit > 0 ? '-' : weeklyStats.averageDeficit < 0 ? '+' : ''}\n                  {Math.abs(weeklyStats.averageDeficit)}\n                </div>\n                <div className=\"text-xs text-gray-600\">\n                  {weeklyStats.averageDeficit > 0 ? 'Deficit' : weeklyStats.averageDeficit < 0 ? 'Surplus' : 'Maintenance'} avg\n                </div>\n                <div className=\"text-xs text-gray-500\">\n                  {weeklyStats.daysWithData}/7 days logged\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Weight Loss/Gain Analysis */}\n      {profile.weight && profile.target_weight && (\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-center space-x-3 mb-4\">\n            <div className=\"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center\">\n              <TrendingUp className=\"h-5 w-5 text-orange-600\" />\n            </div>\n            <h3 className=\"text-lg font-semibold text-gray-900\">Weight Progress Analysis</h3>\n          </div>\n          \n          <WeightAnalysis \n            currentWeight={profile.weight}\n            targetWeight={profile.target_weight}\n            dailyCalorieGoal={profile.daily_calories}\n          />\n        </div>\n      )}\n\n      {/* Today's Progress Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        {/* Calories Card */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center\">\n              <Flame className=\"w-5 h-5 text-orange-600\" />\n            </div>\n            {getStatusIcon(todayNutrition?.calories_met || false)}\n          </div>\n          <div className=\"space-y-3\">\n            <div>\n              <div className=\"text-xl font-bold text-gray-900\">{currentCalories}</div>\n              <div className=\"text-sm text-orange-600 font-medium\">of {caloriesGoal} calories</div>\n            </div>\n            <div className=\"w-full bg-gray-200 rounded-full h-2\">\n              <div\n                className=\"bg-orange-500 h-2 rounded-full transition-all duration-500\"\n                style={{ width: `${Math.min(caloriesProgress, 100)}%` }}\n              ></div>\n            </div>\n          </div>\n        </div>\n\n        {/* Protein Card */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center\">\n              <Beef className=\"w-5 h-5 text-green-600\" />\n            </div>\n            {getStatusIcon(todayNutrition?.protein_met || false)}\n          </div>\n          <div className=\"space-y-3\">\n            <div>\n              <div className=\"text-xl font-bold text-gray-900\">{currentProtein}g</div>\n              <div className=\"text-sm text-green-600 font-medium\">of {proteinGoal}g protein</div>\n            </div>\n            <div className=\"w-full bg-gray-200 rounded-full h-2\">\n              <div\n                className=\"bg-green-500 h-2 rounded-full transition-all duration-500\"\n                style={{ width: `${Math.min(proteinProgress, 100)}%` }}\n              ></div>\n            </div>\n          </div>\n        </div>\n\n        {/* Calories Left Card */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\">\n              <Target className=\"w-5 h-5 text-blue-600\" />\n            </div>\n          </div>\n          <div className=\"space-y-3\">\n            <div>\n              <div className=\"text-xl font-bold text-gray-900\">{caloriesRemaining}</div>\n              <div className=\"text-sm text-blue-600 font-medium\">calories remaining</div>\n            </div>\n            <div className=\"text-xs text-blue-700 bg-blue-100 px-2 py-1 rounded-full inline-block\">\n              {Math.round(caloriesProgress)}% complete\n            </div>\n          </div>\n        </div>\n\n        {/* Protein Left Card */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center\">\n              <Zap className=\"w-5 h-5 text-purple-600\" />\n            </div>\n          </div>\n          <div className=\"space-y-3\">\n            <div>\n              <div className=\"text-xl font-bold text-gray-900\">{proteinRemaining}g</div>\n              <div className=\"text-sm text-purple-600 font-medium\">protein remaining</div>\n            </div>\n            <div className=\"text-xs text-purple-700 bg-purple-100 px-2 py-1 rounded-full inline-block\">\n              {Math.round(proteinProgress)}% complete\n            </div>\n          </div>\n        </div>\n      </div>\n\n       {/* Additional Nutrients - Simplified */}\n       <div className=\"bg-white rounded-lg p-6 shadow-sm border border-gray-200\">\n         <div className=\"flex items-center mb-4\">\n           <div className=\"w-8 h-8 bg-purple-100 rounded-xl flex items-center justify-center mr-3\">\n             <BarChart3 className=\"w-4 h-4 text-purple-600\" />\n           </div>\n           <h3 className=\"text-lg font-semibold text-gray-900\">Other Nutrients</h3>\n         </div>\n         <div className=\"grid grid-cols-5 gap-4\">\n           <div className=\"text-center\">\n             <div className=\"text-xl font-bold text-purple-600\">{todayNutrition?.total_carbs || 0}g</div>\n             <div className=\"text-xs text-gray-500 mt-1\">Carbs</div>\n           </div>\n           <div className=\"text-center\">\n             <div className=\"text-xl font-bold text-yellow-600\">{todayNutrition?.total_fat || 0}g</div>\n             <div className=\"text-xs text-gray-500 mt-1\">Fat</div>\n           </div>\n           <div className=\"text-center\">\n             <div className=\"text-xl font-bold text-green-600\">{todayNutrition?.total_fiber || 0}g</div>\n             <div className=\"text-xs text-gray-500 mt-1\">Fiber</div>\n           </div>\n           <div className=\"text-center\">\n             <div className=\"text-xl font-bold text-pink-600\">{todayNutrition?.total_sugar || 0}g</div>\n             <div className=\"text-xs text-gray-500 mt-1\">Sugar</div>\n           </div>\n           <div className=\"text-center\">\n             <div className=\"text-xl font-bold text-indigo-600\">{todayNutrition?.total_sodium || 0}mg</div>\n             <div className=\"text-xs text-gray-500 mt-1\">Sodium</div>\n           </div>\n         </div>\n       </div>\n\n      {/* Quick Actions - Simple Style */}\n      <div className=\"bg-white rounded-lg p-6 shadow-sm border border-gray-200\">\n        <div className=\"flex items-center mb-6\">\n          <div className=\"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center mr-3\">\n            <Zap className=\"w-4 h-4 text-orange-600\" />\n          </div>\n          <h3 className=\"text-lg font-semibold text-gray-900\">Quick Actions</h3>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <button\n            onClick={() => window.location.href = '/dashboard/inputs'}\n            className=\"flex items-center space-x-4 p-4 bg-gray-50 hover:bg-gray-100 rounded-lg border border-gray-200 transition-all duration-200 group\"\n          >\n            <div className=\"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center\">\n              <Plus className=\"w-6 h-6 text-gray-600\" />\n            </div>\n            <div className=\"text-left\">\n              <div className=\"font-semibold text-gray-900\">Add Meal</div>\n              <div className=\"text-sm text-gray-600\">Log your nutrition</div>\n            </div>\n          </button>\n\n          <button\n            onClick={() => window.location.href = '/dashboard/profile'}\n            className=\"flex items-center space-x-4 p-4 bg-gray-50 hover:bg-gray-100 rounded-lg border border-gray-200 transition-all duration-200 group\"\n          >\n            <div className=\"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center\">\n              <Target className=\"w-6 h-6 text-gray-600\" />\n            </div>\n            <div className=\"text-left\">\n              <div className=\"font-semibold text-gray-900\">Update Goals</div>\n              <div className=\"text-sm text-gray-600\">Adjust your targets</div>\n            </div>\n          </button>\n        </div>\n      </div>\n\n      {/* Today's Meals */}\n      {todayMeals.length > 0 && (\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold text-gray-900\">Today's Meals</h3>\n            <button\n              onClick={() => setShowAddMealForm(!showAddMealForm)}\n              className=\"flex items-center space-x-2 px-3 py-1 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors\"\n            >\n              <Plus className=\"h-4 w-4\" />\n              <span>{showAddMealForm ? 'Cancel' : 'Add Meal'}</span>\n            </button>\n          </div>\n          \n          {/* Add Meal Form */}\n          {showAddMealForm && (\n            <div className=\"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200\">\n              <h4 className=\"text-lg font-semibold text-gray-900 mb-4\">Add New Meal</h4>\n              \n              <form className=\"space-y-4\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Meal Type\n                    </label>\n                    <select\n                      value={newMeal.meal_type}\n                      onChange={(e) => setNewMeal(prev => ({ ...prev, meal_type: e.target.value }))}\n                      className=\"input\"\n                    >\n                      <option value=\"breakfast\">Breakfast</option>\n                      <option value=\"lunch\">Lunch</option>\n                      <option value=\"dinner\">Dinner</option>\n                      <option value=\"snack\">Snack</option>\n                    </select>\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Meal Description\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={newMeal.description}\n                      onChange={(e) => setNewMeal(prev => ({ ...prev, description: e.target.value }))}\n                      className=\"input\"\n                      placeholder=\"e.g., Grilled chicken breast with brown rice and vegetables\"\n                      required\n                    />\n                  </div>\n                </div>\n                \n                {/* AI Analysis Info */}\n                <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\n                  <Zap className=\"h-4 w-4\" />\n                  <span>AI will analyze your meal and calculate all nutrition values</span>\n                </div>\n                \n                {/* Two buttons side by side */}\n                <div className=\"flex space-x-3\">\n                  <button\n                    type=\"button\"\n                    onClick={() => handleAddMeal(false)}\n                    disabled={addingMeal}\n                    className=\"btn-primary flex items-center space-x-2 flex-1\"\n                  >\n                    {addingMeal ? (\n                      <>\n                        <Loader2 className=\"animate-spin h-4 w-4\" />\n                        <span>Analyzing meal...</span>\n                      </>\n                    ) : (\n                      <>\n                        <Zap className=\"h-4 w-4\" />\n                        <span>Add Meal Using AI</span>\n                      </>\n                    )}\n                  </button>\n                  \n                  <button\n                    type=\"button\"\n                    onClick={() => handleAddMeal(true)}\n                    disabled={addingMeal}\n                    className=\"flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors duration-200 flex-1 bg-green-600 hover:bg-green-700 text-white\"\n                  >\n                    {addingMeal ? (\n                      <>\n                        <Loader2 className=\"animate-spin h-4 w-4\" />\n                        <span>Adding meal...</span>\n                      </>\n                    ) : (\n                      <>\n                        <Plus className=\"h-4 w-4\" />\n                        <span>Add Manual Entry</span>\n                      </>\n                    )}\n                  </button>\n                </div>\n                \n                {/* Manual Macros Section */}\n                <div className=\"mt-4 p-4 bg-gray-50 rounded-lg\">\n                  <h5 className=\"text-sm font-medium text-gray-700 mb-3\">Manual Nutrition Values (Optional)</h5>\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n                    <div>\n                      <label className=\"block text-xs font-medium text-gray-700 mb-1\">Calories</label>\n                      <input\n                        type=\"number\"\n                        value={manualMacros.calories}\n                        onChange={(e) => setManualMacros(prev => ({ ...prev, calories: Number(e.target.value) }))}\n                        className=\"input text-sm w-full\"\n                        min=\"0\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-xs font-medium text-gray-700 mb-1\">Protein (g)</label>\n                      <input\n                        type=\"number\"\n                        value={manualMacros.protein}\n                        onChange={(e) => setManualMacros(prev => ({ ...prev, protein: Number(e.target.value) }))}\n                        className=\"input text-sm w-full\"\n                        min=\"0\"\n                        step=\"0.1\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-xs font-medium text-gray-700 mb-1\">Carbs (g)</label>\n                      <input\n                        type=\"number\"\n                        value={manualMacros.carbs}\n                        onChange={(e) => setManualMacros(prev => ({ ...prev, carbs: Number(e.target.value) }))}\n                        className=\"input text-sm w-full\"\n                        min=\"0\"\n                        step=\"0.1\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-xs font-medium text-gray-700 mb-1\">Fat (g)</label>\n                      <input\n                        type=\"number\"\n                        value={manualMacros.fat}\n                        onChange={(e) => setManualMacros(prev => ({ ...prev, fat: Number(e.target.value) }))}\n                        className=\"input text-sm w-full\"\n                        min=\"0\"\n                        step=\"0.1\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-xs font-medium text-gray-700 mb-1\">Fiber (g)</label>\n                      <input\n                        type=\"number\"\n                        value={manualMacros.fiber}\n                        onChange={(e) => setManualMacros(prev => ({ ...prev, fiber: Number(e.target.value) }))}\n                        className=\"input text-sm w-full\"\n                        min=\"0\"\n                        step=\"0.1\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-xs font-medium text-gray-700 mb-1\">Sugar (g)</label>\n                      <input\n                        type=\"number\"\n                        value={manualMacros.sugar}\n                        onChange={(e) => setManualMacros(prev => ({ ...prev, sugar: Number(e.target.value) }))}\n                        className=\"input text-sm w-full\"\n                        min=\"0\"\n                        step=\"0.1\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-xs font-medium text-gray-700 mb-1\">Sodium (mg)</label>\n                      <input\n                        type=\"number\"\n                        value={manualMacros.sodium}\n                        onChange={(e) => setManualMacros(prev => ({ ...prev, sodium: Number(e.target.value) }))}\n                        className=\"input text-sm w-full\"\n                        min=\"0\"\n                        step=\"0.1\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"flex justify-end\">\n                  <button\n                    type=\"button\"\n                    onClick={cancelAddMeal}\n                    className=\"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </form>\n            </div>\n          )}\n          \n          <div className=\"space-y-3\">\n            {todayMeals.map((meal) => (\n              <div key={meal.id} className=\"p-4 bg-gray-50 rounded-lg\">\n                {editingMeal === meal.id ? (\n                  // Edit Mode\n                  <div className=\"space-y-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <h4 className=\"font-medium text-gray-900\">Edit Meal</h4>\n                      <div className=\"flex items-center space-x-2\">\n                        <button\n                          onClick={() => handleEditMeal(meal.id)}\n                          disabled={updatingMeal}\n                          className=\"flex items-center space-x-1 px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors disabled:opacity-50\"\n                        >\n                          {updatingMeal ? (\n                            <>\n                              <Loader2 className=\"h-3 w-3 animate-spin\" />\n                              <span>Saving...</span>\n                            </>\n                          ) : (\n                            <>\n                              <Save className=\"h-3 w-3\" />\n                              <span>Save</span>\n                            </>\n                          )}\n                        </button>\n                        <button\n                          onClick={cancelEditMeal}\n                          disabled={updatingMeal}\n                          className=\"flex items-center space-x-1 px-3 py-1 bg-gray-500 text-white rounded text-sm hover:bg-gray-600 transition-colors disabled:opacity-50\"\n                        >\n                          <X className=\"h-3 w-3\" />\n                          <span>Cancel</span>\n                        </button>\n                      </div>\n                    </div>\n                    \n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n                      <input\n                        type=\"text\"\n                        value={editForm.description}\n                        onChange={(e) => setEditForm(prev => ({ ...prev, description: e.target.value }))}\n                        className=\"input w-full\"\n                        placeholder=\"Meal description\"\n                      />\n                    </div>\n                    \n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n                      <div>\n                        <label className=\"block text-xs font-medium text-gray-700 mb-1\">Calories</label>\n                        <input\n                          type=\"number\"\n                          value={editForm.calories}\n                          onChange={(e) => setEditForm(prev => ({ ...prev, calories: Number(e.target.value) }))}\n                          className=\"input text-sm w-full\"\n                          min=\"0\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-xs font-medium text-gray-700 mb-1\">Protein (g)</label>\n                        <input\n                          type=\"number\"\n                          value={editForm.protein}\n                          onChange={(e) => setEditForm(prev => ({ ...prev, protein: Number(e.target.value) }))}\n                          className=\"input text-sm w-full\"\n                          min=\"0\"\n                          step=\"0.1\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-xs font-medium text-gray-700 mb-1\">Carbs (g)</label>\n                        <input\n                          type=\"number\"\n                          value={editForm.carbs}\n                          onChange={(e) => setEditForm(prev => ({ ...prev, carbs: Number(e.target.value) }))}\n                          className=\"input text-sm w-full\"\n                          min=\"0\"\n                          step=\"0.1\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-xs font-medium text-gray-700 mb-1\">Fat (g)</label>\n                        <input\n                          type=\"number\"\n                          value={editForm.fat}\n                          onChange={(e) => setEditForm(prev => ({ ...prev, fat: Number(e.target.value) }))}\n                          className=\"input text-sm w-full\"\n                          min=\"0\"\n                          step=\"0.1\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-xs font-medium text-gray-700 mb-1\">Fiber (g)</label>\n                        <input\n                          type=\"number\"\n                          value={editForm.fiber}\n                          onChange={(e) => setEditForm(prev => ({ ...prev, fiber: Number(e.target.value) }))}\n                          className=\"input text-sm w-full\"\n                          min=\"0\"\n                          step=\"0.1\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-xs font-medium text-gray-700 mb-1\">Sugar (g)</label>\n                        <input\n                          type=\"number\"\n                          value={editForm.sugar}\n                          onChange={(e) => setEditForm(prev => ({ ...prev, sugar: Number(e.target.value) }))}\n                          className=\"input text-sm w-full\"\n                          min=\"0\"\n                          step=\"0.1\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-xs font-medium text-gray-700 mb-1\">Sodium (mg)</label>\n                        <input\n                          type=\"number\"\n                          value={editForm.sodium}\n                          onChange={(e) => setEditForm(prev => ({ ...prev, sodium: Number(e.target.value) }))}\n                          className=\"input text-sm w-full\"\n                          min=\"0\"\n                          step=\"0.1\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                ) : (\n                  // View Mode\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center space-x-3\">\n                      <div className=\"text-2xl\">{getMealTypeIcon(meal.meal_type)}</div>\n                      \n                      <div>\n                        <div className=\"flex items-center space-x-2\">\n                          <span className={`px-2 py-1 rounded-full text-xs font-medium ${getMealTypeColor(meal.meal_type)}`}>\n                            {meal.meal_type.charAt(0).toUpperCase() + meal.meal_type.slice(1)}\n                          </span>\n                          <span className=\"text-sm text-gray-500\">\n                            <Clock className=\"w-3 h-3 inline mr-1\" />\n                            {safeFormatDate(meal.created_at, 'h:mm a')}\n                          </span>\n                        </div>\n                        <p className=\"text-gray-900 font-medium\">{generateMealSummary(meal.description)}</p>\n                        <p className=\"text-xs text-gray-500 mt-1\" title={meal.description}>\n                          {meal.description.length > 40 ? `${meal.description.substring(0, 40)}...` : meal.description}\n                        </p>\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex items-center space-x-4\">\n                      <div className=\"text-right\">\n                        {/* Main focus - Calories and Protein */}\n                        <div className=\"flex items-center space-x-2 text-sm\">\n                          <Zap className=\"h-4 w-4 text-yellow-600\" />\n                          <span className=\"font-semibold text-lg\">{meal.calories} cal</span>\n                        </div>\n                        <div className=\"flex items-center space-x-2 text-sm\">\n                          <Beef className=\"h-4 w-4 text-red-600\" />\n                          <span className=\"font-semibold text-lg\">{meal.protein}g</span>\n                        </div>\n                        \n                        {/* Additional macros - smaller and less prominent */}\n                        <div className=\"flex items-center space-x-3 text-xs text-gray-500 mt-1\">\n                          <span>Carbs: {meal.carbs}g</span>\n                          <span>Fat: {meal.fat}g</span>\n                          <span>Fiber: {meal.fiber}g</span>\n                        </div>\n                      </div>\n                      \n                      <div className=\"flex items-center space-x-2\">\n                        <button\n                          onClick={() => handleAddToFavorites(meal)}\n                          disabled={favoritingMeal === meal.id}\n                          className=\"flex items-center space-x-1 px-2 py-1 text-xs bg-blue-50 text-blue-700 rounded hover:bg-blue-100 transition-colors disabled:opacity-50\"\n                          title=\"Save meal for quick access later\"\n                        >\n                          {favoritingMeal === meal.id ? (\n                            <>\n                              <Loader2 className=\"h-3 w-3 animate-spin\" />\n                              <span>Saving...</span>\n                            </>\n                          ) : (\n                            <>\n                              <Heart className=\"h-3 w-3\" />\n                              <span>Save</span>\n                            </>\n                          )}\n                        </button>\n                        <button\n                          onClick={() => startEditMeal(meal)}\n                          className=\"text-gray-400 hover:text-primary-600 transition-colors p-1\"\n                          title=\"Edit meal\"\n                        >\n                          <Edit2 className=\"h-4 w-4\" />\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n          \n        </div>\n      )}\n\n      {/* Add Meal Section when no meals exist */}\n      {todayMeals.length === 0 && (\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold text-gray-900\">Add Your First Meal Today</h3>\n            <button\n              onClick={() => setShowAddMealForm(!showAddMealForm)}\n              className=\"flex items-center space-x-2 px-3 py-1 text-sm bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors\"\n            >\n              <Plus className=\"h-4 w-4\" />\n              <span>{showAddMealForm ? 'Cancel' : 'Add Meal'}</span>\n            </button>\n          </div>\n          \n          {/* Add Meal Form */}\n          {showAddMealForm && (\n            <div className=\"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200\">\n              <h4 className=\"text-lg font-semibold text-gray-900 mb-4\">Add New Meal</h4>\n              \n              <form className=\"space-y-4\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Meal Type\n                    </label>\n                    <select\n                      value={newMeal.meal_type}\n                      onChange={(e) => setNewMeal(prev => ({ ...prev, meal_type: e.target.value }))}\n                      className=\"input\"\n                    >\n                      <option value=\"breakfast\">Breakfast</option>\n                      <option value=\"lunch\">Lunch</option>\n                      <option value=\"dinner\">Dinner</option>\n                      <option value=\"snack\">Snack</option>\n                    </select>\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Meal Description\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={newMeal.description}\n                      onChange={(e) => setNewMeal(prev => ({ ...prev, description: e.target.value }))}\n                      className=\"input\"\n                      placeholder=\"e.g., Grilled chicken breast with brown rice and vegetables\"\n                      required\n                    />\n                  </div>\n                </div>\n                \n                {/* AI Analysis Info */}\n                <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\n                  <Zap className=\"h-4 w-4\" />\n                  <span>AI will analyze your meal and calculate all nutrition values</span>\n                </div>\n                \n                {/* Two buttons side by side */}\n                <div className=\"flex space-x-3\">\n                  <button\n                    type=\"button\"\n                    onClick={() => handleAddMeal(false)}\n                    disabled={addingMeal}\n                    className=\"btn-primary flex items-center space-x-2 flex-1\"\n                  >\n                    {addingMeal ? (\n                      <>\n                        <Loader2 className=\"animate-spin h-4 w-4\" />\n                        <span>Analyzing meal...</span>\n                      </>\n                    ) : (\n                      <>\n                        <Zap className=\"h-4 w-4\" />\n                        <span>Add Meal Using AI</span>\n                      </>\n                    )}\n                  </button>\n                  \n                  <button\n                    type=\"button\"\n                    onClick={() => handleAddMeal(true)}\n                    disabled={addingMeal}\n                    className=\"flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors duration-200 flex-1 bg-green-600 hover:bg-green-700 text-white\"\n                  >\n                    {addingMeal ? (\n                      <>\n                        <Loader2 className=\"animate-spin h-4 w-4\" />\n                        <span>Adding meal...</span>\n                      </>\n                    ) : (\n                      <>\n                        <Plus className=\"h-4 w-4\" />\n                        <span>Add Manual Entry</span>\n                      </>\n                    )}\n                  </button>\n                </div>\n                \n                {/* Manual Macros Section */}\n                <div className=\"mt-4 p-4 bg-gray-50 rounded-lg\">\n                  <h5 className=\"text-sm font-medium text-gray-700 mb-3\">Manual Nutrition Values (Optional)</h5>\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n                    <div>\n                      <label className=\"block text-xs font-medium text-gray-700 mb-1\">Calories</label>\n                      <input\n                        type=\"number\"\n                        value={manualMacros.calories}\n                        onChange={(e) => setManualMacros(prev => ({ ...prev, calories: Number(e.target.value) }))}\n                        className=\"input text-sm w-full\"\n                        min=\"0\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-xs font-medium text-gray-700 mb-1\">Protein (g)</label>\n                      <input\n                        type=\"number\"\n                        value={manualMacros.protein}\n                        onChange={(e) => setManualMacros(prev => ({ ...prev, protein: Number(e.target.value) }))}\n                        className=\"input text-sm w-full\"\n                        min=\"0\"\n                        step=\"0.1\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-xs font-medium text-gray-700 mb-1\">Carbs (g)</label>\n                      <input\n                        type=\"number\"\n                        value={manualMacros.carbs}\n                        onChange={(e) => setManualMacros(prev => ({ ...prev, carbs: Number(e.target.value) }))}\n                        className=\"input text-sm w-full\"\n                        min=\"0\"\n                        step=\"0.1\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-xs font-medium text-gray-700 mb-1\">Fat (g)</label>\n                      <input\n                        type=\"number\"\n                        value={manualMacros.fat}\n                        onChange={(e) => setManualMacros(prev => ({ ...prev, fat: Number(e.target.value) }))}\n                        className=\"input text-sm w-full\"\n                        min=\"0\"\n                        step=\"0.1\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-xs font-medium text-gray-700 mb-1\">Fiber (g)</label>\n                      <input\n                        type=\"number\"\n                        value={manualMacros.fiber}\n                        onChange={(e) => setManualMacros(prev => ({ ...prev, fiber: Number(e.target.value) }))}\n                        className=\"input text-sm w-full\"\n                        min=\"0\"\n                        step=\"0.1\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-xs font-medium text-gray-700 mb-1\">Sugar (g)</label>\n                      <input\n                        type=\"number\"\n                        value={manualMacros.sugar}\n                        onChange={(e) => setManualMacros(prev => ({ ...prev, sugar: Number(e.target.value) }))}\n                        className=\"input text-sm w-full\"\n                        min=\"0\"\n                        step=\"0.1\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-xs font-medium text-gray-700 mb-1\">Sodium (mg)</label>\n                      <input\n                        type=\"number\"\n                        value={manualMacros.sodium}\n                        onChange={(e) => setManualMacros(prev => ({ ...prev, sodium: Number(e.target.value) }))}\n                        className=\"input text-sm w-full\"\n                        min=\"0\"\n                        step=\"0.1\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"flex justify-end\">\n                  <button\n                    type=\"button\"\n                    onClick={cancelAddMeal}\n                    className=\"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </form>\n            </div>\n          )}\n\n          {!showAddMealForm && (\n            <div className=\"text-center py-8 text-gray-500\">\n              <Utensils className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n              <p className=\"text-lg font-medium mb-2\">No meals logged today</p>\n              <p className=\"text-sm\">Click \"Add Meal\" to start tracking your nutrition</p>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Overview;\n"],"mappings":"qIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,MAAM,CAAEC,WAAW,CAAEC,SAAS,CAAEC,iBAAiB,CAAEC,OAAO,CAAEC,OAAO,CAAEC,OAAO,KAAQ,UAAU,CACvG,OAASC,MAAM,CAAEC,KAAK,CAAEC,IAAI,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,GAAG,CAAEC,IAAI,CAAEC,QAAQ,CAAEC,KAAK,CAAEC,KAAK,CAAEC,IAAI,CAAEC,CAAC,CAAEC,OAAO,CAAEC,KAAK,CAAEC,WAAW,CAAEC,YAAY,CAAEC,SAAS,KAAQ,cAAc,CAC1K,OAASC,UAAU,CAAEC,QAAQ,CAAYC,YAAY,KAAQ,iBAAiB,CAC9E,OAASC,mBAAmB,KAAQ,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAuC3D;AACA,KAAM,CAAAC,cAIJ,CAAGC,IAAA,EAAuD,IAAtD,CAAEC,aAAa,CAAEC,YAAY,CAAEC,gBAAiB,CAAC,CAAAH,IAAA,CACrD,KAAM,CAACI,UAAU,CAAEC,aAAa,CAAC,CAAG1C,QAAQ,CAAQ,EAAE,CAAC,CACvD,KAAM,CAAC2C,OAAO,CAAEC,UAAU,CAAC,CAAG5C,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACd4C,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACFD,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAE,OAAO,CAAG5C,MAAM,CAAC,GAAI,CAAA6C,IAAI,CAAC,CAAC,CAAE,YAAY,CAAC,CAChD,KAAM,CAAAC,SAAS,CAAG9C,MAAM,CAAC,GAAI,CAAA6C,IAAI,CAACA,IAAI,CAACE,GAAG,CAAC,CAAC,CAAG,CAAC,CAAG,EAAE,CAAG,EAAE,CAAG,EAAE,CAAG,IAAI,CAAC,CAAE,YAAY,CAAC,CAEtF;AACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAvB,QAAQ,CAACwB,UAAU,CAACH,SAAS,CAAEF,OAAO,CAAC,CAC9D,KAAM,CAAAM,KAAK,CAAGF,QAAQ,CAACG,IAAI,CAACD,KAAK,EAAI,EAAE,CAEvC;AACA,KAAM,CAAAE,WAAW,CAAGF,KAAK,CAACG,MAAM,CAAC,CAACC,GAAQ,CAAEC,IAAS,GAAK,CACxD,KAAM,CAAAC,IAAI,CAAGD,IAAI,CAACE,SAAS,CAC3B,GAAI,CAACH,GAAG,CAACE,IAAI,CAAC,CAAE,CACdF,GAAG,CAACE,IAAI,CAAC,CAAG,CAAEE,QAAQ,CAAE,CAAC,CAAEC,OAAO,CAAE,CAAE,CAAC,CACzC,CACAL,GAAG,CAACE,IAAI,CAAC,CAACE,QAAQ,EAAIH,IAAI,CAACG,QAAQ,EAAI,CAAC,CACxCJ,GAAG,CAACE,IAAI,CAAC,CAACG,OAAO,EAAIJ,IAAI,CAACI,OAAO,EAAI,CAAC,CACtC,MAAO,CAAAL,GAAG,CACZ,CAAC,CAAE,CAAC,CAAC,CAAC,CAEN;AACA,KAAM,CAAAM,eAAe,CAAGC,MAAM,CAACC,OAAO,CAACV,WAAW,CAAC,CAACW,GAAG,CAACC,KAAA,MAAC,CAACR,IAAI,CAAES,MAAM,CAAgB,CAAAD,KAAA,OAAM,CAC1FR,IAAI,CACJE,QAAQ,CAAEO,MAAM,CAACP,QAAQ,CACzBQ,OAAO,CAAE5B,gBAAgB,CAAG2B,MAAM,CAACP,QACrC,CAAC,EAAC,CAAC,CAACS,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,GAAI,CAAAxB,IAAI,CAACuB,CAAC,CAACZ,IAAI,CAAC,CAACc,OAAO,CAAC,CAAC,CAAG,GAAI,CAAAzB,IAAI,CAACwB,CAAC,CAACb,IAAI,CAAC,CAACc,OAAO,CAAC,CAAC,CAAC,CAE3E9B,aAAa,CAACoB,eAAe,CAAC,CAChC,CAAE,MAAOW,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACrD,CAAC,OAAS,CACR7B,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAA+B,gBAAgB,CAAGpC,YAAY,CAAGD,aAAa,CACrD,KAAM,CAAAsC,YAAY,CAAGD,gBAAgB,CAAG,CAAC,CACzC,KAAM,CAAAE,mBAAmB,CAAGC,IAAI,CAACC,GAAG,CAACJ,gBAAgB,CAAC,CAEtD;AACA,KAAM,CAAAK,mBAAmB,CAAGvC,UAAU,CAACwC,MAAM,CAAG,CAAC,CAC7CxC,UAAU,CAACc,MAAM,CAAC,CAAC2B,GAAG,CAAEC,GAAG,GAAKD,GAAG,CAAGC,GAAG,CAACf,OAAO,CAAE,CAAC,CAAC,CAAG3B,UAAU,CAACwC,MAAM,CACzE,CAAC,CAEL;AACA;AACA,KAAM,CAAAG,aAAa,CAAG,IAAI,CAC1B,KAAM,CAAAC,mBAAmB,CAAGR,mBAAmB,CAAGO,aAAa,CAC/D,KAAM,CAAAE,YAAY,CAAGN,mBAAmB,GAAK,CAAC,CAAGF,IAAI,CAACC,GAAG,CAACM,mBAAmB,CAAGL,mBAAmB,CAAC,CAAG,CAAC,CACxG,KAAM,CAAAO,aAAa,CAAGD,YAAY,CAAG,CAAC,CAEtC,GAAI3C,OAAO,CAAE,CACX,mBACEZ,IAAA,QAAKyD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,cACpD1D,IAAA,QAAKyD,SAAS,CAAC,8DAA8D,CAAM,CAAC,CACjF,CAAC,CAEV,CAEA,mBACEvD,KAAA,QAAKuD,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExBxD,KAAA,QAAKuD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eAC3CxD,KAAA,QAAKuD,SAAS,CAAC,aAAa,CAAAC,QAAA,eAClCxD,KAAA,QAAKuD,SAAS,CAAC,iCAAiC,CAAAC,QAAA,EAAEnD,aAAa,CAAC,MAAI,EAAK,CAAC,cAC1EP,IAAA,QAAKyD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,gBAAc,CAAK,CAAC,EACxD,CAAC,cACNxD,KAAA,QAAKuD,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BxD,KAAA,QAAKuD,SAAS,CAAC,oCAAoC,CAAAC,QAAA,EAAElD,YAAY,CAAC,MAAI,EAAK,CAAC,cAC5ER,IAAA,QAAKyD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,eAAa,CAAK,CAAC,EACvD,CAAC,cACNxD,KAAA,QAAKuD,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BxD,KAAA,QAAKuD,SAAS,sBAAAE,MAAA,CAAuBd,YAAY,CAAG,gBAAgB,CAAG,iBAAiB,CAAG,CAAAa,QAAA,EACxFZ,mBAAmB,CAACc,OAAO,CAAC,CAAC,CAAC,CAAC,MAClC,EAAK,CAAC,cACN1D,KAAA,QAAKuD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,KAAG,CAACb,YAAY,CAAG,MAAM,CAAG,MAAM,EAAM,CAAC,EAC7E,CAAC,cACP3C,KAAA,QAAKuD,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B1D,IAAA,QAAKyD,SAAS,sBAAAE,MAAA,CAAuBV,mBAAmB,CAAG,CAAC,CAAG,gBAAgB,CAAG,iBAAiB,CAAG,CAAAS,QAAA,CACnGX,IAAI,CAACC,GAAG,CAACC,mBAAmB,CAAC,CAACW,OAAO,CAAC,CAAC,CAAC,CACtC,CAAC,cACN1D,KAAA,QAAKuD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EACnCT,mBAAmB,CAAG,CAAC,CAAG,aAAa,CAAG,aAAa,CAAC,MAC3D,EAAK,CAAC,EACH,CAAC,EACH,CAAC,cAGN/C,KAAA,QAAKuD,SAAS,CAAC,gDAAgD,CAAAC,QAAA,eAC7D1D,IAAA,OAAIyD,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,0BAAwB,CAAI,CAAC,CAE7EhD,UAAU,CAACwC,MAAM,CAAG,CAAC,cACpBhD,KAAA,QAAKuD,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBxD,KAAA,QAAKuD,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC3CxD,KAAA,SAAMuD,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAC,wBAAsB,CAACT,mBAAmB,CAAG,CAAC,CAAG,SAAS,CAAG,SAAS,CAAC,GAAC,EAAM,CAAC,cAC/G/C,KAAA,SAAMuD,SAAS,gBAAAE,MAAA,CAAiBV,mBAAmB,CAAG,CAAC,CAAG,gBAAgB,CAAG,iBAAiB,CAAG,CAAAS,QAAA,EAC9FX,IAAI,CAACC,GAAG,CAACC,mBAAmB,CAAC,CAACW,OAAO,CAAC,CAAC,CAAC,CAAC,WAC5C,EAAM,CAAC,EACJ,CAAC,CAELX,mBAAmB,GAAK,CAAC,eACxB/C,KAAA,QAAKuD,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC3C1D,IAAA,SAAMyD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,4CAA0C,CAAM,CAAC,cACjF1D,IAAA,SAAMyD,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CACxCH,YAAY,CAAG,EAAE,IAAAI,MAAA,CAAMZ,IAAI,CAACc,KAAK,CAACN,YAAY,CAAC,aAAAI,MAAA,CAAaH,aAAa,CAACI,OAAO,CAAC,CAAC,CAAC,UAAQ,CACzF,CAAC,EACJ,CACN,cAED5D,IAAA,QAAKyD,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,mEAE5C,CAAK,CAAC,EACH,CAAC,cAEN1D,IAAA,QAAKyD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,oFAEvC,CAAK,CACN,EACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED;AACA,KAAM,CAAAI,eAAe,CAAIC,QAAgB,EAAK,CAC5C,KAAM,CAAAC,KAAgC,CAAG,CACvCC,SAAS,CAAE,IAAI,CACfC,KAAK,CAAE,IAAI,CACXC,MAAM,CAAE,KAAK,CACbC,KAAK,CAAE,IACT,CAAC,CACD,MAAO,CAAAJ,KAAK,CAACD,QAAQ,CAACM,WAAW,CAAC,CAAC,CAAC,EAAI,KAAK,CAC/C,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAIP,QAAgB,EAAK,CAC7C,KAAM,CAAAQ,MAAiC,CAAG,CACxCN,SAAS,CAAE,+BAA+B,CAC1CC,KAAK,CAAE,6BAA6B,CACpCC,MAAM,CAAE,2BAA2B,CACnCC,KAAK,CAAE,+BACT,CAAC,CACD,MAAO,CAAAG,MAAM,CAACR,QAAQ,CAACM,WAAW,CAAC,CAAC,CAAC,EAAI,2BAA2B,CACtE,CAAC,CAED,KAAM,CAAAG,cAAc,CAAGA,CAACC,UAAkB,CAAEC,SAAiB,GAAK,CAChE,GAAI,CACF,MAAO,CAAAvG,MAAM,CAAC,GAAI,CAAA6C,IAAI,CAACyD,UAAU,CAAC,CAAEC,SAAS,CAAC,CAChD,CAAE,MAAOhC,KAAK,CAAE,CACd,MAAO,CAAA+B,UAAU,CACnB,CACF,CAAC,CAED,KAAM,CAAAE,QAAkB,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAG5G,QAAQ,CAAqB,IAAI,CAAC,CAChE,KAAM,CAAC6G,cAAc,CAAEC,iBAAiB,CAAC,CAAG9G,QAAQ,CAAwB,IAAI,CAAC,CACjF,KAAM,CAAC+G,UAAU,CAAEC,aAAa,CAAC,CAAGhH,QAAQ,CAAa,EAAE,CAAC,CAE5D;AACA,KAAM,CAAAiH,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAnE,IAAI,CAAC,CAAC,CAACoE,QAAQ,CAAC,CAAC,CAClC,GAAID,IAAI,CAAG,EAAE,CAAE,MAAO,SAAS,CAC/B,GAAIA,IAAI,CAAG,EAAE,CAAE,MAAO,WAAW,CACjC,MAAO,SAAS,CAClB,CAAC,CACD,KAAM,CAACvE,OAAO,CAAEC,UAAU,CAAC,CAAG5C,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACoH,KAAK,CAAC,CAAGpH,QAAQ,CAACE,MAAM,CAAC,GAAI,CAAA6C,IAAI,CAAC,CAAC,CAAE,YAAY,CAAC,CAAC,CAC1D,KAAM,CAACsE,WAAW,CAAEC,cAAc,CAAC,CAAGtH,QAAQ,CAAgB,IAAI,CAAC,CACnE,KAAM,CAACuH,QAAQ,CAAEC,WAAW,CAAC,CAAGxH,QAAQ,CAAC,CACvCyH,WAAW,CAAE,EAAE,CACf7D,QAAQ,CAAE,CAAC,CACXC,OAAO,CAAE,CAAC,CACV6D,KAAK,CAAE,CAAC,CACRC,GAAG,CAAE,CAAC,CACNC,KAAK,CAAE,CAAC,CACRC,KAAK,CAAE,CAAC,CACRC,MAAM,CAAE,CACV,CAAC,CAAC,CACF,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGhI,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACiI,eAAe,CAAEC,kBAAkB,CAAC,CAAGlI,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAACmI,OAAO,CAAEC,UAAU,CAAC,CAAGpI,QAAQ,CAAC,CACrCqI,SAAS,CAAE,WAAW,CACtBZ,WAAW,CAAE,EACf,CAAC,CAAC,CACF,KAAM,CAACa,YAAY,CAAEC,eAAe,CAAC,CAAGvI,QAAQ,CAAC,CAC/C4D,QAAQ,CAAE,CAAC,CACXC,OAAO,CAAE,CAAC,CACV6D,KAAK,CAAE,CAAC,CACRC,GAAG,CAAE,CAAC,CACNC,KAAK,CAAE,CAAC,CACRC,KAAK,CAAE,CAAC,CACRC,MAAM,CAAE,CACV,CAAC,CAAC,CACF,KAAM,CAACU,UAAU,CAAEC,aAAa,CAAC,CAAGzI,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAAC0I,cAAc,CAAEC,iBAAiB,CAAC,CAAG3I,QAAQ,CAAgB,IAAI,CAAC,CACzE,KAAM,CAAC4I,SAAS,CAAEC,YAAY,CAAC,CAAG7I,QAAQ,CAAQ,EAAE,CAAC,CACrD,KAAM,CAAC8I,gBAAgB,CAAEC,mBAAmB,CAAC,CAAG/I,QAAQ,CAAC,KAAK,CAAC,CAC/D,KAAM,CAACgJ,aAAa,CAAEC,gBAAgB,CAAC,CAAGjJ,QAAQ,CAAC,KAAK,CAAC,CACzD,KAAM,CAACkJ,oBAAoB,CAAEC,uBAAuB,CAAC,CAAGnJ,QAAQ,CAAC,KAAK,CAAC,CACvE,KAAM,CAACoJ,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGrJ,QAAQ,CAAM,IAAI,CAAC,CACrE,KAAM,CAACsJ,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGvJ,QAAQ,CAAC,WAAW,CAAC,CACrE,KAAM,CAACwJ,QAAQ,CAAEC,WAAW,CAAC,CAAGzJ,QAAQ,CAAQ,EAAE,CAAC,CACnD,KAAM,CAAC0J,aAAa,CAAEC,gBAAgB,CAAC,CAAG3J,QAAQ,CAAC,GAAI,CAAA+C,IAAI,CAAC,CAAC,CAAC,CAC9D,KAAM,CAAC6G,WAAW,CAAEC,cAAc,CAAC,CAAG7J,QAAQ,CAAC,CAC7C8J,cAAc,CAAE,CAAC,CACjBC,YAAY,CAAE,CAAC,CACfpH,OAAO,CAAE,KACX,CAAC,CAAC,CACF,KAAM,CAACqH,WAAW,CAAEC,cAAc,CAAC,CAAGjK,QAAQ,CAAC,CAAC,CAAC,CAEjDC,SAAS,CAAC,IAAM,CACdiK,gBAAgB,CAAC,CAAC,CAClBC,aAAa,CAAC,CAAC,CACfC,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAENnK,SAAS,CAAC,IAAM,CACdmK,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACV,aAAa,CAAC,CAAC,CAEnB,KAAM,CAAAQ,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,KAAAG,qBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CACF5H,UAAU,CAAC,IAAI,CAAC,CAEhB;AACA,KAAM,CAAA6H,eAAe,CAAG,KAAM,CAAA/I,UAAU,CAACgJ,GAAG,CAAC,CAAC,CAC9C,GAAID,eAAe,CAACpH,IAAI,CAACsD,OAAO,CAAE,CAChCC,UAAU,CAAC6D,eAAe,CAACpH,IAAI,CAACsD,OAAO,CAAC,CAC1C,CAEA;AACA,KAAM,CAAAgE,aAAa,CAAG,KAAM,CAAAhJ,QAAQ,CAACiJ,SAAS,CAACxD,KAAK,CAAC,CACrD1C,OAAO,CAACmG,GAAG,CAAC,iBAAiB,CAAEF,aAAa,CAACtH,IAAI,CAAC,CAE3C;AACN,KAAM,CAAAD,KAAiB,CAAGuH,aAAa,CAACtH,IAAI,CAACD,KAAK,EAAI,EAAE,CACxD4D,aAAa,CAAC5D,KAAK,CAAC,CAAE;AACtB,KAAM,CAAA0H,aAAa,CAAG1H,KAAK,CAACG,MAAM,CAAC,CAAC2B,GAAW,CAAEzB,IAAc,GAAKyB,GAAG,EAAIzB,IAAI,CAACG,QAAQ,EAAI,CAAC,CAAC,CAAE,CAAC,CAAC,CAClG,KAAM,CAAAmH,YAAY,CAAG3H,KAAK,CAACG,MAAM,CAAC,CAAC2B,GAAW,CAAEzB,IAAc,GAAKyB,GAAG,EAAIzB,IAAI,CAACI,OAAO,EAAI,CAAC,CAAC,CAAE,CAAC,CAAC,CAChG,KAAM,CAAAmH,UAAU,CAAG5H,KAAK,CAACG,MAAM,CAAC,CAAC2B,GAAW,CAAEzB,IAAc,GAAKyB,GAAG,EAAIzB,IAAI,CAACiE,KAAK,EAAI,CAAC,CAAC,CAAE,CAAC,CAAC,CAC5F,KAAM,CAAAuD,QAAQ,CAAG7H,KAAK,CAACG,MAAM,CAAC,CAAC2B,GAAW,CAAEzB,IAAc,GAAKyB,GAAG,EAAIzB,IAAI,CAACkE,GAAG,EAAI,CAAC,CAAC,CAAE,CAAC,CAAC,CACxF,KAAM,CAAAuD,UAAU,CAAG9H,KAAK,CAACG,MAAM,CAAC,CAAC2B,GAAW,CAAEzB,IAAc,GAAKyB,GAAG,EAAIzB,IAAI,CAACmE,KAAK,EAAI,CAAC,CAAC,CAAE,CAAC,CAAC,CAC5F,KAAM,CAAAuD,UAAU,CAAG/H,KAAK,CAACG,MAAM,CAAC,CAAC2B,GAAW,CAAEzB,IAAc,GAAKyB,GAAG,EAAIzB,IAAI,CAACoE,KAAK,EAAI,CAAC,CAAC,CAAE,CAAC,CAAC,CAC5F,KAAM,CAAAuD,WAAW,CAAGhI,KAAK,CAACG,MAAM,CAAC,CAAC2B,GAAW,CAAEzB,IAAc,GAAKyB,GAAG,EAAIzB,IAAI,CAACqE,MAAM,EAAI,CAAC,CAAC,CAAE,CAAC,CAAC,CAE9F;AACA,KAAM,CAAAuD,aAAa,CAAG,CACpBC,cAAc,CAAER,aAAa,CAC7BS,aAAa,CAAER,YAAY,CAC3BS,WAAW,CAAER,UAAU,CACvBS,SAAS,CAAER,QAAQ,CACnBS,WAAW,CAAER,UAAU,CACvBS,WAAW,CAAER,UAAU,CACvBS,YAAY,CAAER,WAAW,CACzBS,aAAa,CAAE,EAAAxB,qBAAA,CAAAI,eAAe,CAACpH,IAAI,CAACsD,OAAO,UAAA0D,qBAAA,iBAA5BA,qBAAA,CAA8ByB,cAAc,GAAI,CAAC,CAChEC,YAAY,CAAE,EAAAzB,sBAAA,CAAAG,eAAe,CAACpH,IAAI,CAACsD,OAAO,UAAA2D,sBAAA,iBAA5BA,sBAAA,CAA8B0B,aAAa,GAAI,CAAC,CAC9DC,YAAY,CAAEnB,aAAa,GAAK,EAAAP,sBAAA,CAAAE,eAAe,CAACpH,IAAI,CAACsD,OAAO,UAAA4D,sBAAA,iBAA5BA,sBAAA,CAA8BuB,cAAc,GAAI,CAAC,CAAC,CAClFI,WAAW,CAAEnB,YAAY,GAAK,EAAAP,sBAAA,CAAAC,eAAe,CAACpH,IAAI,CAACsD,OAAO,UAAA6D,sBAAA,iBAA5BA,sBAAA,CAA8BwB,aAAa,GAAI,CAAC,CAAC,CAC/EtI,IAAI,CAAE0D,KACR,CAAC,CAEF1C,OAAO,CAACmG,GAAG,CAAC,4BAA4B,CAAEQ,aAAa,CAAC,CACxDvE,iBAAiB,CAACuE,aAAa,CAAC,CAElC,CAAE,MAAO5G,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACvD,CAAC,OAAS,CACR7B,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED;AACA3C,SAAS,CAAC,IAAM,CACdiK,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,CAAC9C,KAAK,CAAC,CAAC,CAEX;AACA,KAAM,CAAA+E,WAAW,CAAGA,CAAA,GAAM,CACxBjC,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAED;AACA,KAAM,CAAAkC,aAAa,CAAI3I,IAAc,EAAK,CACxC6D,cAAc,CAAC7D,IAAI,CAAC4I,EAAE,CAAC,CACvB7E,WAAW,CAAC,CACVC,WAAW,CAAEhE,IAAI,CAACgE,WAAW,CAC7B7D,QAAQ,CAAEH,IAAI,CAACG,QAAQ,CACvBC,OAAO,CAAEJ,IAAI,CAACI,OAAO,CACrB6D,KAAK,CAAEjE,IAAI,CAACiE,KAAK,CACjBC,GAAG,CAAElE,IAAI,CAACkE,GAAG,CACbC,KAAK,CAAEnE,IAAI,CAACmE,KAAK,CACjBC,KAAK,CAAEpE,IAAI,CAACoE,KAAK,CACjBC,MAAM,CAAErE,IAAI,CAACqE,MACf,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAwE,cAAc,CAAGA,CAAA,GAAM,CAC3BhF,cAAc,CAAC,IAAI,CAAC,CACpBE,WAAW,CAAC,CACVC,WAAW,CAAE,EAAE,CACf7D,QAAQ,CAAE,CAAC,CACXC,OAAO,CAAE,CAAC,CACV6D,KAAK,CAAE,CAAC,CACRC,GAAG,CAAE,CAAC,CACNC,KAAK,CAAE,CAAC,CACRC,KAAK,CAAE,CAAC,CACRC,MAAM,CAAE,CACV,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAyE,cAAc,CAAG,KAAO,CAAAC,MAAc,EAAK,CAC/CxE,eAAe,CAAC,IAAI,CAAC,CACrB,GAAI,CACF,KAAM,CAAArG,QAAQ,CAAC8K,MAAM,CAACD,MAAM,CAAEjF,QAAQ,CAAC,CAEvC;AACAP,aAAa,CAAC0F,IAAI,EAAIA,IAAI,CAACzI,GAAG,CAACR,IAAI,EACjCA,IAAI,CAAC4I,EAAE,GAAKG,MAAM,CAAAG,aAAA,CAAAA,aAAA,IAAQlJ,IAAI,EAAK8D,QAAQ,EAAK9D,IAClD,CAAC,CAAC,CAEF;AACA,KAAM,CAAAyG,gBAAgB,CAAC,CAAC,CAExB5C,cAAc,CAAC,IAAI,CAAC,CAEpB;AACAsF,MAAM,CAACC,aAAa,CAAC,GAAI,CAAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC,CACxDF,MAAM,CAACC,aAAa,CAAC,GAAI,CAAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,CACvDF,MAAM,CAACC,aAAa,CAAC,GAAI,CAAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC,CAE1D,CAAE,MAAOrI,KAAU,CAAE,KAAAsI,eAAA,CAAAC,oBAAA,CACnBtI,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAC9CwI,KAAK,CAAC,EAAAF,eAAA,CAAAtI,KAAK,CAACvB,QAAQ,UAAA6J,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgB1J,IAAI,UAAA2J,oBAAA,iBAApBA,oBAAA,CAAsBvI,KAAK,GAAI,uBAAuB,CAAC,CAC/D,CAAC,OAAS,CACRuD,eAAe,CAAC,KAAK,CAAC,CACxB,CACF,CAAC,CAED;AACA,KAAM,CAAAkF,aAAa,CAAG,KAAO,CAAAC,QAAiB,EAAK,CACjD,GAAI,CAAChF,OAAO,CAACV,WAAW,CAAC2F,IAAI,CAAC,CAAC,CAAE,CAC/BH,KAAK,CAAC,iCAAiC,CAAC,CACxC,OACF,CAEAxE,aAAa,CAAC,IAAI,CAAC,CACnB,GAAI,CACF,KAAM,CAAA4E,QAAQ,CAAAV,aAAA,EACZhJ,SAAS,CAAEyD,KAAK,CAChBiB,SAAS,CAAEF,OAAO,CAACE,SAAS,CAC5BZ,WAAW,CAAEU,OAAO,CAACV,WAAW,EAC5B0F,QAAQ,CAAG7E,YAAY,CAAG,CAAC,CAAC,CACjC,CAED,KAAM,CAAA3G,QAAQ,CAAC2L,GAAG,CAACD,QAAQ,CAAC,CAE5B;AACAjF,UAAU,CAAC,CACTC,SAAS,CAAE,WAAW,CACtBZ,WAAW,CAAE,EACf,CAAC,CAAC,CACFc,eAAe,CAAC,CACd3E,QAAQ,CAAE,CAAC,CACXC,OAAO,CAAE,CAAC,CACV6D,KAAK,CAAE,CAAC,CACRC,GAAG,CAAE,CAAC,CACNC,KAAK,CAAE,CAAC,CACRC,KAAK,CAAE,CAAC,CACRC,MAAM,CAAE,CACV,CAAC,CAAC,CACFI,kBAAkB,CAAC,KAAK,CAAC,CAEzB;AACA,KAAM,CAAAgC,gBAAgB,CAAC,CAAC,CAExB;AACA0C,MAAM,CAACC,aAAa,CAAC,GAAI,CAAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAClDF,MAAM,CAACC,aAAa,CAAC,GAAI,CAAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC,CACxDF,MAAM,CAACC,aAAa,CAAC,GAAI,CAAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,CACvDF,MAAM,CAACC,aAAa,CAAC,GAAI,CAAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC,CAE1D,CAAE,MAAOrI,KAAU,CAAE,KAAA8I,gBAAA,CAAAC,qBAAA,CACnB9I,OAAO,CAACD,KAAK,CAAC,qBAAqB,CAAEA,KAAK,CAAC,CAC3CwI,KAAK,CAAC,EAAAM,gBAAA,CAAA9I,KAAK,CAACvB,QAAQ,UAAAqK,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBlK,IAAI,UAAAmK,qBAAA,iBAApBA,qBAAA,CAAsB/I,KAAK,GAAI,oBAAoB,CAAC,CAC5D,CAAC,OAAS,CACRgE,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CAAC,CAED,KAAM,CAAAgF,aAAa,CAAGA,CAAA,GAAM,CAC1BvF,kBAAkB,CAAC,KAAK,CAAC,CACzBE,UAAU,CAAC,CACTC,SAAS,CAAE,WAAW,CACtBZ,WAAW,CAAE,EACf,CAAC,CAAC,CACFc,eAAe,CAAC,CACd3E,QAAQ,CAAE,CAAC,CACXC,OAAO,CAAE,CAAC,CACV6D,KAAK,CAAE,CAAC,CACRC,GAAG,CAAE,CAAC,CACNC,KAAK,CAAE,CAAC,CACRC,KAAK,CAAE,CAAC,CACRC,MAAM,CAAE,CACV,CAAC,CAAC,CACJ,CAAC,CAED;AACA,KAAM,CAAA4F,oBAAoB,CAAG,KAAO,CAAAjK,IAAc,EAAK,CACrDkF,iBAAiB,CAAClF,IAAI,CAAC4I,EAAE,CAAC,CAC1B,GAAI,CACF,KAAM,CAAAzK,YAAY,CAAC+L,cAAc,CAAClK,IAAI,CAAC4I,EAAE,CAAC,CAC1C;AACF,CAAE,MAAO5H,KAAU,CAAE,KAAAmJ,gBAAA,CACnB,GAAI,EAAAA,gBAAA,CAAAnJ,KAAK,CAACvB,QAAQ,UAAA0K,gBAAA,iBAAdA,gBAAA,CAAgBC,MAAM,IAAK,GAAG,CAAE,CAClCZ,KAAK,CAAC,4BAA4B,CAAC,CACrC,CAAC,IAAM,CACLA,KAAK,CAAC,qBAAqB,CAAC,CAC9B,CACF,CAAC,OAAS,CACRtE,iBAAiB,CAAC,IAAI,CAAC,CACzB,CACF,CAAC,CAED,KAAM,CAAAwB,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChCpB,mBAAmB,CAAC,IAAI,CAAC,CACzB,GAAI,CACF,KAAM,CAAA7F,QAAQ,CAAG,KAAM,CAAAtB,YAAY,CAACkM,MAAM,CAAC,CAAC,CAC5CjF,YAAY,CAAC3F,QAAQ,CAACG,IAAI,CAACuF,SAAS,EAAI,EAAE,CAAC,CAC7C,CAAE,MAAOnE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACnD,CAAC,OAAS,CACRsE,mBAAmB,CAAC,KAAK,CAAC,CAC5B,CACF,CAAC,CAED,KAAM,CAAAgF,yBAAyB,CAAIC,QAAa,EAAK,CACnD3E,oBAAoB,CAAC2E,QAAQ,CAAC,CAC9BzE,mBAAmB,CAACyE,QAAQ,CAAC3F,SAAS,CAAC,CAAE;AACzCc,uBAAuB,CAAC,IAAI,CAAC,CAC/B,CAAC,CAED,KAAM,CAAA8E,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACrC,GAAI,CAAC7E,iBAAiB,CAAE,OAExBX,aAAa,CAAC,IAAI,CAAC,CACnB,GAAI,CACF,KAAM,CAAA4E,QAAQ,CAAG,CACf1J,SAAS,CAAEyD,KAAK,CAChBiB,SAAS,CAAEiB,gBAAgB,CAC3B7B,WAAW,CAAE2B,iBAAiB,CAAC3B,WAAW,CAC1C7D,QAAQ,CAAEwF,iBAAiB,CAACxF,QAAQ,EAAI,CAAC,CACzCC,OAAO,CAAEuF,iBAAiB,CAACvF,OAAO,EAAI,CAAC,CACvC6D,KAAK,CAAE0B,iBAAiB,CAAC1B,KAAK,EAAI,CAAC,CACnCC,GAAG,CAAEyB,iBAAiB,CAACzB,GAAG,EAAI,CAAC,CAC/BC,KAAK,CAAEwB,iBAAiB,CAACxB,KAAK,EAAI,CAAC,CACnCC,KAAK,CAAEuB,iBAAiB,CAACvB,KAAK,EAAI,CAAC,CACnCC,MAAM,CAAEsB,iBAAiB,CAACtB,MAAM,EAAI,CACtC,CAAC,CAED,KAAM,CAAAnG,QAAQ,CAAC2L,GAAG,CAACD,QAAQ,CAAC,CAE5B;AACAlE,uBAAuB,CAAC,KAAK,CAAC,CAC9BE,oBAAoB,CAAC,IAAI,CAAC,CAC1BnB,kBAAkB,CAAC,KAAK,CAAC,CAAE;AAE3B;AACA,KAAM,CAAAgC,gBAAgB,CAAC,CAAC,CAExB;AACA0C,MAAM,CAACC,aAAa,CAAC,GAAI,CAAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAClDF,MAAM,CAACC,aAAa,CAAC,GAAI,CAAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC,CACxDF,MAAM,CAACC,aAAa,CAAC,GAAI,CAAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,CACvDF,MAAM,CAACC,aAAa,CAAC,GAAI,CAAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC,CAE1D,CAAE,MAAOrI,KAAU,CAAE,KAAAyJ,gBAAA,CAAAC,qBAAA,CACnBzJ,OAAO,CAACD,KAAK,CAAC,qBAAqB,CAAEA,KAAK,CAAC,CAC3CwI,KAAK,CAAC,EAAAiB,gBAAA,CAAAzJ,KAAK,CAACvB,QAAQ,UAAAgL,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgB7K,IAAI,UAAA8K,qBAAA,iBAApBA,qBAAA,CAAsB1J,KAAK,GAAI,oBAAoB,CAAC,CAC5D,CAAC,OAAS,CACRgE,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CAAC,CAED,KAAM,CAAA2F,cAAc,CAAGA,CAAA,GAAM,CAC3BjF,uBAAuB,CAAC,KAAK,CAAC,CAC9BE,oBAAoB,CAAC,IAAI,CAAC,CAC1BE,mBAAmB,CAAC,WAAW,CAAC,CAClC,CAAC,CAED,KAAM,CAAAa,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/BP,cAAc,CAAC6C,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE/J,OAAO,CAAE,IAAI,EAAG,CAAC,CACpD,GAAI,CACF,KAAM,CAAA0L,gBAAgB,CAAGlO,WAAW,CAACuJ,aAAa,CAAE,CAAE4E,YAAY,CAAE,CAAE,CAAC,CAAC,CACxE,KAAM,CAAAC,QAAQ,CAAGlO,iBAAiB,CAAC,CACjCmO,KAAK,CAAEH,gBAAgB,CACvBI,GAAG,CAAErO,SAAS,CAACiO,gBAAgB,CAAE,CAAEC,YAAY,CAAE,CAAE,CAAC,CACtD,CAAC,CAAC,CAEF;AACA,GAAI,CAAA9L,gBAAgB,CAAG,IAAI,CAC3B,GAAI,CAAAkM,gBAAgB,CAAG,GAAG,CAC1B,GAAI,KAAAC,sBAAA,CAAAC,sBAAA,CACF,KAAM,CAAAnE,eAAe,CAAG,KAAM,CAAA/I,UAAU,CAACgJ,GAAG,CAAC,CAAC,CAC9C,IAAAiE,sBAAA,CAAIlE,eAAe,CAACpH,IAAI,CAACsD,OAAO,UAAAgI,sBAAA,WAA5BA,sBAAA,CAA8B7C,cAAc,CAAE,CAChDtJ,gBAAgB,CAAGiI,eAAe,CAACpH,IAAI,CAACsD,OAAO,CAACmF,cAAc,CAChE,CACA,IAAA8C,sBAAA,CAAInE,eAAe,CAACpH,IAAI,CAACsD,OAAO,UAAAiI,sBAAA,WAA5BA,sBAAA,CAA8B5C,aAAa,CAAE,CAC/C0C,gBAAgB,CAAGjE,eAAe,CAACpH,IAAI,CAACsD,OAAO,CAACqF,aAAa,CAC/D,CACF,CAAE,MAAOvH,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,CAAEA,KAAK,CAAC,CAC1D,CAEA,KAAM,CAAAoK,gBAAgB,CAAGN,QAAQ,CAACtK,GAAG,CAAC,KAAO,CAAAkB,GAAG,EAAK,CACnD,KAAM,CAAA2J,OAAO,CAAG5O,MAAM,CAACiF,GAAG,CAAE,YAAY,CAAC,CACzC,GAAI,CACF,KAAM,CAAAjC,QAAQ,CAAG,KAAM,CAAAvB,QAAQ,CAACiJ,SAAS,CAACkE,OAAO,CAAC,CAClD,KAAM,CAAA1L,KAAK,CAAGF,QAAQ,CAACG,IAAI,CAACD,KAAK,EAAI,EAAE,CAEvC,KAAM,CAAA2L,SAAS,CAAG3L,KAAK,CAACG,MAAM,CAAC,CAACC,GAAQ,CAAEC,IAAS,GAAK,CACtDD,GAAG,CAACI,QAAQ,EAAIH,IAAI,CAACG,QAAQ,EAAI,CAAC,CAClCJ,GAAG,CAACK,OAAO,EAAIJ,IAAI,CAACI,OAAO,EAAI,CAAC,CAChC,MAAO,CAAAL,GAAG,CACZ,CAAC,CAAE,CAAEI,QAAQ,CAAE,CAAC,CAAEC,OAAO,CAAE,CAAE,CAAC,CAAC,CAE/B,MAAO,CACLH,IAAI,CAAEoL,OAAO,CACbE,SAAS,CAAE9O,MAAM,CAACiF,GAAG,CAAE,KAAK,CAAC,CAC7B8J,SAAS,CAAE/O,MAAM,CAACiF,GAAG,CAAE,GAAG,CAAC,CAC3BvB,QAAQ,CAAEmL,SAAS,CAACnL,QAAQ,CAC5BC,OAAO,CAAEkL,SAAS,CAAClL,OAAO,CAC1BqL,YAAY,CAAE1M,gBAAgB,CAC9B2M,WAAW,CAAET,gBAAgB,CAC7BU,WAAW,CAAEL,SAAS,CAACnL,QAAQ,EAAIpB,gBAAgB,CACnD6M,UAAU,CAAEN,SAAS,CAAClL,OAAO,EAAI6K,gBAAgB,CACjDY,OAAO,CAAEP,SAAS,CAACnL,QAAQ,EAAIpB,gBAAgB,EAAIuM,SAAS,CAAClL,OAAO,EAAI6K,gBAAgB,CACxFa,OAAO,CAAEnM,KAAK,CAAC6B,MAAM,CAAG,CAAC,CACzBzE,OAAO,CAAEA,OAAO,CAAC2E,GAAG,CACtB,CAAC,CACH,CAAE,MAAOV,KAAK,CAAE,CACd,MAAO,CACLf,IAAI,CAAEoL,OAAO,CACbE,SAAS,CAAE9O,MAAM,CAACiF,GAAG,CAAE,KAAK,CAAC,CAC7B8J,SAAS,CAAE/O,MAAM,CAACiF,GAAG,CAAE,GAAG,CAAC,CAC3BvB,QAAQ,CAAE,CAAC,CACXC,OAAO,CAAE,CAAC,CACVqL,YAAY,CAAE1M,gBAAgB,CAC9B2M,WAAW,CAAET,gBAAgB,CAC7BU,WAAW,CAAE,KAAK,CAClBC,UAAU,CAAE,KAAK,CACjBC,OAAO,CAAE,KAAK,CACdC,OAAO,CAAE,KAAK,CACd/O,OAAO,CAAEA,OAAO,CAAC2E,GAAG,CACtB,CAAC,CACH,CACF,CAAC,CAAC,CAEF,KAAM,CAAAqK,WAAW,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAACb,gBAAgB,CAAC,CACvDpF,WAAW,CAAC+F,WAAW,CAAC,CAExB;AACA,KAAM,CAAAzF,YAAY,CAAGyF,WAAW,CAACG,MAAM,CAACxK,GAAG,EAAIA,GAAG,CAACoK,OAAO,CAAC,CAC3D,KAAM,CAAAzF,cAAc,CAAGC,YAAY,CAAC9E,MAAM,CAAG,CAAC,CAC1C8E,YAAY,CAACxG,MAAM,CAAC,CAAC2B,GAAG,CAAEC,GAAG,GAAKD,GAAG,EAAIC,GAAG,CAAC+J,YAAY,CAAG/J,GAAG,CAACvB,QAAQ,CAAC,CAAE,CAAC,CAAC,CAAGmG,YAAY,CAAC9E,MAAM,CACnG,CAAC,CAEL4E,cAAc,CAAC,CACbC,cAAc,CAAEhF,IAAI,CAACc,KAAK,CAACkE,cAAc,CAAC,CAC1CC,YAAY,CAAEA,YAAY,CAAC9E,MAAM,CACjCtC,OAAO,CAAE,KACX,CAAC,CAAC,CAEJ,CAAE,MAAO8B,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACjDoF,cAAc,CAAC6C,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE/J,OAAO,CAAE,KAAK,EAAG,CAAC,CACvD,CACF,CAAC,CAED,KAAM,CAAAiN,YAAY,CAAIC,SAA0B,EAAK,CACnDlG,gBAAgB,CAAC+C,IAAI,EACnBmD,SAAS,GAAK,MAAM,CAAGtP,OAAO,CAACmM,IAAI,CAAE,CAAC,CAAC,CAAGpM,OAAO,CAACoM,IAAI,CAAE,CAAC,CAC3D,CAAC,CACH,CAAC,CAED;AAEA;AACAzM,SAAS,CAAC,IAAM,CACd,KAAM,CAAA6P,sBAAsB,CAAGA,CAAA,GAAM,CACnC,GAAI,CAACC,QAAQ,CAACC,MAAM,CAAE,CACpBtL,OAAO,CAACmG,GAAG,CAAC,wCAAwC,CAAC,CACrDX,gBAAgB,CAAC,CAAC,CACpB,CACF,CAAC,CAED6F,QAAQ,CAACE,gBAAgB,CAAC,kBAAkB,CAAEH,sBAAsB,CAAC,CACrE,MAAO,IAAMC,QAAQ,CAACG,mBAAmB,CAAC,kBAAkB,CAAEJ,sBAAsB,CAAC,CACvF,CAAC,CAAE,EAAE,CAAC,CAEN;AACA7P,SAAS,CAAC,IAAM,CACd,KAAM,CAAAkQ,mBAAmB,CAAIC,CAAe,EAAK,CAC/C,GAAIA,CAAC,CAACC,GAAG,GAAK,WAAW,EAAID,CAAC,CAACC,GAAG,GAAK,aAAa,CAAE,CACpD3L,OAAO,CAACmG,GAAG,CAAC,4CAA4C,CAAC,CACzDX,gBAAgB,CAAC,CAAC,CACpB,CACF,CAAC,CAED;AACA,KAAM,CAAAoG,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,KAAM,CAAArN,GAAG,CAAGF,IAAI,CAACE,GAAG,CAAC,CAAC,CACtB;AACA,GAAIA,GAAG,CAAG+G,WAAW,CAAG,IAAI,CAAE,CAC5BtF,OAAO,CAACmG,GAAG,CAAC,2CAA2C,CAAC,CACxDZ,cAAc,CAAChH,GAAG,CAAC,CACnBiH,gBAAgB,CAAC,CAAC,CAClBE,YAAY,CAAC,CAAC,CAChB,CACF,CAAC,CAEDwC,MAAM,CAACqD,gBAAgB,CAAC,SAAS,CAAEE,mBAAmB,CAAC,CACvDvD,MAAM,CAACqD,gBAAgB,CAAC,iBAAiB,CAAEK,iBAAiB,CAAC,CAE7D,MAAO,IAAM,CACX1D,MAAM,CAACsD,mBAAmB,CAAC,SAAS,CAAEC,mBAAmB,CAAC,CAC1DvD,MAAM,CAACsD,mBAAmB,CAAC,iBAAiB,CAAEI,iBAAiB,CAAC,CAClE,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,kBAAkB,CAAGA,CAACC,QAAgB,CAAEC,IAAY,GAAK,CAC7D,MAAO,CAAA3L,IAAI,CAAC4L,GAAG,CAAC,CAAC,CAAED,IAAI,CAAGD,QAAQ,CAAC,CACrC,CAAC,CAED,KAAM,CAAAG,iBAAiB,CAAGA,CAACH,QAAgB,CAAEC,IAAY,GAAK,CAC5D,MAAO,CAAA3L,IAAI,CAAC8L,GAAG,CAAC,GAAG,CAAGJ,QAAQ,CAAGC,IAAI,CAAI,GAAG,CAAC,CAC/C,CAAC,CAED,KAAM,CAAAI,gBAAgB,CAAIC,QAAgB,EAAK,CAC7C,GAAIA,QAAQ,EAAI,GAAG,CAAE,MAAO,gBAAgB,CAC5C,MAAO,gBAAgB,CACzB,CAAC,CAED,KAAM,CAAAC,aAAa,CAAIC,GAAY,EAAK,CACtC,MAAO,CAAAA,GAAG,cACRjP,IAAA,QAAKyD,SAAS,CAAC,sEAAsE,CAAAC,QAAA,cACnF1D,IAAA,CAACnB,UAAU,EAAC4E,SAAS,CAAC,0BAA0B,CAAE,CAAC,CAChD,CAAC,cAENzD,IAAA,QAAKyD,SAAS,CAAC,mEAAmE,CAAAC,QAAA,cAChF1D,IAAA,CAACtB,MAAM,EAAC+E,SAAS,CAAC,uBAAuB,CAAE,CAAC,CACzC,CACN,CACH,CAAC,CAED,GAAI7C,OAAO,CAAE,CACX,mBACEZ,IAAA,QAAKyD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,cACpD1D,IAAA,QAAKyD,SAAS,CAAC,iEAAiE,CAAM,CAAC,CACpF,CAAC,CAEV,CAEA;AACAd,OAAO,CAACmG,GAAG,CAAC,2BAA2B,CAAE,CACvClE,OAAO,CACPE,cAAc,CACdO,KACF,CAAC,CAAC,CAEF,GAAI,CAACT,OAAO,CAAE,CACZ,mBACE1E,KAAA,QAAKuD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC1D,IAAA,CAACtB,MAAM,EAAC+E,SAAS,CAAC,sCAAsC,CAAE,CAAC,cAC3DzD,IAAA,OAAIyD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,cAC1E1D,IAAA,MAAGyD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,yEAAuE,CAAG,CAAC,cAC7G1D,IAAA,WACEkP,OAAO,CAAEA,CAAA,GAAMrE,MAAM,CAACsE,QAAQ,CAACC,IAAI,CAAG,oBAAqB,CAC3D3L,SAAS,CAAC,aAAa,CAAAC,QAAA,CACxB,WAED,CAAQ,CAAC,EACN,CAAC,CAEV,CAEA;AACA,GAAI,CAACoB,cAAc,EAAKA,cAAc,CAACyE,cAAc,GAAK,CAAC,EAAIzE,cAAc,CAAC0E,aAAa,GAAK,CAAE,CAAE,CAClG,mBACEtJ,KAAA,QAAKuD,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExBxD,KAAA,QAAKuD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDxD,KAAA,QAAAwD,QAAA,eACE1D,IAAA,OAAIyD,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,cACpE1D,IAAA,MAAGyD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,yCAAuC,CAAG,CAAC,EACrE,CAAC,cACNxD,KAAA,QAAKuD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CxD,KAAA,WACEgP,OAAO,CAAE9E,WAAY,CACrB3G,SAAS,CAAC,2CAA2C,CAAAC,QAAA,eAErD1D,IAAA,CAACjB,GAAG,EAAC0E,SAAS,CAAC,SAAS,CAAE,CAAC,cAC3BzD,IAAA,SAAA0D,QAAA,CAAM,SAAO,CAAM,CAAC,EACd,CAAC,cACTxD,KAAA,QAAKuD,SAAS,CAAC,mDAAmD,CAAAC,QAAA,eAChE1D,IAAA,CAAClB,QAAQ,EAAC2E,SAAS,CAAC,SAAS,CAAE,CAAC,cAChCzD,IAAA,SAAA0D,QAAA,CAAOvF,MAAM,CAAC,GAAI,CAAA6C,IAAI,CAAC,CAAC,CAAE,oBAAoB,CAAC,CAAO,CAAC,EACpD,CAAC,EACH,CAAC,EACH,CAAC,cAGNd,KAAA,QAAKuD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC1D,IAAA,CAACrB,KAAK,EAAC8E,SAAS,CAAC,sCAAsC,CAAE,CAAC,cAC1DzD,IAAA,OAAIyD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,uBAAqB,CAAI,CAAC,cACjF1D,IAAA,MAAGyD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,qEAAmE,CAAG,CAAC,cACzGxD,KAAA,QAAKuD,SAAS,CAAC,+BAA+B,CAAAC,QAAA,eAC5C1D,IAAA,WACEkP,OAAO,CAAEA,CAAA,GAAMrE,MAAM,CAACsE,QAAQ,CAACC,IAAI,CAAG,mBAAoB,CAC1D3L,SAAS,CAAC,aAAa,CAAAC,QAAA,CACxB,UAED,CAAQ,CAAC,cACT1D,IAAA,WACEkP,OAAO,CAAE9E,WAAY,CACrB3G,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC1B,cAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,cAGNxD,KAAA,QAAKuD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eAEpDxD,KAAA,QAAKuD,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBxD,KAAA,QAAKuD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDxD,KAAA,QAAKuD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C1D,IAAA,QAAKyD,SAAS,CAAC,qEAAqE,CAAAC,QAAA,cAClF1D,IAAA,CAACrB,KAAK,EAAC8E,SAAS,CAAC,yBAAyB,CAAE,CAAC,CAC1C,CAAC,cACNvD,KAAA,QAAAwD,QAAA,eACE1D,IAAA,OAAIyD,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,UAAQ,CAAI,CAAC,cACjE1D,IAAA,MAAGyD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,EAChD,CAAC,EACH,CAAC,cACN1D,IAAA,QAAKyD,SAAS,CAAC,mEAAmE,CAAAC,QAAA,cAChF1D,IAAA,CAACtB,MAAM,EAAC+E,SAAS,CAAC,uBAAuB,CAAE,CAAC,CACzC,CAAC,EACH,CAAC,cAENvD,KAAA,QAAKuD,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBxD,KAAA,QAAKuD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChD1D,IAAA,SAAMyD,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,GAAC,CAAM,CAAC,cAC3DxD,KAAA,SAAMuD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,IAAE,CAACkB,OAAO,CAACmF,cAAc,EAAO,CAAC,EACtE,CAAC,cAGN/J,IAAA,QAAKyD,SAAS,CAAC,qCAAqC,CAAAC,QAAA,cAClD1D,IAAA,QAAKyD,SAAS,CAAC,0DAA0D,CAAC4L,KAAK,CAAE,CAAEC,KAAK,CAAE,IAAK,CAAE,CAAM,CAAC,CACrG,CAAC,cAENpP,KAAA,QAAKuD,SAAS,CAAC,2CAA2C,CAAAC,QAAA,eACxDxD,KAAA,SAAMuD,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAEkB,OAAO,CAACmF,cAAc,CAAC,OAAK,EAAM,CAAC,cACpE/J,IAAA,SAAMyD,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAC,IAAE,CAAM,CAAC,EAClD,CAAC,EACH,CAAC,EACH,CAAC,cAGNxD,KAAA,QAAKuD,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBxD,KAAA,QAAKuD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDxD,KAAA,QAAKuD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C1D,IAAA,QAAKyD,SAAS,CAAC,kEAAkE,CAAAC,QAAA,cAC/E1D,IAAA,CAACpB,IAAI,EAAC6E,SAAS,CAAC,sBAAsB,CAAE,CAAC,CACtC,CAAC,cACNvD,KAAA,QAAAwD,QAAA,eACE1D,IAAA,OAAIyD,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,SAAO,CAAI,CAAC,cAChE1D,IAAA,MAAGyD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,EAChD,CAAC,EACH,CAAC,cACN1D,IAAA,QAAKyD,SAAS,CAAC,mEAAmE,CAAAC,QAAA,cAChF1D,IAAA,CAACtB,MAAM,EAAC+E,SAAS,CAAC,uBAAuB,CAAE,CAAC,CACzC,CAAC,EACH,CAAC,cAENvD,KAAA,QAAKuD,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBxD,KAAA,QAAKuD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChD1D,IAAA,SAAMyD,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,IAAE,CAAM,CAAC,cAC5DxD,KAAA,SAAMuD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,IAAE,CAACkB,OAAO,CAACqF,aAAa,CAAC,GAAC,EAAM,CAAC,EACtE,CAAC,cAGNjK,IAAA,QAAKyD,SAAS,CAAC,qCAAqC,CAAAC,QAAA,cAClD1D,IAAA,QAAKyD,SAAS,CAAC,0DAA0D,CAAC4L,KAAK,CAAE,CAAEC,KAAK,CAAE,IAAK,CAAE,CAAM,CAAC,CACrG,CAAC,cAENpP,KAAA,QAAKuD,SAAS,CAAC,2CAA2C,CAAAC,QAAA,eACxDxD,KAAA,SAAMuD,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAEkB,OAAO,CAACqF,aAAa,CAAC,QAAM,EAAM,CAAC,cACpEjK,IAAA,SAAMyD,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAC,IAAE,CAAM,CAAC,EAClD,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAEA;AACA,KAAM,CAAA6L,eAAe,CAAG,CAAAzK,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAEyE,cAAc,GAAI,CAAC,CAC3D,KAAM,CAAAiG,cAAc,CAAG,CAAA1K,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAE0E,aAAa,GAAI,CAAC,CACzD,KAAM,CAAA2D,YAAY,CAAGvI,OAAO,CAACmF,cAAc,EAAI,CAAC,CAChD,KAAM,CAAAqD,WAAW,CAAGxI,OAAO,CAACqF,aAAa,EAAI,CAAC,CAE9C,KAAM,CAAAwF,iBAAiB,CAAGjB,kBAAkB,CAACe,eAAe,CAAEpC,YAAY,CAAC,CAC3E,KAAM,CAAAuC,gBAAgB,CAAGlB,kBAAkB,CAACgB,cAAc,CAAEpC,WAAW,CAAC,CAExE,KAAM,CAAAuC,gBAAgB,CAAGf,iBAAiB,CAACW,eAAe,CAAEpC,YAAY,CAAC,CACzE,KAAM,CAAAyC,eAAe,CAAGhB,iBAAiB,CAACY,cAAc,CAAEpC,WAAW,CAAC,CAEtE,mBACElN,KAAA,QAAKuD,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExB1D,IAAA,QAAKyD,SAAS,CAAC,0DAA0D,CAAAC,QAAA,cACvExD,KAAA,QAAKuD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDxD,KAAA,QAAAwD,QAAA,eACExD,KAAA,OAAIuD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,EAAC,OAAK,CAACwB,WAAW,CAAC,CAAC,CAAC,gBAAI,EAAI,CAAC,cACnFhF,KAAA,MAAGuD,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAC,qCAAmC,CAACvF,MAAM,CAAC,GAAI,CAAA6C,IAAI,CAAC,CAAC,CAAE,QAAQ,CAAC,EAAI,CAAC,EAC/F,CAAC,cACNhB,IAAA,QAAKyD,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBxD,KAAA,WACEgP,OAAO,CAAE9E,WAAY,CACrB3G,SAAS,CAAC,6HAA6H,CAAAC,QAAA,eAEvI1D,IAAA,CAACjB,GAAG,EAAC0E,SAAS,CAAC,SAAS,CAAE,CAAC,cAC3BzD,IAAA,SAAA0D,QAAA,CAAM,SAAO,CAAM,CAAC,EACd,CAAC,CACN,CAAC,EACH,CAAC,CACH,CAAC,cAGNxD,KAAA,QAAKuD,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvExD,KAAA,QAAKuD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDxD,KAAA,QAAKuD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C1D,IAAA,QAAKyD,SAAS,CAAC,qEAAqE,CAAAC,QAAA,cAClF1D,IAAA,CAACN,SAAS,EAAC+D,SAAS,CAAC,yBAAyB,CAAE,CAAC,CAC9C,CAAC,cACNvD,KAAA,QAAAwD,QAAA,eACE1D,IAAA,OAAIyD,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cACxE1D,IAAA,MAAGyD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,8BAA4B,CAAG,CAAC,EAClE,CAAC,EACH,CAAC,cAGNxD,KAAA,QAAKuD,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eAClDxD,KAAA,QAAKuD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C1D,IAAA,QAAKyD,SAAS,CAAC,8BAA8B,CAAM,CAAC,cACpDzD,IAAA,SAAMyD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,WAAS,CAAM,CAAC,EAC7C,CAAC,cACNxD,KAAA,QAAKuD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C1D,IAAA,QAAKyD,SAAS,CAAC,+BAA+B,CAAM,CAAC,cACrDzD,IAAA,SAAMyD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,OAAK,CAAM,CAAC,EACzC,CAAC,cACNxD,KAAA,QAAKuD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C1D,IAAA,QAAKyD,SAAS,CAAC,+BAA+B,CAAM,CAAC,cACrDzD,IAAA,SAAMyD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,SAAO,CAAM,CAAC,EAC3C,CAAC,cACNxD,KAAA,QAAKuD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C1D,IAAA,QAAKyD,SAAS,CAAC,6BAA6B,CAAM,CAAC,cACnDzD,IAAA,SAAMyD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,SAAO,CAAM,CAAC,EAC3C,CAAC,EACH,CAAC,cACNxD,KAAA,QAAKuD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C1D,IAAA,WACEkP,OAAO,CAAEA,CAAA,GAAMrB,YAAY,CAAC,MAAM,CAAE,CACpCpK,SAAS,CAAC,iDAAiD,CAAAC,QAAA,cAE3D1D,IAAA,CAACR,WAAW,EAACiE,SAAS,CAAC,uBAAuB,CAAE,CAAC,CAC3C,CAAC,cACTvD,KAAA,SAAMuD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,EAChDvF,MAAM,CAACC,WAAW,CAACuJ,aAAa,CAAE,CAAE4E,YAAY,CAAE,CAAE,CAAC,CAAC,CAAE,OAAO,CAAC,CAAC,KAAG,CAACpO,MAAM,CAACE,SAAS,CAACsJ,aAAa,CAAE,CAAE4E,YAAY,CAAE,CAAE,CAAC,CAAC,CAAE,OAAO,CAAC,EAChI,CAAC,cACPvM,IAAA,WACEkP,OAAO,CAAEA,CAAA,GAAMrB,YAAY,CAAC,MAAM,CAAE,CACpCpK,SAAS,CAAC,iDAAiD,CAAAC,QAAA,cAE3D1D,IAAA,CAACP,YAAY,EAACgE,SAAS,CAAC,uBAAuB,CAAE,CAAC,CAC5C,CAAC,EACN,CAAC,EACH,CAAC,cAENvD,KAAA,QAAKuD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAEhD1D,IAAA,QAAKyD,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CACxC+D,QAAQ,CAACvF,GAAG,CAAEkB,GAAG,eAChBlD,KAAA,QAEEuD,SAAS,2FAAAE,MAAA,CACPP,GAAG,CAAC3E,OAAO,CACP,+BAA+B,CAC/B2E,GAAG,CAACmK,OAAO,CACT,6BAA6B,CAC7BnK,GAAG,CAACoK,OAAO,CACT,+BAA+B,CAC/B,2BAA2B,CAClC,CAAA9J,QAAA,eAEH1D,IAAA,SAAMyD,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAEN,GAAG,CAAC6J,SAAS,CAAO,CAAC,cAChDjN,IAAA,SAAMyD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAEN,GAAG,CAAC8J,SAAS,CAAO,CAAC,CACzD9J,GAAG,CAACoK,OAAO,eACVxN,IAAA,QAAKyD,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BxD,KAAA,QAAAwD,QAAA,EAAMN,GAAG,CAACvB,QAAQ,CAAC,KAAG,EAAK,CAAC,CACzB,CACN,GAjBIuB,GAAG,CAACzB,IAkBN,CACN,CAAC,CACC,CAAC,cAGN3B,IAAA,QAAKyD,SAAS,CAAC,YAAY,CAAAC,QAAA,CACxBmE,WAAW,CAACjH,OAAO,cAClBZ,IAAA,QAAKyD,SAAS,CAAC,sEAAsE,CAAM,CAAC,cAE5FvD,KAAA,CAAAE,SAAA,EAAAsD,QAAA,eACExD,KAAA,QAAKuD,SAAS,sBAAAE,MAAA,CACZkE,WAAW,CAACE,cAAc,CAAG,CAAC,CAAG,gBAAgB,CACjDF,WAAW,CAACE,cAAc,CAAG,CAAC,CAAG,iBAAiB,CAAG,eAAe,CACnE,CAAArE,QAAA,EACAmE,WAAW,CAACE,cAAc,CAAG,CAAC,CAAG,GAAG,CAAGF,WAAW,CAACE,cAAc,CAAG,CAAC,CAAG,GAAG,CAAG,EAAE,CAChFhF,IAAI,CAACC,GAAG,CAAC6E,WAAW,CAACE,cAAc,CAAC,EAClC,CAAC,cACN7H,KAAA,QAAKuD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EACnCmE,WAAW,CAACE,cAAc,CAAG,CAAC,CAAG,SAAS,CAAGF,WAAW,CAACE,cAAc,CAAG,CAAC,CAAG,SAAS,CAAG,aAAa,CAAC,MAC3G,EAAK,CAAC,cACN7H,KAAA,QAAKuD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EACnCmE,WAAW,CAACG,YAAY,CAAC,gBAC5B,EAAK,CAAC,EACN,CACH,CACE,CAAC,EACH,CAAC,EACH,CAAC,CAGLpD,OAAO,CAACiL,MAAM,EAAIjL,OAAO,CAACkL,aAAa,eACtC5P,KAAA,QAAKuD,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvExD,KAAA,QAAKuD,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/C1D,IAAA,QAAKyD,SAAS,CAAC,qEAAqE,CAAAC,QAAA,cAClF1D,IAAA,CAACnB,UAAU,EAAC4E,SAAS,CAAC,yBAAyB,CAAE,CAAC,CAC/C,CAAC,cACNzD,IAAA,OAAIyD,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,0BAAwB,CAAI,CAAC,EAC9E,CAAC,cAEN1D,IAAA,CAACK,cAAc,EACbE,aAAa,CAAEqE,OAAO,CAACiL,MAAO,CAC9BrP,YAAY,CAAEoE,OAAO,CAACkL,aAAc,CACpCrP,gBAAgB,CAAEmE,OAAO,CAACmF,cAAe,CAC1C,CAAC,EACC,CACN,cAGD7J,KAAA,QAAKuD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eAEpDxD,KAAA,QAAKuD,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvExD,KAAA,QAAKuD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrD1D,IAAA,QAAKyD,SAAS,CAAC,qEAAqE,CAAAC,QAAA,cAClF1D,IAAA,CAACrB,KAAK,EAAC8E,SAAS,CAAC,yBAAyB,CAAE,CAAC,CAC1C,CAAC,CACLuL,aAAa,CAAC,CAAAlK,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAEoF,YAAY,GAAI,KAAK,CAAC,EAClD,CAAC,cACNhK,KAAA,QAAKuD,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBxD,KAAA,QAAAwD,QAAA,eACE1D,IAAA,QAAKyD,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAE6L,eAAe,CAAM,CAAC,cACxErP,KAAA,QAAKuD,SAAS,CAAC,qCAAqC,CAAAC,QAAA,EAAC,KAAG,CAACyJ,YAAY,CAAC,WAAS,EAAK,CAAC,EAClF,CAAC,cACNnN,IAAA,QAAKyD,SAAS,CAAC,qCAAqC,CAAAC,QAAA,cAClD1D,IAAA,QACEyD,SAAS,CAAC,4DAA4D,CACtE4L,KAAK,CAAE,CAAEC,KAAK,IAAA3L,MAAA,CAAKZ,IAAI,CAAC8L,GAAG,CAACc,gBAAgB,CAAE,GAAG,CAAC,KAAI,CAAE,CACpD,CAAC,CACJ,CAAC,EACH,CAAC,EACH,CAAC,cAGNzP,KAAA,QAAKuD,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvExD,KAAA,QAAKuD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrD1D,IAAA,QAAKyD,SAAS,CAAC,oEAAoE,CAAAC,QAAA,cACjF1D,IAAA,CAACpB,IAAI,EAAC6E,SAAS,CAAC,wBAAwB,CAAE,CAAC,CACxC,CAAC,CACLuL,aAAa,CAAC,CAAAlK,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAEqF,WAAW,GAAI,KAAK,CAAC,EACjD,CAAC,cACNjK,KAAA,QAAKuD,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBxD,KAAA,QAAAwD,QAAA,eACExD,KAAA,QAAKuD,SAAS,CAAC,iCAAiC,CAAAC,QAAA,EAAE8L,cAAc,CAAC,GAAC,EAAK,CAAC,cACxEtP,KAAA,QAAKuD,SAAS,CAAC,oCAAoC,CAAAC,QAAA,EAAC,KAAG,CAAC0J,WAAW,CAAC,WAAS,EAAK,CAAC,EAChF,CAAC,cACNpN,IAAA,QAAKyD,SAAS,CAAC,qCAAqC,CAAAC,QAAA,cAClD1D,IAAA,QACEyD,SAAS,CAAC,2DAA2D,CACrE4L,KAAK,CAAE,CAAEC,KAAK,IAAA3L,MAAA,CAAKZ,IAAI,CAAC8L,GAAG,CAACe,eAAe,CAAE,GAAG,CAAC,KAAI,CAAE,CACnD,CAAC,CACJ,CAAC,EACH,CAAC,EACH,CAAC,cAGN1P,KAAA,QAAKuD,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvE1D,IAAA,QAAKyD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,cACrD1D,IAAA,QAAKyD,SAAS,CAAC,mEAAmE,CAAAC,QAAA,cAChF1D,IAAA,CAACtB,MAAM,EAAC+E,SAAS,CAAC,uBAAuB,CAAE,CAAC,CACzC,CAAC,CACH,CAAC,cACNvD,KAAA,QAAKuD,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBxD,KAAA,QAAAwD,QAAA,eACE1D,IAAA,QAAKyD,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAE+L,iBAAiB,CAAM,CAAC,cAC1EzP,IAAA,QAAKyD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,oBAAkB,CAAK,CAAC,EACxE,CAAC,cACNxD,KAAA,QAAKuD,SAAS,CAAC,uEAAuE,CAAAC,QAAA,EACnFX,IAAI,CAACc,KAAK,CAAC8L,gBAAgB,CAAC,CAAC,YAChC,EAAK,CAAC,EACH,CAAC,EACH,CAAC,cAGNzP,KAAA,QAAKuD,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvE1D,IAAA,QAAKyD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,cACrD1D,IAAA,QAAKyD,SAAS,CAAC,qEAAqE,CAAAC,QAAA,cAClF1D,IAAA,CAACjB,GAAG,EAAC0E,SAAS,CAAC,yBAAyB,CAAE,CAAC,CACxC,CAAC,CACH,CAAC,cACNvD,KAAA,QAAKuD,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBxD,KAAA,QAAAwD,QAAA,eACExD,KAAA,QAAKuD,SAAS,CAAC,iCAAiC,CAAAC,QAAA,EAAEgM,gBAAgB,CAAC,GAAC,EAAK,CAAC,cAC1E1P,IAAA,QAAKyD,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,mBAAiB,CAAK,CAAC,EACzE,CAAC,cACNxD,KAAA,QAAKuD,SAAS,CAAC,2EAA2E,CAAAC,QAAA,EACvFX,IAAI,CAACc,KAAK,CAAC+L,eAAe,CAAC,CAAC,YAC/B,EAAK,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,cAGL1P,KAAA,QAAKuD,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvExD,KAAA,QAAKuD,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrC1D,IAAA,QAAKyD,SAAS,CAAC,wEAAwE,CAAAC,QAAA,cACrF1D,IAAA,CAACN,SAAS,EAAC+D,SAAS,CAAC,yBAAyB,CAAE,CAAC,CAC9C,CAAC,cACNzD,IAAA,OAAIyD,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,EACrE,CAAC,cACNxD,KAAA,QAAKuD,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCxD,KAAA,QAAKuD,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BxD,KAAA,QAAKuD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,EAAE,CAAAoB,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAE2E,WAAW,GAAI,CAAC,CAAC,GAAC,EAAK,CAAC,cAC5FzJ,IAAA,QAAKyD,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,OAAK,CAAK,CAAC,EACpD,CAAC,cACNxD,KAAA,QAAKuD,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BxD,KAAA,QAAKuD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,EAAE,CAAAoB,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAE4E,SAAS,GAAI,CAAC,CAAC,GAAC,EAAK,CAAC,cAC1F1J,IAAA,QAAKyD,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,KAAG,CAAK,CAAC,EAClD,CAAC,cACNxD,KAAA,QAAKuD,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BxD,KAAA,QAAKuD,SAAS,CAAC,kCAAkC,CAAAC,QAAA,EAAE,CAAAoB,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAE6E,WAAW,GAAI,CAAC,CAAC,GAAC,EAAK,CAAC,cAC3F3J,IAAA,QAAKyD,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,OAAK,CAAK,CAAC,EACpD,CAAC,cACNxD,KAAA,QAAKuD,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BxD,KAAA,QAAKuD,SAAS,CAAC,iCAAiC,CAAAC,QAAA,EAAE,CAAAoB,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAE8E,WAAW,GAAI,CAAC,CAAC,GAAC,EAAK,CAAC,cAC1F5J,IAAA,QAAKyD,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,OAAK,CAAK,CAAC,EACpD,CAAC,cACNxD,KAAA,QAAKuD,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BxD,KAAA,QAAKuD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,EAAE,CAAAoB,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAE+E,YAAY,GAAI,CAAC,CAAC,IAAE,EAAK,CAAC,cAC9F7J,IAAA,QAAKyD,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,QAAM,CAAK,CAAC,EACrD,CAAC,EACH,CAAC,EACH,CAAC,cAGPxD,KAAA,QAAKuD,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvExD,KAAA,QAAKuD,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrC1D,IAAA,QAAKyD,SAAS,CAAC,wEAAwE,CAAAC,QAAA,cACrF1D,IAAA,CAACjB,GAAG,EAAC0E,SAAS,CAAC,yBAAyB,CAAE,CAAC,CACxC,CAAC,cACNzD,IAAA,OAAIyD,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,EACnE,CAAC,cACNxD,KAAA,QAAKuD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDxD,KAAA,WACEgP,OAAO,CAAEA,CAAA,GAAMrE,MAAM,CAACsE,QAAQ,CAACC,IAAI,CAAG,mBAAoB,CAC1D3L,SAAS,CAAC,kIAAkI,CAAAC,QAAA,eAE5I1D,IAAA,QAAKyD,SAAS,CAAC,mEAAmE,CAAAC,QAAA,cAChF1D,IAAA,CAAChB,IAAI,EAACyE,SAAS,CAAC,uBAAuB,CAAE,CAAC,CACvC,CAAC,cACNvD,KAAA,QAAKuD,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB1D,IAAA,QAAKyD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,UAAQ,CAAK,CAAC,cAC3D1D,IAAA,QAAKyD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,oBAAkB,CAAK,CAAC,EAC5D,CAAC,EACA,CAAC,cAETxD,KAAA,WACEgP,OAAO,CAAEA,CAAA,GAAMrE,MAAM,CAACsE,QAAQ,CAACC,IAAI,CAAG,oBAAqB,CAC3D3L,SAAS,CAAC,kIAAkI,CAAAC,QAAA,eAE5I1D,IAAA,QAAKyD,SAAS,CAAC,mEAAmE,CAAAC,QAAA,cAChF1D,IAAA,CAACtB,MAAM,EAAC+E,SAAS,CAAC,uBAAuB,CAAE,CAAC,CACzC,CAAC,cACNvD,KAAA,QAAKuD,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB1D,IAAA,QAAKyD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,cAAY,CAAK,CAAC,cAC/D1D,IAAA,QAAKyD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,qBAAmB,CAAK,CAAC,EAC7D,CAAC,EACA,CAAC,EACN,CAAC,EACH,CAAC,CAGLsB,UAAU,CAAC9B,MAAM,CAAG,CAAC,eACpBhD,KAAA,QAAKuD,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBxD,KAAA,QAAKuD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrD1D,IAAA,OAAIyD,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,cACtExD,KAAA,WACEgP,OAAO,CAAEA,CAAA,GAAM/I,kBAAkB,CAAC,CAACD,eAAe,CAAE,CACpDzC,SAAS,CAAC,2HAA2H,CAAAC,QAAA,eAErI1D,IAAA,CAAChB,IAAI,EAACyE,SAAS,CAAC,SAAS,CAAE,CAAC,cAC5BzD,IAAA,SAAA0D,QAAA,CAAOwC,eAAe,CAAG,QAAQ,CAAG,UAAU,CAAO,CAAC,EAChD,CAAC,EACN,CAAC,CAGLA,eAAe,eACdhG,KAAA,QAAKuD,SAAS,CAAC,uDAAuD,CAAAC,QAAA,eACpE1D,IAAA,OAAIyD,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,cAAY,CAAI,CAAC,cAE1ExD,KAAA,SAAMuD,SAAS,CAAC,WAAW,CAAAC,QAAA,eACzBxD,KAAA,QAAKuD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDxD,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,WAEhE,CAAO,CAAC,cACRxD,KAAA,WACE6P,KAAK,CAAE3J,OAAO,CAACE,SAAU,CACzB0J,QAAQ,CAAG3B,CAAC,EAAKhI,UAAU,CAACsE,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAErE,SAAS,CAAE+H,CAAC,CAAC4B,MAAM,CAACF,KAAK,EAAG,CAAE,CAC9EtM,SAAS,CAAC,OAAO,CAAAC,QAAA,eAEjB1D,IAAA,WAAQ+P,KAAK,CAAC,WAAW,CAAArM,QAAA,CAAC,WAAS,CAAQ,CAAC,cAC5C1D,IAAA,WAAQ+P,KAAK,CAAC,OAAO,CAAArM,QAAA,CAAC,OAAK,CAAQ,CAAC,cACpC1D,IAAA,WAAQ+P,KAAK,CAAC,QAAQ,CAAArM,QAAA,CAAC,QAAM,CAAQ,CAAC,cACtC1D,IAAA,WAAQ+P,KAAK,CAAC,OAAO,CAAArM,QAAA,CAAC,OAAK,CAAQ,CAAC,EAC9B,CAAC,EACN,CAAC,cAENxD,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,kBAEhE,CAAO,CAAC,cACR1D,IAAA,UACEkQ,IAAI,CAAC,MAAM,CACXH,KAAK,CAAE3J,OAAO,CAACV,WAAY,CAC3BsK,QAAQ,CAAG3B,CAAC,EAAKhI,UAAU,CAACsE,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAEjF,WAAW,CAAE2I,CAAC,CAAC4B,MAAM,CAACF,KAAK,EAAG,CAAE,CAChFtM,SAAS,CAAC,OAAO,CACjB0M,WAAW,CAAC,6DAA6D,CACzEC,QAAQ,MACT,CAAC,EACC,CAAC,EACH,CAAC,cAGNlQ,KAAA,QAAKuD,SAAS,CAAC,mDAAmD,CAAAC,QAAA,eAChE1D,IAAA,CAACjB,GAAG,EAAC0E,SAAS,CAAC,SAAS,CAAE,CAAC,cAC3BzD,IAAA,SAAA0D,QAAA,CAAM,8DAA4D,CAAM,CAAC,EACtE,CAAC,cAGNxD,KAAA,QAAKuD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B1D,IAAA,WACEkQ,IAAI,CAAC,QAAQ,CACbhB,OAAO,CAAEA,CAAA,GAAM/D,aAAa,CAAC,KAAK,CAAE,CACpCkF,QAAQ,CAAE5J,UAAW,CACrBhD,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAEzD+C,UAAU,cACTvG,KAAA,CAAAE,SAAA,EAAAsD,QAAA,eACE1D,IAAA,CAACV,OAAO,EAACmE,SAAS,CAAC,sBAAsB,CAAE,CAAC,cAC5CzD,IAAA,SAAA0D,QAAA,CAAM,mBAAiB,CAAM,CAAC,EAC9B,CAAC,cAEHxD,KAAA,CAAAE,SAAA,EAAAsD,QAAA,eACE1D,IAAA,CAACjB,GAAG,EAAC0E,SAAS,CAAC,SAAS,CAAE,CAAC,cAC3BzD,IAAA,SAAA0D,QAAA,CAAM,mBAAiB,CAAM,CAAC,EAC9B,CACH,CACK,CAAC,cAET1D,IAAA,WACEkQ,IAAI,CAAC,QAAQ,CACbhB,OAAO,CAAEA,CAAA,GAAM/D,aAAa,CAAC,IAAI,CAAE,CACnCkF,QAAQ,CAAE5J,UAAW,CACrBhD,SAAS,CAAC,+IAA+I,CAAAC,QAAA,CAExJ+C,UAAU,cACTvG,KAAA,CAAAE,SAAA,EAAAsD,QAAA,eACE1D,IAAA,CAACV,OAAO,EAACmE,SAAS,CAAC,sBAAsB,CAAE,CAAC,cAC5CzD,IAAA,SAAA0D,QAAA,CAAM,gBAAc,CAAM,CAAC,EAC3B,CAAC,cAEHxD,KAAA,CAAAE,SAAA,EAAAsD,QAAA,eACE1D,IAAA,CAAChB,IAAI,EAACyE,SAAS,CAAC,SAAS,CAAE,CAAC,cAC5BzD,IAAA,SAAA0D,QAAA,CAAM,kBAAgB,CAAM,CAAC,EAC7B,CACH,CACK,CAAC,EACN,CAAC,cAGNxD,KAAA,QAAKuD,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7C1D,IAAA,OAAIyD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,oCAAkC,CAAI,CAAC,cAC9FxD,KAAA,QAAKuD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDxD,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,UAAQ,CAAO,CAAC,cAChF1D,IAAA,UACEkQ,IAAI,CAAC,QAAQ,CACbH,KAAK,CAAExJ,YAAY,CAAC1E,QAAS,CAC7BmO,QAAQ,CAAG3B,CAAC,EAAK7H,eAAe,CAACmE,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE9I,QAAQ,CAAEyO,MAAM,CAACjC,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAC,EAAG,CAAE,CAC1FtM,SAAS,CAAC,sBAAsB,CAChCoL,GAAG,CAAC,GAAG,CACR,CAAC,EACC,CAAC,cACN3O,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,aAAW,CAAO,CAAC,cACnF1D,IAAA,UACEkQ,IAAI,CAAC,QAAQ,CACbH,KAAK,CAAExJ,YAAY,CAACzE,OAAQ,CAC5BkO,QAAQ,CAAG3B,CAAC,EAAK7H,eAAe,CAACmE,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE7I,OAAO,CAAEwO,MAAM,CAACjC,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAC,EAAG,CAAE,CACzFtM,SAAS,CAAC,sBAAsB,CAChCoL,GAAG,CAAC,GAAG,CACP0B,IAAI,CAAC,KAAK,CACX,CAAC,EACC,CAAC,cACNrQ,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,WAAS,CAAO,CAAC,cACjF1D,IAAA,UACEkQ,IAAI,CAAC,QAAQ,CACbH,KAAK,CAAExJ,YAAY,CAACZ,KAAM,CAC1BqK,QAAQ,CAAG3B,CAAC,EAAK7H,eAAe,CAACmE,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAEhF,KAAK,CAAE2K,MAAM,CAACjC,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAC,EAAG,CAAE,CACvFtM,SAAS,CAAC,sBAAsB,CAChCoL,GAAG,CAAC,GAAG,CACP0B,IAAI,CAAC,KAAK,CACX,CAAC,EACC,CAAC,cACNrQ,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,SAAO,CAAO,CAAC,cAC/E1D,IAAA,UACEkQ,IAAI,CAAC,QAAQ,CACbH,KAAK,CAAExJ,YAAY,CAACX,GAAI,CACxBoK,QAAQ,CAAG3B,CAAC,EAAK7H,eAAe,CAACmE,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE/E,GAAG,CAAE0K,MAAM,CAACjC,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAC,EAAG,CAAE,CACrFtM,SAAS,CAAC,sBAAsB,CAChCoL,GAAG,CAAC,GAAG,CACP0B,IAAI,CAAC,KAAK,CACX,CAAC,EACC,CAAC,cACNrQ,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,WAAS,CAAO,CAAC,cACjF1D,IAAA,UACEkQ,IAAI,CAAC,QAAQ,CACbH,KAAK,CAAExJ,YAAY,CAACV,KAAM,CAC1BmK,QAAQ,CAAG3B,CAAC,EAAK7H,eAAe,CAACmE,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE9E,KAAK,CAAEyK,MAAM,CAACjC,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAC,EAAG,CAAE,CACvFtM,SAAS,CAAC,sBAAsB,CAChCoL,GAAG,CAAC,GAAG,CACP0B,IAAI,CAAC,KAAK,CACX,CAAC,EACC,CAAC,cACNrQ,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,WAAS,CAAO,CAAC,cACjF1D,IAAA,UACEkQ,IAAI,CAAC,QAAQ,CACbH,KAAK,CAAExJ,YAAY,CAACT,KAAM,CAC1BkK,QAAQ,CAAG3B,CAAC,EAAK7H,eAAe,CAACmE,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE7E,KAAK,CAAEwK,MAAM,CAACjC,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAC,EAAG,CAAE,CACvFtM,SAAS,CAAC,sBAAsB,CAChCoL,GAAG,CAAC,GAAG,CACP0B,IAAI,CAAC,KAAK,CACX,CAAC,EACC,CAAC,cACNrQ,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,aAAW,CAAO,CAAC,cACnF1D,IAAA,UACEkQ,IAAI,CAAC,QAAQ,CACbH,KAAK,CAAExJ,YAAY,CAACR,MAAO,CAC3BiK,QAAQ,CAAG3B,CAAC,EAAK7H,eAAe,CAACmE,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE5E,MAAM,CAAEuK,MAAM,CAACjC,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAC,EAAG,CAAE,CACxFtM,SAAS,CAAC,sBAAsB,CAChCoL,GAAG,CAAC,GAAG,CACP0B,IAAI,CAAC,KAAK,CACX,CAAC,EACC,CAAC,EACH,CAAC,EACH,CAAC,cAENvQ,IAAA,QAAKyD,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/B1D,IAAA,WACEkQ,IAAI,CAAC,QAAQ,CACbhB,OAAO,CAAExD,aAAc,CACvBjI,SAAS,CAAC,+DAA+D,CAAAC,QAAA,CAC1E,QAED,CAAQ,CAAC,CACN,CAAC,EACF,CAAC,EACJ,CACN,cAED1D,IAAA,QAAKyD,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBsB,UAAU,CAAC9C,GAAG,CAAER,IAAI,eACnB1B,IAAA,QAAmByD,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CACrD4B,WAAW,GAAK5D,IAAI,CAAC4I,EAAE,cACtB;AACApK,KAAA,QAAKuD,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBxD,KAAA,QAAKuD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChD1D,IAAA,OAAIyD,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAC,WAAS,CAAI,CAAC,cACxDxD,KAAA,QAAKuD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C1D,IAAA,WACEkP,OAAO,CAAEA,CAAA,GAAM1E,cAAc,CAAC9I,IAAI,CAAC4I,EAAE,CAAE,CACvC+F,QAAQ,CAAErK,YAAa,CACvBvC,SAAS,CAAC,wIAAwI,CAAAC,QAAA,CAEjJsC,YAAY,cACX9F,KAAA,CAAAE,SAAA,EAAAsD,QAAA,eACE1D,IAAA,CAACV,OAAO,EAACmE,SAAS,CAAC,sBAAsB,CAAE,CAAC,cAC5CzD,IAAA,SAAA0D,QAAA,CAAM,WAAS,CAAM,CAAC,EACtB,CAAC,cAEHxD,KAAA,CAAAE,SAAA,EAAAsD,QAAA,eACE1D,IAAA,CAACZ,IAAI,EAACqE,SAAS,CAAC,SAAS,CAAE,CAAC,cAC5BzD,IAAA,SAAA0D,QAAA,CAAM,MAAI,CAAM,CAAC,EACjB,CACH,CACK,CAAC,cACTxD,KAAA,WACEgP,OAAO,CAAE3E,cAAe,CACxB8F,QAAQ,CAAErK,YAAa,CACvBvC,SAAS,CAAC,sIAAsI,CAAAC,QAAA,eAEhJ1D,IAAA,CAACX,CAAC,EAACoE,SAAS,CAAC,SAAS,CAAE,CAAC,cACzBzD,IAAA,SAAA0D,QAAA,CAAM,QAAM,CAAM,CAAC,EACb,CAAC,EACN,CAAC,EACH,CAAC,cAENxD,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,aAAW,CAAO,CAAC,cACnF1D,IAAA,UACEkQ,IAAI,CAAC,MAAM,CACXH,KAAK,CAAEvK,QAAQ,CAACE,WAAY,CAC5BsK,QAAQ,CAAG3B,CAAC,EAAK5I,WAAW,CAACkF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAEjF,WAAW,CAAE2I,CAAC,CAAC4B,MAAM,CAACF,KAAK,EAAG,CAAE,CACjFtM,SAAS,CAAC,cAAc,CACxB0M,WAAW,CAAC,kBAAkB,CAC/B,CAAC,EACC,CAAC,cAENjQ,KAAA,QAAKuD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDxD,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,UAAQ,CAAO,CAAC,cAChF1D,IAAA,UACEkQ,IAAI,CAAC,QAAQ,CACbH,KAAK,CAAEvK,QAAQ,CAAC3D,QAAS,CACzBmO,QAAQ,CAAG3B,CAAC,EAAK5I,WAAW,CAACkF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE9I,QAAQ,CAAEyO,MAAM,CAACjC,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAC,EAAG,CAAE,CACtFtM,SAAS,CAAC,sBAAsB,CAChCoL,GAAG,CAAC,GAAG,CACR,CAAC,EACC,CAAC,cACN3O,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,aAAW,CAAO,CAAC,cACnF1D,IAAA,UACEkQ,IAAI,CAAC,QAAQ,CACbH,KAAK,CAAEvK,QAAQ,CAAC1D,OAAQ,CACxBkO,QAAQ,CAAG3B,CAAC,EAAK5I,WAAW,CAACkF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE7I,OAAO,CAAEwO,MAAM,CAACjC,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAC,EAAG,CAAE,CACrFtM,SAAS,CAAC,sBAAsB,CAChCoL,GAAG,CAAC,GAAG,CACP0B,IAAI,CAAC,KAAK,CACX,CAAC,EACC,CAAC,cACNrQ,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,WAAS,CAAO,CAAC,cACjF1D,IAAA,UACEkQ,IAAI,CAAC,QAAQ,CACbH,KAAK,CAAEvK,QAAQ,CAACG,KAAM,CACtBqK,QAAQ,CAAG3B,CAAC,EAAK5I,WAAW,CAACkF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAEhF,KAAK,CAAE2K,MAAM,CAACjC,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAC,EAAG,CAAE,CACnFtM,SAAS,CAAC,sBAAsB,CAChCoL,GAAG,CAAC,GAAG,CACP0B,IAAI,CAAC,KAAK,CACX,CAAC,EACC,CAAC,cACNrQ,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,SAAO,CAAO,CAAC,cAC/E1D,IAAA,UACEkQ,IAAI,CAAC,QAAQ,CACbH,KAAK,CAAEvK,QAAQ,CAACI,GAAI,CACpBoK,QAAQ,CAAG3B,CAAC,EAAK5I,WAAW,CAACkF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE/E,GAAG,CAAE0K,MAAM,CAACjC,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAC,EAAG,CAAE,CACjFtM,SAAS,CAAC,sBAAsB,CAChCoL,GAAG,CAAC,GAAG,CACP0B,IAAI,CAAC,KAAK,CACX,CAAC,EACC,CAAC,cACNrQ,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,WAAS,CAAO,CAAC,cACjF1D,IAAA,UACEkQ,IAAI,CAAC,QAAQ,CACbH,KAAK,CAAEvK,QAAQ,CAACK,KAAM,CACtBmK,QAAQ,CAAG3B,CAAC,EAAK5I,WAAW,CAACkF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE9E,KAAK,CAAEyK,MAAM,CAACjC,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAC,EAAG,CAAE,CACnFtM,SAAS,CAAC,sBAAsB,CAChCoL,GAAG,CAAC,GAAG,CACP0B,IAAI,CAAC,KAAK,CACX,CAAC,EACC,CAAC,cACNrQ,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,WAAS,CAAO,CAAC,cACjF1D,IAAA,UACEkQ,IAAI,CAAC,QAAQ,CACbH,KAAK,CAAEvK,QAAQ,CAACM,KAAM,CACtBkK,QAAQ,CAAG3B,CAAC,EAAK5I,WAAW,CAACkF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE7E,KAAK,CAAEwK,MAAM,CAACjC,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAC,EAAG,CAAE,CACnFtM,SAAS,CAAC,sBAAsB,CAChCoL,GAAG,CAAC,GAAG,CACP0B,IAAI,CAAC,KAAK,CACX,CAAC,EACC,CAAC,cACNrQ,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,aAAW,CAAO,CAAC,cACnF1D,IAAA,UACEkQ,IAAI,CAAC,QAAQ,CACbH,KAAK,CAAEvK,QAAQ,CAACO,MAAO,CACvBiK,QAAQ,CAAG3B,CAAC,EAAK5I,WAAW,CAACkF,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE5E,MAAM,CAAEuK,MAAM,CAACjC,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAC,EAAG,CAAE,CACpFtM,SAAS,CAAC,sBAAsB,CAChCoL,GAAG,CAAC,GAAG,CACP0B,IAAI,CAAC,KAAK,CACX,CAAC,EACC,CAAC,EACH,CAAC,EACH,CAAC,cAEN;AACArQ,KAAA,QAAKuD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDxD,KAAA,QAAKuD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C1D,IAAA,QAAKyD,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAEI,eAAe,CAACpC,IAAI,CAAC4E,SAAS,CAAC,CAAM,CAAC,cAEjEpG,KAAA,QAAAwD,QAAA,eACExD,KAAA,QAAKuD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C1D,IAAA,SAAMyD,SAAS,+CAAAE,MAAA,CAAgDW,gBAAgB,CAAC5C,IAAI,CAAC4E,SAAS,CAAC,CAAG,CAAA5C,QAAA,CAC/FhC,IAAI,CAAC4E,SAAS,CAACkK,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAG/O,IAAI,CAAC4E,SAAS,CAACoK,KAAK,CAAC,CAAC,CAAC,CAC7D,CAAC,cACPxQ,KAAA,SAAMuD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACrC1D,IAAA,CAACd,KAAK,EAACuE,SAAS,CAAC,qBAAqB,CAAE,CAAC,CACxCe,cAAc,CAAC9C,IAAI,CAACiP,UAAU,CAAE,QAAQ,CAAC,EACtC,CAAC,EACJ,CAAC,cACN3Q,IAAA,MAAGyD,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAE5D,mBAAmB,CAAC4B,IAAI,CAACgE,WAAW,CAAC,CAAI,CAAC,cACpF1F,IAAA,MAAGyD,SAAS,CAAC,4BAA4B,CAACmN,KAAK,CAAElP,IAAI,CAACgE,WAAY,CAAAhC,QAAA,CAC/DhC,IAAI,CAACgE,WAAW,CAACxC,MAAM,CAAG,EAAE,IAAAS,MAAA,CAAMjC,IAAI,CAACgE,WAAW,CAACmL,SAAS,CAAC,CAAC,CAAE,EAAE,CAAC,QAAQnP,IAAI,CAACgE,WAAW,CAC3F,CAAC,EACD,CAAC,EACH,CAAC,cAENxF,KAAA,QAAKuD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CxD,KAAA,QAAKuD,SAAS,CAAC,YAAY,CAAAC,QAAA,eAEzBxD,KAAA,QAAKuD,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eAClD1D,IAAA,CAACjB,GAAG,EAAC0E,SAAS,CAAC,yBAAyB,CAAE,CAAC,cAC3CvD,KAAA,SAAMuD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAEhC,IAAI,CAACG,QAAQ,CAAC,MAAI,EAAM,CAAC,EAC/D,CAAC,cACN3B,KAAA,QAAKuD,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eAClD1D,IAAA,CAACpB,IAAI,EAAC6E,SAAS,CAAC,sBAAsB,CAAE,CAAC,cACzCvD,KAAA,SAAMuD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAEhC,IAAI,CAACI,OAAO,CAAC,GAAC,EAAM,CAAC,EAC3D,CAAC,cAGN5B,KAAA,QAAKuD,SAAS,CAAC,wDAAwD,CAAAC,QAAA,eACrExD,KAAA,SAAAwD,QAAA,EAAM,SAAO,CAAChC,IAAI,CAACiE,KAAK,CAAC,GAAC,EAAM,CAAC,cACjCzF,KAAA,SAAAwD,QAAA,EAAM,OAAK,CAAChC,IAAI,CAACkE,GAAG,CAAC,GAAC,EAAM,CAAC,cAC7B1F,KAAA,SAAAwD,QAAA,EAAM,SAAO,CAAChC,IAAI,CAACmE,KAAK,CAAC,GAAC,EAAM,CAAC,EAC9B,CAAC,EACH,CAAC,cAEN3F,KAAA,QAAKuD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C1D,IAAA,WACEkP,OAAO,CAAEA,CAAA,GAAMvD,oBAAoB,CAACjK,IAAI,CAAE,CAC1C2O,QAAQ,CAAE1J,cAAc,GAAKjF,IAAI,CAAC4I,EAAG,CACrC7G,SAAS,CAAC,wIAAwI,CAClJmN,KAAK,CAAC,kCAAkC,CAAAlN,QAAA,CAEvCiD,cAAc,GAAKjF,IAAI,CAAC4I,EAAE,cACzBpK,KAAA,CAAAE,SAAA,EAAAsD,QAAA,eACE1D,IAAA,CAACV,OAAO,EAACmE,SAAS,CAAC,sBAAsB,CAAE,CAAC,cAC5CzD,IAAA,SAAA0D,QAAA,CAAM,WAAS,CAAM,CAAC,EACtB,CAAC,cAEHxD,KAAA,CAAAE,SAAA,EAAAsD,QAAA,eACE1D,IAAA,CAACT,KAAK,EAACkE,SAAS,CAAC,SAAS,CAAE,CAAC,cAC7BzD,IAAA,SAAA0D,QAAA,CAAM,MAAI,CAAM,CAAC,EACjB,CACH,CACK,CAAC,cACT1D,IAAA,WACEkP,OAAO,CAAEA,CAAA,GAAM7E,aAAa,CAAC3I,IAAI,CAAE,CACnC+B,SAAS,CAAC,4DAA4D,CACtEmN,KAAK,CAAC,WAAW,CAAAlN,QAAA,cAEjB1D,IAAA,CAACb,KAAK,EAACsE,SAAS,CAAC,SAAS,CAAE,CAAC,CACvB,CAAC,EACN,CAAC,EACH,CAAC,EACH,CACN,EArMO/B,IAAI,CAAC4I,EAsMV,CACN,CAAC,CACC,CAAC,EAEH,CACN,CAGAtF,UAAU,CAAC9B,MAAM,GAAK,CAAC,eACtBhD,KAAA,QAAKuD,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBxD,KAAA,QAAKuD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrD1D,IAAA,OAAIyD,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,2BAAyB,CAAI,CAAC,cAClFxD,KAAA,WACEgP,OAAO,CAAEA,CAAA,GAAM/I,kBAAkB,CAAC,CAACD,eAAe,CAAE,CACpDzC,SAAS,CAAC,2HAA2H,CAAAC,QAAA,eAErI1D,IAAA,CAAChB,IAAI,EAACyE,SAAS,CAAC,SAAS,CAAE,CAAC,cAC5BzD,IAAA,SAAA0D,QAAA,CAAOwC,eAAe,CAAG,QAAQ,CAAG,UAAU,CAAO,CAAC,EAChD,CAAC,EACN,CAAC,CAGLA,eAAe,eACdhG,KAAA,QAAKuD,SAAS,CAAC,uDAAuD,CAAAC,QAAA,eACpE1D,IAAA,OAAIyD,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,cAAY,CAAI,CAAC,cAE1ExD,KAAA,SAAMuD,SAAS,CAAC,WAAW,CAAAC,QAAA,eACzBxD,KAAA,QAAKuD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDxD,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,WAEhE,CAAO,CAAC,cACRxD,KAAA,WACE6P,KAAK,CAAE3J,OAAO,CAACE,SAAU,CACzB0J,QAAQ,CAAG3B,CAAC,EAAKhI,UAAU,CAACsE,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAErE,SAAS,CAAE+H,CAAC,CAAC4B,MAAM,CAACF,KAAK,EAAG,CAAE,CAC9EtM,SAAS,CAAC,OAAO,CAAAC,QAAA,eAEjB1D,IAAA,WAAQ+P,KAAK,CAAC,WAAW,CAAArM,QAAA,CAAC,WAAS,CAAQ,CAAC,cAC5C1D,IAAA,WAAQ+P,KAAK,CAAC,OAAO,CAAArM,QAAA,CAAC,OAAK,CAAQ,CAAC,cACpC1D,IAAA,WAAQ+P,KAAK,CAAC,QAAQ,CAAArM,QAAA,CAAC,QAAM,CAAQ,CAAC,cACtC1D,IAAA,WAAQ+P,KAAK,CAAC,OAAO,CAAArM,QAAA,CAAC,OAAK,CAAQ,CAAC,EAC9B,CAAC,EACN,CAAC,cAENxD,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,kBAEhE,CAAO,CAAC,cACR1D,IAAA,UACEkQ,IAAI,CAAC,MAAM,CACXH,KAAK,CAAE3J,OAAO,CAACV,WAAY,CAC3BsK,QAAQ,CAAG3B,CAAC,EAAKhI,UAAU,CAACsE,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAEjF,WAAW,CAAE2I,CAAC,CAAC4B,MAAM,CAACF,KAAK,EAAG,CAAE,CAChFtM,SAAS,CAAC,OAAO,CACjB0M,WAAW,CAAC,6DAA6D,CACzEC,QAAQ,MACT,CAAC,EACC,CAAC,EACH,CAAC,cAGNlQ,KAAA,QAAKuD,SAAS,CAAC,mDAAmD,CAAAC,QAAA,eAChE1D,IAAA,CAACjB,GAAG,EAAC0E,SAAS,CAAC,SAAS,CAAE,CAAC,cAC3BzD,IAAA,SAAA0D,QAAA,CAAM,8DAA4D,CAAM,CAAC,EACtE,CAAC,cAGNxD,KAAA,QAAKuD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B1D,IAAA,WACEkQ,IAAI,CAAC,QAAQ,CACbhB,OAAO,CAAEA,CAAA,GAAM/D,aAAa,CAAC,KAAK,CAAE,CACpCkF,QAAQ,CAAE5J,UAAW,CACrBhD,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAEzD+C,UAAU,cACTvG,KAAA,CAAAE,SAAA,EAAAsD,QAAA,eACE1D,IAAA,CAACV,OAAO,EAACmE,SAAS,CAAC,sBAAsB,CAAE,CAAC,cAC5CzD,IAAA,SAAA0D,QAAA,CAAM,mBAAiB,CAAM,CAAC,EAC9B,CAAC,cAEHxD,KAAA,CAAAE,SAAA,EAAAsD,QAAA,eACE1D,IAAA,CAACjB,GAAG,EAAC0E,SAAS,CAAC,SAAS,CAAE,CAAC,cAC3BzD,IAAA,SAAA0D,QAAA,CAAM,mBAAiB,CAAM,CAAC,EAC9B,CACH,CACK,CAAC,cAET1D,IAAA,WACEkQ,IAAI,CAAC,QAAQ,CACbhB,OAAO,CAAEA,CAAA,GAAM/D,aAAa,CAAC,IAAI,CAAE,CACnCkF,QAAQ,CAAE5J,UAAW,CACrBhD,SAAS,CAAC,+IAA+I,CAAAC,QAAA,CAExJ+C,UAAU,cACTvG,KAAA,CAAAE,SAAA,EAAAsD,QAAA,eACE1D,IAAA,CAACV,OAAO,EAACmE,SAAS,CAAC,sBAAsB,CAAE,CAAC,cAC5CzD,IAAA,SAAA0D,QAAA,CAAM,gBAAc,CAAM,CAAC,EAC3B,CAAC,cAEHxD,KAAA,CAAAE,SAAA,EAAAsD,QAAA,eACE1D,IAAA,CAAChB,IAAI,EAACyE,SAAS,CAAC,SAAS,CAAE,CAAC,cAC5BzD,IAAA,SAAA0D,QAAA,CAAM,kBAAgB,CAAM,CAAC,EAC7B,CACH,CACK,CAAC,EACN,CAAC,cAGNxD,KAAA,QAAKuD,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7C1D,IAAA,OAAIyD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,oCAAkC,CAAI,CAAC,cAC9FxD,KAAA,QAAKuD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDxD,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,UAAQ,CAAO,CAAC,cAChF1D,IAAA,UACEkQ,IAAI,CAAC,QAAQ,CACbH,KAAK,CAAExJ,YAAY,CAAC1E,QAAS,CAC7BmO,QAAQ,CAAG3B,CAAC,EAAK7H,eAAe,CAACmE,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE9I,QAAQ,CAAEyO,MAAM,CAACjC,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAC,EAAG,CAAE,CAC1FtM,SAAS,CAAC,sBAAsB,CAChCoL,GAAG,CAAC,GAAG,CACR,CAAC,EACC,CAAC,cACN3O,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,aAAW,CAAO,CAAC,cACnF1D,IAAA,UACEkQ,IAAI,CAAC,QAAQ,CACbH,KAAK,CAAExJ,YAAY,CAACzE,OAAQ,CAC5BkO,QAAQ,CAAG3B,CAAC,EAAK7H,eAAe,CAACmE,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE7I,OAAO,CAAEwO,MAAM,CAACjC,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAC,EAAG,CAAE,CACzFtM,SAAS,CAAC,sBAAsB,CAChCoL,GAAG,CAAC,GAAG,CACP0B,IAAI,CAAC,KAAK,CACX,CAAC,EACC,CAAC,cACNrQ,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,WAAS,CAAO,CAAC,cACjF1D,IAAA,UACEkQ,IAAI,CAAC,QAAQ,CACbH,KAAK,CAAExJ,YAAY,CAACZ,KAAM,CAC1BqK,QAAQ,CAAG3B,CAAC,EAAK7H,eAAe,CAACmE,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAEhF,KAAK,CAAE2K,MAAM,CAACjC,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAC,EAAG,CAAE,CACvFtM,SAAS,CAAC,sBAAsB,CAChCoL,GAAG,CAAC,GAAG,CACP0B,IAAI,CAAC,KAAK,CACX,CAAC,EACC,CAAC,cACNrQ,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,SAAO,CAAO,CAAC,cAC/E1D,IAAA,UACEkQ,IAAI,CAAC,QAAQ,CACbH,KAAK,CAAExJ,YAAY,CAACX,GAAI,CACxBoK,QAAQ,CAAG3B,CAAC,EAAK7H,eAAe,CAACmE,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE/E,GAAG,CAAE0K,MAAM,CAACjC,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAC,EAAG,CAAE,CACrFtM,SAAS,CAAC,sBAAsB,CAChCoL,GAAG,CAAC,GAAG,CACP0B,IAAI,CAAC,KAAK,CACX,CAAC,EACC,CAAC,cACNrQ,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,WAAS,CAAO,CAAC,cACjF1D,IAAA,UACEkQ,IAAI,CAAC,QAAQ,CACbH,KAAK,CAAExJ,YAAY,CAACV,KAAM,CAC1BmK,QAAQ,CAAG3B,CAAC,EAAK7H,eAAe,CAACmE,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE9E,KAAK,CAAEyK,MAAM,CAACjC,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAC,EAAG,CAAE,CACvFtM,SAAS,CAAC,sBAAsB,CAChCoL,GAAG,CAAC,GAAG,CACP0B,IAAI,CAAC,KAAK,CACX,CAAC,EACC,CAAC,cACNrQ,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,WAAS,CAAO,CAAC,cACjF1D,IAAA,UACEkQ,IAAI,CAAC,QAAQ,CACbH,KAAK,CAAExJ,YAAY,CAACT,KAAM,CAC1BkK,QAAQ,CAAG3B,CAAC,EAAK7H,eAAe,CAACmE,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE7E,KAAK,CAAEwK,MAAM,CAACjC,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAC,EAAG,CAAE,CACvFtM,SAAS,CAAC,sBAAsB,CAChCoL,GAAG,CAAC,GAAG,CACP0B,IAAI,CAAC,KAAK,CACX,CAAC,EACC,CAAC,cACNrQ,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,aAAW,CAAO,CAAC,cACnF1D,IAAA,UACEkQ,IAAI,CAAC,QAAQ,CACbH,KAAK,CAAExJ,YAAY,CAACR,MAAO,CAC3BiK,QAAQ,CAAG3B,CAAC,EAAK7H,eAAe,CAACmE,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE5E,MAAM,CAAEuK,MAAM,CAACjC,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAC,EAAG,CAAE,CACxFtM,SAAS,CAAC,sBAAsB,CAChCoL,GAAG,CAAC,GAAG,CACP0B,IAAI,CAAC,KAAK,CACX,CAAC,EACC,CAAC,EACH,CAAC,EACH,CAAC,cAENvQ,IAAA,QAAKyD,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/B1D,IAAA,WACEkQ,IAAI,CAAC,QAAQ,CACbhB,OAAO,CAAExD,aAAc,CACvBjI,SAAS,CAAC,+DAA+D,CAAAC,QAAA,CAC1E,QAED,CAAQ,CAAC,CACN,CAAC,EACF,CAAC,EACJ,CACN,CAEA,CAACwC,eAAe,eACfhG,KAAA,QAAKuD,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7C1D,IAAA,CAACf,QAAQ,EAACwE,SAAS,CAAC,sCAAsC,CAAE,CAAC,cAC7DzD,IAAA,MAAGyD,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAC,uBAAqB,CAAG,CAAC,cACjE1D,IAAA,MAAGyD,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,qDAAiD,CAAG,CAAC,EACzE,CACN,EACE,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAiB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}