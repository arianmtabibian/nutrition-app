{"ast":null,"code":"import _objectSpread from\"C:/Users/arian/OneDrive/Desktop/Nutrition/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{useAuth}from'../contexts/AuthContext';import{Heart,MessageCircle,Share,MoreHorizontal,PenTool,Bookmark,Image,X,Plus,UserCircle,Calendar,TrendingUp,TrendingDown,BarChart3,ChevronLeft,ChevronRight}from'lucide-react';import{formatDistanceToNow,format,startOfMonth,endOfMonth,eachDayOfInterval,isToday,addMonths,subMonths}from'date-fns';import{useNavigate}from'react-router-dom';import{diaryAPI}from'../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Feed=()=>{var _profileData$profile,_profileData$stats,_profileData$stats2,_profileData$stats3;const{user}=useAuth();const navigate=useNavigate();const[posts,setPosts]=useState([]);const[loading,setLoading]=useState(true);const[showCreatePost,setShowCreatePost]=useState(false);const[newPost,setNewPost]=useState({content:'',imageFile:null,mealData:null,allowComments:true,hideLikeCount:false});const[expandedComments,setExpandedComments]=useState(new Set());const[comments,setComments]=useState({});const[newComments,setNewComments]=useState({});const[loadingComments,setLoadingComments]=useState(new Set());// Sidebar data states\nconst[profileData,setProfileData]=useState(null);const[todayNutrition,setTodayNutrition]=useState(null);const[currentDate,setCurrentDate]=useState(new Date());const[monthData,setMonthData]=useState(null);const[sidebarLoading,setSidebarLoading]=useState(true);// Follow people search states\nconst[showFollowSearch,setShowFollowSearch]=useState(false);const[searchQuery,setSearchQuery]=useState('');const[searchResults,setSearchResults]=useState([]);const[searchLoading,setSearchLoading]=useState(false);const formatPostDate=dateString=>{const postDate=new Date(dateString);const today=new Date();const isToday=postDate.toDateString()===today.toDateString();if(isToday){return\"Today at \".concat(postDate.toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit',hour12:true}));}else{return formatDistanceToNow(postDate,{addSuffix:true});}};const loadMonthData=useCallback(async()=>{try{var _response$data$days,_response$data$days$f;const year=currentDate.getFullYear();const month=currentDate.getMonth()+1;console.log('ðŸ“… Feed Calendar: Loading month data for:',{year,month});// Use the EXACT same API call as Diary component\nconst response=await diaryAPI.getMonth(year,month);console.log('ðŸ“… Feed Calendar: Response received:',response.data);console.log('ðŸ“… Feed Calendar: Days with data:',((_response$data$days=response.data.days)===null||_response$data$days===void 0?void 0:(_response$data$days$f=_response$data$days.filter(d=>d.has_data))===null||_response$data$days$f===void 0?void 0:_response$data$days$f.length)||0);setMonthData(response.data);}catch(error){console.error('ðŸ“… Feed Calendar: Error loading month data:',error);// Set empty data structure as fallback\nsetMonthData({year:currentDate.getFullYear(),month:currentDate.getMonth()+1,days:[]});}},[currentDate]);const loadFeed=useCallback(async()=>{try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'https://nutrition-back-jtf3.onrender.com',\"/api/social/feed\"),{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});if(response.ok){const data=await response.json();setPosts(data.posts);}}catch(error){console.error('Error loading feed:',error);}finally{setLoading(false);}},[]);const loadSidebarData=useCallback(async()=>{try{setSidebarLoading(true);console.log('Loading sidebar data...');let profileDataForGoals=null;// Load profile data with stats\nconst profileResponse=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'https://nutrition-back-jtf3.onrender.com',\"/api/social/profile/\").concat(user===null||user===void 0?void 0:user.id),{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});console.log('Profile response status:',profileResponse.status);if(profileResponse.ok){profileDataForGoals=await profileResponse.json();console.log('Profile data received:',profileDataForGoals);setProfileData(profileDataForGoals);}else{console.error('Profile API error:',profileResponse.status,await profileResponse.text());}// Load today's nutrition data\nconst today=format(new Date(),'yyyy-MM-dd');console.log('Loading meals for date:',today);const mealsResponse=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'https://nutrition-back-jtf3.onrender.com',\"/api/meals/\").concat(today),{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});console.log('Meals response status:',mealsResponse.status);if(mealsResponse.ok){var _profileDataForGoals;const mealsData=await mealsResponse.json();console.log('Meals data received:',mealsData);const meals=mealsData.meals||[];// Calculate totals\nconst totalCalories=meals.reduce((sum,meal)=>sum+(meal.calories||0),0);const totalProtein=meals.reduce((sum,meal)=>sum+(meal.protein||0),0);console.log('Calculated totals:',{totalCalories,totalProtein});// Get goals from profile data\nlet calorieGoal=2000;let proteinGoal=150;if((_profileDataForGoals=profileDataForGoals)!==null&&_profileDataForGoals!==void 0&&_profileDataForGoals.profile){calorieGoal=profileDataForGoals.profile.daily_calories||2000;proteinGoal=profileDataForGoals.profile.daily_protein||150;}const calorieDeficit=calorieGoal-totalCalories;console.log('Final nutrition data:',{totalCalories,totalProtein,calorieGoal,proteinGoal,calorieDeficit});setTodayNutrition({totalCalories,totalProtein,calorieGoal,proteinGoal,calorieDeficit});}else{var _profileDataForGoals2,_profileDataForGoals3,_profileDataForGoals4,_profileDataForGoals5,_profileDataForGoals6,_profileDataForGoals7;console.error('Meals API error:',mealsResponse.status,await mealsResponse.text());// Set default nutrition data if no meals\nsetTodayNutrition({totalCalories:0,totalProtein:0,calorieGoal:((_profileDataForGoals2=profileDataForGoals)===null||_profileDataForGoals2===void 0?void 0:(_profileDataForGoals3=_profileDataForGoals2.profile)===null||_profileDataForGoals3===void 0?void 0:_profileDataForGoals3.daily_calories)||2000,proteinGoal:((_profileDataForGoals4=profileDataForGoals)===null||_profileDataForGoals4===void 0?void 0:(_profileDataForGoals5=_profileDataForGoals4.profile)===null||_profileDataForGoals5===void 0?void 0:_profileDataForGoals5.daily_protein)||150,calorieDeficit:((_profileDataForGoals6=profileDataForGoals)===null||_profileDataForGoals6===void 0?void 0:(_profileDataForGoals7=_profileDataForGoals6.profile)===null||_profileDataForGoals7===void 0?void 0:_profileDataForGoals7.daily_calories)||2000});}// Load calendar data for current month\nawait loadMonthData();}catch(error){console.error('Error loading sidebar data:',error);}finally{setSidebarLoading(false);}},[user===null||user===void 0?void 0:user.id,currentDate,loadMonthData]);useEffect(()=>{if(user){loadFeed();loadSidebarData();loadMonthData();// Ensure calendar loads initially\n}},[user,loadFeed,loadSidebarData,loadMonthData]);// Reload month data when current date changes (for calendar navigation)\nuseEffect(()=>{if(user){console.log('ðŸ“… Feed: Current date changed, reloading month data');loadMonthData();}},[currentDate,loadMonthData,user]);// Listen for post creation events to auto-update feed and sidebar\nuseEffect(()=>{const handlePostCreated=()=>{console.log('Post created event received, refreshing feed and sidebar');loadFeed();loadSidebarData();// Also refresh sidebar to update post count\n};window.addEventListener('postCreated',handlePostCreated);return()=>{window.removeEventListener('postCreated',handlePostCreated);};},[loadFeed,loadSidebarData]);// Listen for meal updates to refresh sidebar AND calendar\nuseEffect(()=>{const handleMealUpdate=event=>{console.log('ðŸ½ï¸ Feed: Meal update event received:',event.type);console.log('ðŸ½ï¸ Feed: IMMEDIATELY refreshing calendar...');// Immediate refresh - no timeout\nloadMonthData();loadSidebarData();// Also do delayed refreshes as backup\nsetTimeout(()=>{console.log('ðŸ½ï¸ Feed: Backup refresh 1 (500ms)...');loadMonthData();loadSidebarData();},500);setTimeout(()=>{console.log('ðŸ½ï¸ Feed: Backup refresh 2 (1000ms)...');loadMonthData();},1000);};const handleCalendarRefresh=()=>{console.log('ðŸ“… Feed: Calendar refresh event received - IMMEDIATE refresh');loadMonthData();};// Listen to various meal-related events\nwindow.addEventListener('mealAdded',handleMealUpdate);window.addEventListener('mealDataChanged',handleMealUpdate);window.addEventListener('mealDeleted',handleMealUpdate);window.addEventListener('mealUpdated',handleMealUpdate);window.addEventListener('sidebarRefresh',handleMealUpdate);window.addEventListener('calendarRefresh',handleCalendarRefresh);return()=>{window.removeEventListener('mealAdded',handleMealUpdate);window.removeEventListener('mealDataChanged',handleMealUpdate);window.removeEventListener('mealDeleted',handleMealUpdate);window.removeEventListener('mealUpdated',handleMealUpdate);window.removeEventListener('sidebarRefresh',handleMealUpdate);window.removeEventListener('calendarRefresh',handleCalendarRefresh);};},[loadSidebarData,loadMonthData]);const handleLike=async postId=>{try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'https://nutrition-back-jtf3.onrender.com',\"/api/social/posts/\").concat(postId,\"/like\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token')),'Content-Type':'application/json'}});if(response.ok){// Update local state\nsetPosts(posts.map(post=>post.id===postId?_objectSpread(_objectSpread({},post),{},{is_liked:!post.is_liked,likes_count:post.is_liked?post.likes_count-1:post.likes_count+1}):post));}}catch(error){console.error('Error liking post:',error);}};const handleBookmark=async postId=>{try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'https://nutrition-back-jtf3.onrender.com',\"/api/social/posts/\").concat(postId,\"/favorite\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token')),'Content-Type':'application/json'}});if(response.ok){// Update local state\nsetPosts(posts.map(post=>post.id===postId?_objectSpread(_objectSpread({},post),{},{is_bookmarked:!post.is_bookmarked}):post));}}catch(error){console.error('Error bookmarking post:',error);}};const handleCreatePost=async()=>{console.log('handleCreatePost called with:',newPost);if(!newPost.content.trim()){console.log('No content, returning early');alert('Please enter some content for your post');return;}try{const formData=new FormData();formData.append('content',newPost.content);formData.append('allowComments',newPost.allowComments.toString());formData.append('hideLikeCount',newPost.hideLikeCount.toString());if(newPost.imageFile){formData.append('image',newPost.imageFile);console.log('Added image file:',newPost.imageFile.name);}if(newPost.mealData){formData.append('mealData',JSON.stringify(newPost.mealData));}console.log('Sending request to /api/social/posts');const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'https://nutrition-back-jtf3.onrender.com',\"/api/social/posts\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))},body:formData});console.log('Response status:',response.status);if(response.ok){const result=await response.json();console.log('Post created successfully:',result);setNewPost({content:'',imageFile:null,mealData:null,allowComments:true,hideLikeCount:false});setShowCreatePost(false);// Trigger a custom event to update the feed\nwindow.dispatchEvent(new CustomEvent('postCreated',{detail:result}));// Reload feed and sidebar data\nloadFeed();loadSidebarData();}else{const errorText=await response.text();console.error('Failed to create post. Status:',response.status,'Response:',errorText);alert(\"Failed to create post: \".concat(response.status,\" - \").concat(errorText));}}catch(error){console.error('Error creating post:',error);alert(\"Error creating post: \".concat(error instanceof Error?error.message:'Unknown error'));}};const searchUsers=async query=>{if(!query.trim()){setSearchResults([]);return;}try{setSearchLoading(true);// For now, return mock data since search doesn't need to work yet\nconst mockUsers=[{id:1,username:'john_doe',first_name:'John',last_name:'Doe',profile_picture:null},{id:2,username:'jane_smith',first_name:'Jane',last_name:'Smith',profile_picture:null},{id:3,username:'fitness_guru',first_name:'Mike',last_name:'Johnson',profile_picture:null}].filter(user=>user.username.toLowerCase().includes(query.toLowerCase())||user.first_name.toLowerCase().includes(query.toLowerCase())||user.last_name.toLowerCase().includes(query.toLowerCase()));setSearchResults(mockUsers);}catch(error){console.error('Error searching users:',error);}finally{setSearchLoading(false);}};const loadComments=async postId=>{if(loadingComments.has(postId))return;setLoadingComments(prev=>{const newSet=new Set(prev);newSet.add(postId);return newSet;});try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'https://nutrition-back-jtf3.onrender.com',\"/api/social/posts/\").concat(postId,\"/comments\"),{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});if(response.ok){const data=await response.json();setComments(prev=>_objectSpread(_objectSpread({},prev),{},{[postId]:data.comments}));}}catch(error){console.error('Error loading comments:',error);}finally{setLoadingComments(prev=>{const newSet=new Set(prev);newSet.delete(postId);return newSet;});}};const handleToggleComments=postId=>{const isExpanded=expandedComments.has(postId);if(isExpanded){setExpandedComments(prev=>{const newSet=new Set(prev);newSet.delete(postId);return newSet;});}else{setExpandedComments(prev=>{const newSet=new Set(prev);newSet.add(postId);return newSet;});if(!comments[postId]){loadComments(postId);}}};const handleAddComment=async postId=>{var _newComments$postId;const content=(_newComments$postId=newComments[postId])===null||_newComments$postId===void 0?void 0:_newComments$postId.trim();if(!content)return;try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'https://nutrition-back-jtf3.onrender.com',\"/api/social/posts/\").concat(postId,\"/comments\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token')),'Content-Type':'application/json'},body:JSON.stringify({content})});if(response.ok){setNewComments(prev=>_objectSpread(_objectSpread({},prev),{},{[postId]:''}));loadComments(postId);// Reload comments\n// Update comments count in posts\nsetPosts(posts.map(post=>post.id===postId?_objectSpread(_objectSpread({},post),{},{comments_count:post.comments_count+1}):post));}}catch(error){console.error('Error adding comment:',error);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"})});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex max-w-7xl mx-auto gap-6 p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-80 flex-shrink-0 sticky top-6 self-start space-y-4 max-h-[calc(100vh-3rem)] overflow-y-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\",children:sidebarLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"animate-pulse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 bg-gray-200 rounded-full mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded mb-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-3/4 mx-auto mb-4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-16\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-16\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-16\"})]})]}):profileData?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center mb-4\",children:(_profileData$profile=profileData.profile)!==null&&_profileData$profile!==void 0&&_profileData$profile.profile_picture?/*#__PURE__*/_jsx(\"img\",{src:profileData.profile.profile_picture,alt:\"\".concat(user===null||user===void 0?void 0:user.first_name,\" \").concat(user===null||user===void 0?void 0:user.last_name),className:\"w-20 h-20 rounded-full mx-auto object-cover border-4 border-blue-100\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 bg-gray-200 rounded-full mx-auto flex items-center justify-center border-4 border-blue-100\",children:/*#__PURE__*/_jsx(UserCircle,{className:\"w-12 h-12 text-gray-400\"})})}),/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900 text-center mb-1\",children:[user===null||user===void 0?void 0:user.first_name,\" \",user===null||user===void 0?void 0:user.last_name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-500 text-center text-sm mb-4\",children:[\"@\",user===null||user===void 0?void 0:user.username]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-center mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-lg text-gray-900\",children:((_profileData$stats=profileData.stats)===null||_profileData$stats===void 0?void 0:_profileData$stats.posts)||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Posts\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-lg text-gray-900\",children:((_profileData$stats2=profileData.stats)===null||_profileData$stats2===void 0?void 0:_profileData$stats2.followers)||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Followers\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-lg text-gray-900\",children:((_profileData$stats3=profileData.stats)===null||_profileData$stats3===void 0?void 0:_profileData$stats3.following)||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Following\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-200 pt-4\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/dashboard/inputs'),className:\"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add Meal\"})]})})]}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:\"Unable to load profile\"})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"w-5 h-5 mr-2\"}),\"Today's Overview\"]}),sidebarLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"animate-pulse space-y-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-3/4\"})]}):todayNutrition?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Calorie Deficit:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[todayNutrition.calorieDeficit>0?/*#__PURE__*/_jsx(TrendingDown,{className:\"w-4 h-4 text-green-600 mr-1\"}):/*#__PURE__*/_jsx(TrendingUp,{className:\"w-4 h-4 text-red-600 mr-1\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold \".concat(todayNutrition.calorieDeficit>0?'text-green-600':'text-red-600'),children:[Math.abs(todayNutrition.calorieDeficit),\" cal\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Protein:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-gray-900\",children:[Math.round(todayNutrition.totalProtein),\"g / \",todayNutrition.proteinGoal,\"g\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs text-gray-500 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Calories\"}),/*#__PURE__*/_jsxs(\"span\",{children:[todayNutrition.totalCalories,\" / \",todayNutrition.calorieGoal]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-2 rounded-full\",style:{width:\"\".concat(Math.min(todayNutrition.totalCalories/todayNutrition.calorieGoal*100,100),\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs text-gray-500 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Protein\"}),/*#__PURE__*/_jsxs(\"span\",{children:[Math.round(todayNutrition.totalProtein),\" / \",todayNutrition.proteinGoal,\"g\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-600 h-2 rounded-full\",style:{width:\"\".concat(Math.min(todayNutrition.totalProtein/todayNutrition.proteinGoal*100,100),\"%\")}})})]})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:\"No data available\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-5 h-5 mr-2\"}),format(currentDate,'MMMM yyyy')]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentDate(prev=>subMonths(prev,1)),className:\"p-1 hover:bg-gray-100 rounded-full transition-colors\",children:/*#__PURE__*/_jsx(ChevronLeft,{className:\"w-4 h-4 text-gray-600\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentDate(prev=>addMonths(prev,1)),className:\"p-1 hover:bg-gray-100 rounded-full transition-colors\",children:/*#__PURE__*/_jsx(ChevronRight,{className:\"w-4 h-4 text-gray-600\"})})]})]})}),sidebarLoading?/*#__PURE__*/_jsx(\"div\",{className:\"animate-pulse\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-7 gap-2 p-2 bg-gray-50 rounded-lg\",children:[Array.from({length:7}).map((_,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"h-6 bg-gray-200 rounded\"},\"header-\".concat(i))),Array.from({length:35}).map((_,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"aspect-square bg-gray-200 rounded-lg\"},i))]})}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-7 gap-2 p-2 bg-gray-50 rounded-lg\",children:[['Sun','Mon','Tue','Wed','Thu','Fri','Sat'].map(day=>/*#__PURE__*/_jsx(\"div\",{className:\"p-2 text-center text-xs font-bold text-gray-600 uppercase tracking-wide\",children:day.substring(0,1)},day)),monthData&&(()=>{const start=startOfMonth(currentDate);const firstDayOfMonth=start.getDay();const paddingDays=Array.from({length:firstDayOfMonth},(_,i)=>i);const days=eachDayOfInterval({start:startOfMonth(currentDate),end:endOfMonth(currentDate)});const getDayStatus=day=>{if(!(day!==null&&day!==void 0&&day.has_data))return'no-data';if(day.calories_met&&day.protein_met)return'both-met';if(day.calories_met||day.protein_met)return'partial';return'none-met';};const getDayColor=day=>{const status=getDayStatus(day);switch(status){case'both-met':return'bg-green-500 text-white';// EXACT match to Diary\ncase'partial':return'bg-yellow-500 text-white';// EXACT match to Diary  \ncase'none-met':return'bg-red-500 text-white';// EXACT match to Diary\ndefault:return'bg-gray-100 text-gray-400';// EXACT match to Diary\n}};return/*#__PURE__*/_jsxs(_Fragment,{children:[paddingDays.map((_,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"aspect-square\"},\"padding-\".concat(i))),days.map(day=>{var _monthData$days;const dateStr=format(day,'yyyy-MM-dd');const dayData=(_monthData$days=monthData.days)===null||_monthData$days===void 0?void 0:_monthData$days.find(d=>d.date===dateStr);const isCurrentDay=isToday(day);// Debug logging for ALL days with data\nif(dayData!==null&&dayData!==void 0&&dayData.has_data){console.log(\"\\uD83D\\uDCC5 Feed Calendar: Day \".concat(format(day,'d'),\" data:\"),{date:dateStr,hasData:dayData.has_data,calories:dayData.total_calories,caloriesMet:dayData.calories_met,proteinMet:dayData.protein_met,status:getDayStatus(dayData),color:getDayColor(dayData)});}return/*#__PURE__*/_jsx(\"div\",{className:\"\\n                              aspect-square p-1 text-xs font-medium rounded-lg transition-all duration-200 cursor-pointer\\n                              flex items-center justify-center\\n                              \".concat(getDayColor(dayData||{has_data:false}),\"\\n                              \").concat(isCurrentDay?'ring-2 ring-blue-500 ring-offset-1':'',\"\\n                              hover:opacity-80 hover:scale-105\\n                            \"),children:/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-sm\",children:format(day,'d')})},day.toString());})]});})()]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sticky top-0 bg-white border-b border-gray-200 p-4 z-10\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowCreatePost(true),className:\"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(PenTool,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Create a new post\"})]})}),showCreatePost&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[85vh] flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-b border-gray-200 flex-shrink-0\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900\",children:\"Create New Post\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCreatePost(false),className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 space-y-4 flex-1 overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"textarea\",{value:newPost.content,onChange:e=>setNewPost(_objectSpread(_objectSpread({},newPost),{},{content:e.target.value})),placeholder:\"What's going on?\",className:\"w-full border border-gray-300 rounded-lg p-3 resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\",rows:4})}),newPost.imageFile&&/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:URL.createObjectURL(newPost.imageFile),alt:\"Preview\",className:\"w-full h-40 object-cover rounded-lg\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setNewPost(_objectSpread(_objectSpread({},newPost),{},{imageFile:null})),className:\"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors shadow-lg\",children:/*#__PURE__*/_jsx(X,{className:\"h-3 w-3\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-2\",children:\"Add to your post\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg cursor-pointer transition-colors\",children:[/*#__PURE__*/_jsx(Image,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Upload Photo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:e=>{var _e$target$files;const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(file){setNewPost(_objectSpread(_objectSpread({},newPost),{},{imageFile:file}));}},className:\"hidden\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-3\",children:\"Privacy Settings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Allow comments\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Let people comment on your post\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setNewPost(_objectSpread(_objectSpread({},newPost),{},{allowComments:!newPost.allowComments})),className:\"relative inline-flex h-6 w-11 items-center rounded-full transition-colors \".concat(newPost.allowComments?'bg-blue-600':'bg-gray-200'),children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-block h-4 w-4 transform rounded-full bg-white transition-transform \".concat(newPost.allowComments?'translate-x-6':'translate-x-1')})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Hide like count\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Only you will see the total number of likes\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setNewPost(_objectSpread(_objectSpread({},newPost),{},{hideLikeCount:!newPost.hideLikeCount})),className:\"relative inline-flex h-6 w-11 items-center rounded-full transition-colors \".concat(newPost.hideLikeCount?'bg-blue-600':'bg-gray-200'),children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-block h-4 w-4 transform rounded-full bg-white transition-transform \".concat(newPost.hideLikeCount?'translate-x-6':'translate-x-1')})})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-3 p-4 border-t border-gray-200 bg-gray-50 flex-shrink-0\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCreatePost(false),className:\"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{console.log('Post button clicked',newPost);handleCreatePost();},disabled:!newPost.content.trim(),className:\"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg font-medium transition-colors\",children:\"Post\"})]})]})}),posts.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 text-center text-gray-500\",children:[/*#__PURE__*/_jsx(PenTool,{className:\"w-16 h-16 mx-auto mb-4 text-gray-300\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-medium mb-2\",children:\"No posts in your feed\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-6\",children:\"Follow some users to see their posts here, or create your own post!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCreatePost(true),className:\"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors mr-4\",children:\"Create your first post\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowFollowSearch(true),className:\"bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors\",children:\"Find people to follow\"})]})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:posts.map(post=>{var _post$user$first_name,_post$user$username,_user$first_name,_newComments$post$id;return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-b border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[post.user.profile_picture?/*#__PURE__*/_jsx(\"img\",{src:post.user.profile_picture,alt:\"\".concat(post.user.first_name,\" \").concat(post.user.last_name),className:\"w-10 h-10 rounded-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-indigo-600 flex items-center justify-center text-white text-sm font-bold\",children:((_post$user$first_name=post.user.first_name)===null||_post$user$first_name===void 0?void 0:_post$user$first_name.charAt(0))||((_post$user$username=post.user.username)===null||_post$user$username===void 0?void 0:_post$user$username.charAt(0))}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-semibold text-gray-900\",children:[post.user.first_name,\" \",post.user.last_name]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:formatPostDate(post.created_at)})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(MoreHorizontal,{className:\"w-5 h-5\"})})]}),post.content&&/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:post.content})}),post.image_url&&/*#__PURE__*/_jsx(\"div\",{className:\"w-full\",children:/*#__PURE__*/_jsx(\"img\",{src:post.image_url,alt:\"Post\",className:\"w-full object-cover\"})}),post.meal_data&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gray-50 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-800 mb-2\",children:\"Meal Breakdown\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Calories:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 font-medium\",children:post.meal_data.calories})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Protein:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 font-medium\",children:[post.meal_data.protein,\"g\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Carbs:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 font-medium\",children:[post.meal_data.carbs,\"g\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Fat:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 font-medium\",children:[post.meal_data.fat,\"g\"]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleLike(post.id),className:\"flex items-center space-x-2 transition-colors \".concat(post.is_liked?'text-red-500':'text-gray-400 hover:text-red-500'),children:[/*#__PURE__*/_jsx(Heart,{className:\"w-6 h-6 \".concat(post.is_liked?'fill-current':'')}),!post.hide_like_count||post.user.id===(user===null||user===void 0?void 0:user.id)?/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:post.likes_count}):/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"\\u2022\"})]}),post.allow_comments!==false&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleToggleComments(post.id),className:\"flex items-center space-x-2 text-gray-400 hover:text-gray-600 transition-colors\",children:[/*#__PURE__*/_jsx(MessageCircle,{className:\"w-6 h-6\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:post.comments_count})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:/*#__PURE__*/_jsx(Share,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleBookmark(post.id),className:\"flex items-center space-x-2 transition-colors \".concat(post.is_bookmarked?'text-blue-500':'text-gray-400 hover:text-blue-500'),children:/*#__PURE__*/_jsx(Bookmark,{className:\"w-6 h-6 \".concat(post.is_bookmarked?'fill-current':'')})})]})}),post.allow_comments!==false&&expandedComments.has(post.id)&&/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200\",children:[loadingComments.has(post.id)?/*#__PURE__*/_jsx(\"div\",{className:\"p-4 text-center text-gray-500\",children:\"Loading comments...\"}):comments[post.id]&&comments[post.id].length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3 mb-4\",children:comments[post.id].slice(0,3).map(comment=>{var _comment$user$first_n,_comment$user$usernam;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[comment.user.profile_picture?/*#__PURE__*/_jsx(\"img\",{src:comment.user.profile_picture,alt:\"\".concat(comment.user.first_name,\" \").concat(comment.user.last_name),className:\"w-8 h-8 rounded-full object-cover flex-shrink-0\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full bg-gradient-to-br from-green-400 to-blue-600 flex items-center justify-center text-white text-xs font-bold flex-shrink-0\",children:((_comment$user$first_n=comment.user.first_name)===null||_comment$user$first_n===void 0?void 0:_comment$user$first_n.charAt(0))||((_comment$user$usernam=comment.user.username)===null||_comment$user$usernam===void 0?void 0:_comment$user$usernam.charAt(0))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 rounded-lg px-3 py-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium text-sm text-gray-900\",children:[comment.user.first_name,\" \",comment.user.last_name]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-700\",children:comment.content})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:formatPostDate(comment.created_at)})]})]},comment.id);})}),comments[post.id].length>3&&/*#__PURE__*/_jsxs(\"button\",{className:\"text-sm text-blue-600 hover:text-blue-700 mb-4\",children:[\"View all \",comments[post.id].length,\" comments\"]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"p-4 text-center text-gray-500\",children:\"No comments yet\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-t border-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[user!==null&&user!==void 0&&user.profile_picture?/*#__PURE__*/_jsx(\"img\",{src:user.profile_picture,alt:\"\".concat(user.first_name,\" \").concat(user.last_name),className:\"w-8 h-8 rounded-full object-cover flex-shrink-0\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full bg-gradient-to-br from-purple-400 to-pink-600 flex items-center justify-center text-white text-xs font-bold flex-shrink-0\",children:(user===null||user===void 0?void 0:(_user$first_name=user.first_name)===null||_user$first_name===void 0?void 0:_user$first_name.charAt(0))||'U'}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newComments[post.id]||'',onChange:e=>setNewComments(prev=>_objectSpread(_objectSpread({},prev),{},{[post.id]:e.target.value})),placeholder:\"Write a comment...\",className:\"flex-1 border border-gray-300 rounded-full px-4 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",onKeyPress:e=>e.key==='Enter'&&handleAddComment(post.id)}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAddComment(post.id),disabled:!((_newComments$post$id=newComments[post.id])!==null&&_newComments$post$id!==void 0&&_newComments$post$id.trim()),className:\"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-full text-sm font-medium transition-colors\",children:\"Post\"})]})]})})]})]},post.id);})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-80 flex-shrink-0 sticky top-6 self-start space-y-4 max-h-[calc(100vh-3rem)] overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Suggested Groups\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold text-sm\",children:\"FG\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-gray-900 truncate\",children:\"Fitness Goals\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"124 members\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-xs bg-blue-600 text-white px-3 py-1 rounded-full hover:bg-blue-700 transition-colors\",children:\"View\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gradient-to-br from-green-400 to-blue-500 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold text-sm\",children:\"HR\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-gray-900 truncate\",children:\"Healthy Recipes\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"89 members\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-xs bg-blue-600 text-white px-3 py-1 rounded-full hover:bg-blue-700 transition-colors\",children:\"View\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gradient-to-br from-orange-400 to-red-500 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold text-sm\",children:\"WL\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-gray-900 truncate\",children:\"Weight Loss\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"203 members\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-xs bg-blue-600 text-white px-3 py-1 rounded-full hover:bg-blue-700 transition-colors\",children:\"View\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center border-t border-gray-200 pt-4 mt-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// TODO: Navigate to groups discovery page\nconsole.log('Find more groups clicked');},className:\"text-blue-600 hover:text-blue-800 text-sm font-medium hover:underline transition-colors\",children:\"Find more groups\"})})]})})]}),showCreatePost&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[85vh] flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-b border-gray-200 flex-shrink-0\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900\",children:\"Create New Post\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCreatePost(false),className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"What's on your mind?\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newPost.content,onChange:e=>setNewPost(_objectSpread(_objectSpread({},newPost),{},{content:e.target.value})),placeholder:\"What's going on?\",className:\"w-full border border-gray-300 rounded-lg p-3 resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\",rows:4})]}),newPost.imageFile&&/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:URL.createObjectURL(newPost.imageFile),alt:\"Preview\",className:\"w-full h-40 object-cover rounded-lg\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setNewPost(_objectSpread(_objectSpread({},newPost),{},{imageFile:null})),className:\"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors shadow-lg\",children:/*#__PURE__*/_jsx(X,{className:\"h-3 w-3\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-2\",children:\"Add to your post\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg cursor-pointer transition-colors\",children:[/*#__PURE__*/_jsx(Image,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Upload Photo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:e=>{var _e$target$files2;const file=(_e$target$files2=e.target.files)===null||_e$target$files2===void 0?void 0:_e$target$files2[0];if(file){setNewPost(_objectSpread(_objectSpread({},newPost),{},{imageFile:file}));}},className:\"hidden\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Allow comments\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setNewPost(_objectSpread(_objectSpread({},newPost),{},{allowComments:!newPost.allowComments})),className:\"relative inline-flex h-6 w-11 items-center rounded-full transition-colors \".concat(newPost.allowComments?'bg-blue-600':'bg-gray-200'),children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-block h-4 w-4 transform rounded-full bg-white transition-transform \".concat(newPost.allowComments?'translate-x-6':'translate-x-1')})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Hide like count\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setNewPost(_objectSpread(_objectSpread({},newPost),{},{hideLikeCount:!newPost.hideLikeCount})),className:\"relative inline-flex h-6 w-11 items-center rounded-full transition-colors \".concat(newPost.hideLikeCount?'bg-blue-600':'bg-gray-200'),children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-block h-4 w-4 transform rounded-full bg-white transition-transform \".concat(newPost.hideLikeCount?'translate-x-6':'translate-x-1')})})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-t border-gray-200 flex-shrink-0\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCreatePost(false),className:\"bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 px-4 rounded-lg transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreatePost,disabled:!newPost.content.trim(),className:\"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white py-2 px-4 rounded-lg transition-colors\",children:\"Post\"})]})]})}),showFollowSearch&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-2xl w-full max-w-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900\",children:\"Find People to Follow\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowFollowSearch(false);setSearchQuery('');setSearchResults([]);},className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchQuery,onChange:e=>{setSearchQuery(e.target.value);searchUsers(e.target.value);},placeholder:\"Search for users...\",className:\"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-h-64 overflow-y-auto\",children:searchLoading?/*#__PURE__*/_jsx(\"div\",{className:\"p-4 text-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto\"})}):searchResults.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 p-4\",children:searchResults.map(user=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[user.profile_picture?/*#__PURE__*/_jsx(\"img\",{src:user.profile_picture,alt:\"\".concat(user.first_name,\" \").concat(user.last_name),className:\"w-10 h-10 rounded-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(UserCircle,{className:\"w-6 h-6 text-gray-400\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium text-gray-900\",children:[user.first_name,\" \",user.last_name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"@\",user.username]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// Follow functionality placeholder\nalert(\"Follow functionality coming soon for \".concat(user.username,\"!\"));},className:\"bg-blue-600 hover:bg-blue-700 text-white text-sm px-4 py-2 rounded-lg transition-colors\",children:\"Follow\"})]},user.id))}):searchQuery&&!searchLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 text-center text-gray-500\",children:[\"No users found matching \\\"\",searchQuery,\"\\\"\"]}):/*#__PURE__*/_jsx(\"div\",{className:\"p-4 text-center text-gray-500\",children:\"Start typing to search for users...\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-80 flex-shrink-0 sticky top-6 self-start space-y-4 max-h-[calc(100vh-3rem)] overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(UserCircle,{className:\"w-5 h-5 mr-2\"}),\"My Groups\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gradient-to-br from-purple-400 to-pink-500 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold text-sm\",children:\"FG\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-gray-900 truncate\",children:\"Fitness Goals\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"124 members\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-xs bg-blue-600 text-white px-3 py-1 rounded-full hover:bg-blue-700 transition-colors\",children:\"View\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gradient-to-br from-green-400 to-blue-500 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold text-sm\",children:\"HR\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-gray-900 truncate\",children:\"Healthy Recipes\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"89 members\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-xs bg-blue-600 text-white px-3 py-1 rounded-full hover:bg-blue-700 transition-colors\",children:\"View\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gradient-to-br from-orange-400 to-red-500 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold text-sm\",children:\"WL\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-gray-900 truncate\",children:\"Weight Loss\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"203 members\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-xs bg-blue-600 text-white px-3 py-1 rounded-full hover:bg-blue-700 transition-colors\",children:\"View\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center border-t border-gray-200 pt-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// TODO: Navigate to groups discovery page\nconsole.log('Find more groups clicked');},className:\"text-blue-600 hover:text-blue-800 text-sm font-medium hover:underline transition-colors\",children:\"Find more groups\"})})]})})]});};export default Feed;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useAuth","Heart","MessageCircle","Share","MoreHorizontal","PenTool","Bookmark","Image","X","Plus","UserCircle","Calendar","TrendingUp","TrendingDown","BarChart3","ChevronLeft","ChevronRight","formatDistanceToNow","format","startOfMonth","endOfMonth","eachDayOfInterval","isToday","addMonths","subMonths","useNavigate","diaryAPI","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Feed","_profileData$profile","_profileData$stats","_profileData$stats2","_profileData$stats3","user","navigate","posts","setPosts","loading","setLoading","showCreatePost","setShowCreatePost","newPost","setNewPost","content","imageFile","mealData","allowComments","hideLikeCount","expandedComments","setExpandedComments","Set","comments","setComments","newComments","setNewComments","loadingComments","setLoadingComments","profileData","setProfileData","todayNutrition","setTodayNutrition","currentDate","setCurrentDate","Date","monthData","setMonthData","sidebarLoading","setSidebarLoading","showFollowSearch","setShowFollowSearch","searchQuery","setSearchQuery","searchResults","setSearchResults","searchLoading","setSearchLoading","formatPostDate","dateString","postDate","today","toDateString","concat","toLocaleTimeString","hour","minute","hour12","addSuffix","loadMonthData","_response$data$days","_response$data$days$f","year","getFullYear","month","getMonth","console","log","response","data","days","filter","d","has_data","length","error","loadFeed","fetch","process","env","REACT_APP_API_URL","headers","localStorage","getItem","ok","json","loadSidebarData","profileDataForGoals","profileResponse","id","status","text","mealsResponse","_profileDataForGoals","mealsData","meals","totalCalories","reduce","sum","meal","calories","totalProtein","protein","calorieGoal","proteinGoal","profile","daily_calories","daily_protein","calorieDeficit","_profileDataForGoals2","_profileDataForGoals3","_profileDataForGoals4","_profileDataForGoals5","_profileDataForGoals6","_profileDataForGoals7","handlePostCreated","window","addEventListener","removeEventListener","handleMealUpdate","event","type","setTimeout","handleCalendarRefresh","handleLike","postId","method","map","post","_objectSpread","is_liked","likes_count","handleBookmark","is_bookmarked","handleCreatePost","trim","alert","formData","FormData","append","toString","name","JSON","stringify","body","result","dispatchEvent","CustomEvent","detail","errorText","Error","message","searchUsers","query","mockUsers","username","first_name","last_name","profile_picture","toLowerCase","includes","loadComments","has","prev","newSet","add","delete","handleToggleComments","isExpanded","handleAddComment","_newComments$postId","comments_count","className","children","src","alt","stats","followers","following","onClick","Math","abs","round","style","width","min","Array","from","_","i","day","substring","start","firstDayOfMonth","getDay","paddingDays","end","getDayStatus","calories_met","protein_met","getDayColor","_monthData$days","dateStr","dayData","find","date","isCurrentDay","hasData","total_calories","caloriesMet","proteinMet","color","value","onChange","e","target","placeholder","rows","URL","createObjectURL","accept","_e$target$files","file","files","disabled","_post$user$first_name","_post$user$username","_user$first_name","_newComments$post$id","charAt","created_at","image_url","meal_data","carbs","fat","hide_like_count","allow_comments","slice","comment","_comment$user$first_n","_comment$user$usernam","onKeyPress","key","_e$target$files2"],"sources":["C:/Users/arian/OneDrive/Desktop/Nutrition/client/src/components/Feed.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { Heart, MessageCircle, Share, MoreHorizontal, PenTool, Bookmark, Image, X, Plus, UserCircle, Calendar, TrendingUp, TrendingDown, BarChart3, ChevronLeft, ChevronRight } from 'lucide-react';\r\nimport { formatDistanceToNow, format, startOfMonth, endOfMonth, eachDayOfInterval, isSameMonth, isToday, addMonths, subMonths } from 'date-fns';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { diaryAPI } from '../services/api';\r\n\r\ninterface Post {\r\n  id: number;\r\n  content: string;\r\n  image_url: string | null;\r\n  meal_data: any;\r\n  likes_count: number;\r\n  comments_count: number;\r\n  is_liked: boolean;\r\n  is_bookmarked: boolean;\r\n  allow_comments?: boolean;\r\n  hide_like_count?: boolean;\r\n  created_at: string;\r\n  user: {\r\n    id: number;\r\n    username: string;\r\n    first_name: string;\r\n    last_name: string;\r\n    profile_picture?: string;\r\n  };\r\n}\r\n\r\ninterface Comment {\r\n  id: number;\r\n  content: string;\r\n  created_at: string;\r\n  user: {\r\n    id: number;\r\n    username: string;\r\n    first_name: string;\r\n    last_name: string;\r\n    profile_picture?: string;\r\n  };\r\n}\r\n\r\nconst Feed: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [posts, setPosts] = useState<Post[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showCreatePost, setShowCreatePost] = useState(false);\r\n  const [newPost, setNewPost] = useState({ \r\n    content: '', \r\n    imageFile: null as File | null, \r\n    mealData: null,\r\n    allowComments: true,\r\n    hideLikeCount: false\r\n  });\r\n  const [expandedComments, setExpandedComments] = useState<Set<number>>(new Set());\r\n  const [comments, setComments] = useState<{ [postId: number]: Comment[] }>({});\r\n  const [newComments, setNewComments] = useState<{ [postId: number]: string }>({});\r\n  const [loadingComments, setLoadingComments] = useState<Set<number>>(new Set());\r\n  \r\n  // Sidebar data states\r\n  const [profileData, setProfileData] = useState<any>(null);\r\n  const [todayNutrition, setTodayNutrition] = useState<any>(null);\r\n  const [currentDate, setCurrentDate] = useState(new Date());\r\n  const [monthData, setMonthData] = useState<any>(null);\r\n  const [sidebarLoading, setSidebarLoading] = useState(true);\r\n  \r\n  // Follow people search states\r\n  const [showFollowSearch, setShowFollowSearch] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [searchResults, setSearchResults] = useState<any[]>([]);\r\n  const [searchLoading, setSearchLoading] = useState(false);\r\n\r\n  const formatPostDate = (dateString: string) => {\r\n    const postDate = new Date(dateString);\r\n    const today = new Date();\r\n    const isToday = postDate.toDateString() === today.toDateString();\r\n    \r\n    if (isToday) {\r\n      return `Today at ${postDate.toLocaleTimeString('en-US', { \r\n        hour: 'numeric', \r\n        minute: '2-digit', \r\n        hour12: true \r\n      })}`;\r\n    } else {\r\n      return formatDistanceToNow(postDate, { addSuffix: true });\r\n    }\r\n  };\r\n\r\n  const loadMonthData = useCallback(async () => {\r\n    try {\r\n      const year = currentDate.getFullYear();\r\n      const month = currentDate.getMonth() + 1;\r\n      \r\n      console.log('ðŸ“… Feed Calendar: Loading month data for:', { year, month });\r\n      \r\n      // Use the EXACT same API call as Diary component\r\n      const response = await diaryAPI.getMonth(year, month);\r\n      \r\n      console.log('ðŸ“… Feed Calendar: Response received:', response.data);\r\n      console.log('ðŸ“… Feed Calendar: Days with data:', response.data.days?.filter((d: any) => d.has_data)?.length || 0);\r\n      \r\n      setMonthData(response.data);\r\n    } catch (error) {\r\n      console.error('ðŸ“… Feed Calendar: Error loading month data:', error);\r\n      // Set empty data structure as fallback\r\n      setMonthData({\r\n        year: currentDate.getFullYear(),\r\n        month: currentDate.getMonth() + 1,\r\n        days: []\r\n      });\r\n    }\r\n  }, [currentDate]);\r\n\r\n  const loadFeed = useCallback(async () => {\r\n    try {\r\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-back-jtf3.onrender.com'}/api/social/feed`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setPosts(data.posts);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading feed:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const loadSidebarData = useCallback(async () => {\r\n    try {\r\n      setSidebarLoading(true);\r\n      console.log('Loading sidebar data...');\r\n      \r\n      let profileDataForGoals = null;\r\n      \r\n      // Load profile data with stats\r\n      const profileResponse = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-back-jtf3.onrender.com'}/api/social/profile/${user?.id}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      \r\n      console.log('Profile response status:', profileResponse.status);\r\n      \r\n      if (profileResponse.ok) {\r\n        profileDataForGoals = await profileResponse.json();\r\n        console.log('Profile data received:', profileDataForGoals);\r\n        setProfileData(profileDataForGoals);\r\n      } else {\r\n        console.error('Profile API error:', profileResponse.status, await profileResponse.text());\r\n      }\r\n      \r\n      // Load today's nutrition data\r\n      const today = format(new Date(), 'yyyy-MM-dd');\r\n      console.log('Loading meals for date:', today);\r\n      \r\n      const mealsResponse = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-back-jtf3.onrender.com'}/api/meals/${today}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      \r\n      console.log('Meals response status:', mealsResponse.status);\r\n      \r\n      if (mealsResponse.ok) {\r\n        const mealsData = await mealsResponse.json();\r\n        console.log('Meals data received:', mealsData);\r\n        const meals = mealsData.meals || [];\r\n        \r\n        // Calculate totals\r\n        const totalCalories = meals.reduce((sum: number, meal: any) => sum + (meal.calories || 0), 0);\r\n        const totalProtein = meals.reduce((sum: number, meal: any) => sum + (meal.protein || 0), 0);\r\n        \r\n        console.log('Calculated totals:', { totalCalories, totalProtein });\r\n        \r\n        // Get goals from profile data\r\n        let calorieGoal = 2000;\r\n        let proteinGoal = 150;\r\n        \r\n        if (profileDataForGoals?.profile) {\r\n          calorieGoal = profileDataForGoals.profile.daily_calories || 2000;\r\n          proteinGoal = profileDataForGoals.profile.daily_protein || 150;\r\n        }\r\n        \r\n        const calorieDeficit = calorieGoal - totalCalories;\r\n        \r\n        console.log('Final nutrition data:', { totalCalories, totalProtein, calorieGoal, proteinGoal, calorieDeficit });\r\n        \r\n        setTodayNutrition({\r\n          totalCalories,\r\n          totalProtein,\r\n          calorieGoal,\r\n          proteinGoal,\r\n          calorieDeficit\r\n        });\r\n      } else {\r\n        console.error('Meals API error:', mealsResponse.status, await mealsResponse.text());\r\n        // Set default nutrition data if no meals\r\n        setTodayNutrition({\r\n          totalCalories: 0,\r\n          totalProtein: 0,\r\n          calorieGoal: profileDataForGoals?.profile?.daily_calories || 2000,\r\n          proteinGoal: profileDataForGoals?.profile?.daily_protein || 150,\r\n          calorieDeficit: profileDataForGoals?.profile?.daily_calories || 2000\r\n        });\r\n      }\r\n      \r\n      // Load calendar data for current month\r\n      await loadMonthData();\r\n      \r\n    } catch (error) {\r\n      console.error('Error loading sidebar data:', error);\r\n    } finally {\r\n      setSidebarLoading(false);\r\n    }\r\n  }, [user?.id, currentDate, loadMonthData]);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      loadFeed();\r\n      loadSidebarData();\r\n      loadMonthData(); // Ensure calendar loads initially\r\n    }\r\n  }, [user, loadFeed, loadSidebarData, loadMonthData]);\r\n\r\n  // Reload month data when current date changes (for calendar navigation)\r\n  useEffect(() => {\r\n    if (user) {\r\n      console.log('ðŸ“… Feed: Current date changed, reloading month data');\r\n      loadMonthData();\r\n    }\r\n  }, [currentDate, loadMonthData, user]);\r\n\r\n  // Listen for post creation events to auto-update feed and sidebar\r\n  useEffect(() => {\r\n    const handlePostCreated = () => {\r\n      console.log('Post created event received, refreshing feed and sidebar');\r\n      loadFeed();\r\n      loadSidebarData(); // Also refresh sidebar to update post count\r\n    };\r\n\r\n    window.addEventListener('postCreated', handlePostCreated);\r\n    \r\n    return () => {\r\n      window.removeEventListener('postCreated', handlePostCreated);\r\n    };\r\n  }, [loadFeed, loadSidebarData]);\r\n\r\n  // Listen for meal updates to refresh sidebar AND calendar\r\n  useEffect(() => {\r\n    const handleMealUpdate = (event: any) => {\r\n      console.log('ðŸ½ï¸ Feed: Meal update event received:', event.type);\r\n      console.log('ðŸ½ï¸ Feed: IMMEDIATELY refreshing calendar...');\r\n      \r\n      // Immediate refresh - no timeout\r\n      loadMonthData();\r\n      loadSidebarData();\r\n      \r\n      // Also do delayed refreshes as backup\r\n      setTimeout(() => {\r\n        console.log('ðŸ½ï¸ Feed: Backup refresh 1 (500ms)...');\r\n        loadMonthData();\r\n        loadSidebarData();\r\n      }, 500);\r\n      \r\n      setTimeout(() => {\r\n        console.log('ðŸ½ï¸ Feed: Backup refresh 2 (1000ms)...');\r\n        loadMonthData();\r\n      }, 1000);\r\n    };\r\n\r\n    const handleCalendarRefresh = () => {\r\n      console.log('ðŸ“… Feed: Calendar refresh event received - IMMEDIATE refresh');\r\n      loadMonthData();\r\n    };\r\n\r\n    // Listen to various meal-related events\r\n    window.addEventListener('mealAdded', handleMealUpdate);\r\n    window.addEventListener('mealDataChanged', handleMealUpdate);\r\n    window.addEventListener('mealDeleted', handleMealUpdate);\r\n    window.addEventListener('mealUpdated', handleMealUpdate);\r\n    window.addEventListener('sidebarRefresh', handleMealUpdate);\r\n    window.addEventListener('calendarRefresh', handleCalendarRefresh);\r\n    \r\n    return () => {\r\n      window.removeEventListener('mealAdded', handleMealUpdate);\r\n      window.removeEventListener('mealDataChanged', handleMealUpdate);\r\n      window.removeEventListener('mealDeleted', handleMealUpdate);\r\n      window.removeEventListener('mealUpdated', handleMealUpdate);\r\n      window.removeEventListener('sidebarRefresh', handleMealUpdate);\r\n      window.removeEventListener('calendarRefresh', handleCalendarRefresh);\r\n    };\r\n  }, [loadSidebarData, loadMonthData]);\r\n\r\n  const handleLike = async (postId: number) => {\r\n    try {\r\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-back-jtf3.onrender.com'}/api/social/posts/${postId}/like`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        // Update local state\r\n        setPosts(posts.map(post => \r\n          post.id === postId \r\n            ? { \r\n                ...post, \r\n                is_liked: !post.is_liked,\r\n                likes_count: post.is_liked ? post.likes_count - 1 : post.likes_count + 1\r\n              }\r\n            : post\r\n        ));\r\n      }\r\n    } catch (error) {\r\n      console.error('Error liking post:', error);\r\n    }\r\n  };\r\n\r\n  const handleBookmark = async (postId: number) => {\r\n    try {\r\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-back-jtf3.onrender.com'}/api/social/posts/${postId}/favorite`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        // Update local state\r\n        setPosts(posts.map(post => \r\n          post.id === postId \r\n            ? { \r\n                ...post, \r\n                is_bookmarked: !post.is_bookmarked\r\n              }\r\n            : post\r\n        ));\r\n      }\r\n    } catch (error) {\r\n      console.error('Error bookmarking post:', error);\r\n    }\r\n  };\r\n\r\n  const handleCreatePost = async () => {\r\n    console.log('handleCreatePost called with:', newPost);\r\n    \r\n    if (!newPost.content.trim()) {\r\n      console.log('No content, returning early');\r\n      alert('Please enter some content for your post');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('content', newPost.content);\r\n      formData.append('allowComments', newPost.allowComments.toString());\r\n      formData.append('hideLikeCount', newPost.hideLikeCount.toString());\r\n      \r\n      if (newPost.imageFile) {\r\n        formData.append('image', newPost.imageFile);\r\n        console.log('Added image file:', newPost.imageFile.name);\r\n      }\r\n      \r\n      if (newPost.mealData) {\r\n        formData.append('mealData', JSON.stringify(newPost.mealData));\r\n      }\r\n\r\n      console.log('Sending request to /api/social/posts');\r\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-back-jtf3.onrender.com'}/api/social/posts`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        },\r\n        body: formData\r\n      });\r\n      \r\n      console.log('Response status:', response.status);\r\n      \r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        console.log('Post created successfully:', result);\r\n        setNewPost({ \r\n          content: '', \r\n          imageFile: null, \r\n          mealData: null,\r\n          allowComments: true,\r\n          hideLikeCount: false\r\n        });\r\n        setShowCreatePost(false);\r\n        \r\n        // Trigger a custom event to update the feed\r\n        window.dispatchEvent(new CustomEvent('postCreated', { detail: result }));\r\n        \r\n        // Reload feed and sidebar data\r\n        loadFeed();\r\n        loadSidebarData();\r\n      } else {\r\n        const errorText = await response.text();\r\n        console.error('Failed to create post. Status:', response.status, 'Response:', errorText);\r\n        alert(`Failed to create post: ${response.status} - ${errorText}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error creating post:', error);\r\n      alert(`Error creating post: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n    }\r\n  };\r\n\r\n\r\n  const searchUsers = async (query: string) => {\r\n    if (!query.trim()) {\r\n      setSearchResults([]);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setSearchLoading(true);\r\n      // For now, return mock data since search doesn't need to work yet\r\n      const mockUsers = [\r\n        { id: 1, username: 'john_doe', first_name: 'John', last_name: 'Doe', profile_picture: null },\r\n        { id: 2, username: 'jane_smith', first_name: 'Jane', last_name: 'Smith', profile_picture: null },\r\n        { id: 3, username: 'fitness_guru', first_name: 'Mike', last_name: 'Johnson', profile_picture: null }\r\n      ].filter(user => \r\n        user.username.toLowerCase().includes(query.toLowerCase()) ||\r\n        user.first_name.toLowerCase().includes(query.toLowerCase()) ||\r\n        user.last_name.toLowerCase().includes(query.toLowerCase())\r\n      );\r\n      \r\n      setSearchResults(mockUsers);\r\n    } catch (error) {\r\n      console.error('Error searching users:', error);\r\n    } finally {\r\n      setSearchLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadComments = async (postId: number) => {\r\n    if (loadingComments.has(postId)) return;\r\n    \r\n    setLoadingComments(prev => {\r\n      const newSet = new Set(prev);\r\n      newSet.add(postId);\r\n      return newSet;\r\n    });\r\n    \r\n    try {\r\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-back-jtf3.onrender.com'}/api/social/posts/${postId}/comments`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setComments(prev => ({ ...prev, [postId]: data.comments }));\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading comments:', error);\r\n    } finally {\r\n      setLoadingComments(prev => {\r\n        const newSet = new Set(prev);\r\n        newSet.delete(postId);\r\n        return newSet;\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleToggleComments = (postId: number) => {\r\n    const isExpanded = expandedComments.has(postId);\r\n    \r\n    if (isExpanded) {\r\n      setExpandedComments(prev => {\r\n        const newSet = new Set(prev);\r\n        newSet.delete(postId);\r\n        return newSet;\r\n      });\r\n    } else {\r\n      setExpandedComments(prev => {\r\n        const newSet = new Set(prev);\r\n        newSet.add(postId);\r\n        return newSet;\r\n      });\r\n      if (!comments[postId]) {\r\n        loadComments(postId);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleAddComment = async (postId: number) => {\r\n    const content = newComments[postId]?.trim();\r\n    if (!content) return;\r\n\r\n    try {\r\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-back-jtf3.onrender.com'}/api/social/posts/${postId}/comments`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ content })\r\n      });\r\n      \r\n      if (response.ok) {\r\n        setNewComments(prev => ({ ...prev, [postId]: '' }));\r\n        loadComments(postId); // Reload comments\r\n        // Update comments count in posts\r\n        setPosts(posts.map(post => \r\n          post.id === postId \r\n            ? { ...post, comments_count: post.comments_count + 1 }\r\n            : post\r\n        ));\r\n      }\r\n    } catch (error) {\r\n      console.error('Error adding comment:', error);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"min-h-screen bg-gray-50\">\r\n        <div className=\"flex max-w-7xl mx-auto gap-6 p-6\">\r\n        {/* Left Sidebar - Profile & Calendar */}\r\n        <div className=\"w-80 flex-shrink-0 sticky top-6 self-start space-y-4 max-h-[calc(100vh-3rem)] overflow-y-auto\">\r\n          {/* Profile Card */}\r\n          <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\">\r\n            {sidebarLoading ? (\r\n              <div className=\"animate-pulse\">\r\n                <div className=\"w-20 h-20 bg-gray-200 rounded-full mx-auto mb-4\"></div>\r\n                <div className=\"h-4 bg-gray-200 rounded mb-2\"></div>\r\n                <div className=\"h-4 bg-gray-200 rounded w-3/4 mx-auto mb-4\"></div>\r\n                <div className=\"flex justify-between mb-4\">\r\n                  <div className=\"h-4 bg-gray-200 rounded w-16\"></div>\r\n                  <div className=\"h-4 bg-gray-200 rounded w-16\"></div>\r\n                  <div className=\"h-4 bg-gray-200 rounded w-16\"></div>\r\n                </div>\r\n              </div>\r\n            ) : profileData ? (\r\n              <>\r\n                {/* Profile Image */}\r\n                <div className=\"text-center mb-4\">\r\n                  {profileData.profile?.profile_picture ? (\r\n                    <img\r\n                      src={profileData.profile.profile_picture}\r\n                      alt={`${user?.first_name} ${user?.last_name}`}\r\n                      className=\"w-20 h-20 rounded-full mx-auto object-cover border-4 border-blue-100\"\r\n                    />\r\n                  ) : (\r\n                    <div className=\"w-20 h-20 bg-gray-200 rounded-full mx-auto flex items-center justify-center border-4 border-blue-100\">\r\n                      <UserCircle className=\"w-12 h-12 text-gray-400\" />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                \r\n                {/* Name */}\r\n                <h2 className=\"text-xl font-semibold text-gray-900 text-center mb-1\">\r\n                  {user?.first_name} {user?.last_name}\r\n                </h2>\r\n                <p className=\"text-gray-500 text-center text-sm mb-4\">@{user?.username}</p>\r\n                \r\n                {/* Stats */}\r\n                <div className=\"flex justify-between text-center mb-4\">\r\n                  <div>\r\n                    <div className=\"font-semibold text-lg text-gray-900\">{profileData.stats?.posts || 0}</div>\r\n                    <div className=\"text-xs text-gray-500\">Posts</div>\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"font-semibold text-lg text-gray-900\">{profileData.stats?.followers || 0}</div>\r\n                    <div className=\"text-xs text-gray-500\">Followers</div>\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"font-semibold text-lg text-gray-900\">{profileData.stats?.following || 0}</div>\r\n                    <div className=\"text-xs text-gray-500\">Following</div>\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* Section Break */}\r\n                <div className=\"border-t border-gray-200 pt-4\">\r\n                  <button\r\n                    onClick={() => navigate('/dashboard/inputs')}\r\n                    className=\"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2\"\r\n                  >\r\n                    <Plus className=\"w-4 h-4\" />\r\n                    <span>Add Meal</span>\r\n                  </button>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <div className=\"text-center py-4\">\r\n                <div className=\"text-gray-500\">Unable to load profile</div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n          {/* Today's Nutrition Card */}\r\n          <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\r\n              <BarChart3 className=\"w-5 h-5 mr-2\" />\r\n              Today's Overview\r\n            </h3>\r\n          \r\n            {sidebarLoading ? (\r\n              <div className=\"animate-pulse space-y-3\">\r\n                <div className=\"h-4 bg-gray-200 rounded\"></div>\r\n                <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\r\n              </div>\r\n            ) : todayNutrition ? (\r\n              <div className=\"space-y-3\">\r\n                {/* Calorie Deficit */}\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className=\"text-gray-600\">Calorie Deficit:</span>\r\n                  <div className=\"flex items-center\">\r\n                    {todayNutrition.calorieDeficit > 0 ? (\r\n                      <TrendingDown className=\"w-4 h-4 text-green-600 mr-1\" />\r\n                    ) : (\r\n                      <TrendingUp className=\"w-4 h-4 text-red-600 mr-1\" />\r\n                    )}\r\n                    <span className={`font-semibold ${todayNutrition.calorieDeficit > 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                      {Math.abs(todayNutrition.calorieDeficit)} cal\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* Protein */}\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className=\"text-gray-600\">Protein:</span>\r\n                  <span className=\"font-semibold text-gray-900\">\r\n                    {Math.round(todayNutrition.totalProtein)}g / {todayNutrition.proteinGoal}g\r\n                  </span>\r\n                </div>\r\n                \r\n                {/* Progress Bars */}\r\n                <div className=\"space-y-2\">\r\n                  <div>\r\n                    <div className=\"flex justify-between text-xs text-gray-500 mb-1\">\r\n                      <span>Calories</span>\r\n                      <span>{todayNutrition.totalCalories} / {todayNutrition.calorieGoal}</span>\r\n                    </div>\r\n                    <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                      <div\r\n                        className=\"bg-blue-600 h-2 rounded-full\"\r\n                        style={{ width: `${Math.min((todayNutrition.totalCalories / todayNutrition.calorieGoal) * 100, 100)}%` }}\r\n                      ></div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <div className=\"flex justify-between text-xs text-gray-500 mb-1\">\r\n                      <span>Protein</span>\r\n                      <span>{Math.round(todayNutrition.totalProtein)} / {todayNutrition.proteinGoal}g</span>\r\n                    </div>\r\n                    <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                      <div\r\n                        className=\"bg-green-600 h-2 rounded-full\"\r\n                        style={{ width: `${Math.min((todayNutrition.totalProtein / todayNutrition.proteinGoal) * 100, 100)}%` }}\r\n                      ></div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center py-4\">\r\n                <div className=\"text-gray-500\">No data available</div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Calendar Streak Card */}\r\n          <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 flex items-center\">\r\n                <Calendar className=\"w-5 h-5 mr-2\" />\r\n                {format(currentDate, 'MMMM yyyy')}\r\n              </h3>\r\n              <div className=\"flex items-center space-x-2\">\r\n                <button\r\n                  onClick={() => setCurrentDate(prev => subMonths(prev, 1))}\r\n                  className=\"p-1 hover:bg-gray-100 rounded-full transition-colors\"\r\n                >\r\n                  <ChevronLeft className=\"w-4 h-4 text-gray-600\" />\r\n                </button>\r\n                <button\r\n                  onClick={() => setCurrentDate(prev => addMonths(prev, 1))}\r\n                  className=\"p-1 hover:bg-gray-100 rounded-full transition-colors\"\r\n                >\r\n                  <ChevronRight className=\"w-4 h-4 text-gray-600\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          {sidebarLoading ? (\r\n            <div className=\"animate-pulse\">\r\n              <div className=\"grid grid-cols-7 gap-2 p-2 bg-gray-50 rounded-lg\">\r\n                {/* Day headers skeleton */}\r\n                {Array.from({ length: 7 }).map((_, i) => (\r\n                  <div key={`header-${i}`} className=\"h-6 bg-gray-200 rounded\"></div>\r\n                ))}\r\n                {/* Calendar days skeleton */}\r\n                {Array.from({ length: 35 }).map((_, i) => (\r\n                  <div key={i} className=\"aspect-square bg-gray-200 rounded-lg\"></div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-3\">\r\n              {/* Calendar Grid - Compact and beautiful */}\r\n              <div className=\"grid grid-cols-7 gap-2 p-2 bg-gray-50 rounded-lg\">\r\n                {/* Day headers */}\r\n                {['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map(day => (\r\n                  <div key={day} className=\"p-2 text-center text-xs font-bold text-gray-600 uppercase tracking-wide\">\r\n                    {day.substring(0, 1)}\r\n                  </div>\r\n                ))}\r\n                \r\n                {/* Padding days for proper calendar layout */}\r\n                {monthData && (() => {\r\n                  const start = startOfMonth(currentDate);\r\n                  const firstDayOfMonth = start.getDay();\r\n                  const paddingDays = Array.from({ length: firstDayOfMonth }, (_, i) => i);\r\n                  const days = eachDayOfInterval({\r\n                    start: startOfMonth(currentDate),\r\n                    end: endOfMonth(currentDate)\r\n                  });\r\n                  \r\n                  const getDayStatus = (day: any) => {\r\n                    if (!day?.has_data) return 'no-data';\r\n                    if (day.calories_met && day.protein_met) return 'both-met';\r\n                    if (day.calories_met || day.protein_met) return 'partial';\r\n                    return 'none-met';\r\n                  };\r\n\r\n                  const getDayColor = (day: any) => {\r\n                    const status = getDayStatus(day);\r\n                    switch (status) {\r\n                      case 'both-met':\r\n                        return 'bg-green-500 text-white'; // EXACT match to Diary\r\n                      case 'partial':\r\n                        return 'bg-yellow-500 text-white'; // EXACT match to Diary  \r\n                      case 'none-met':\r\n                        return 'bg-red-500 text-white'; // EXACT match to Diary\r\n                      default:\r\n                        return 'bg-gray-100 text-gray-400'; // EXACT match to Diary\r\n                    }\r\n                  };\r\n\r\n                  return (\r\n                    <>\r\n                      {/* Padding days */}\r\n                      {paddingDays.map((_, i) => (\r\n                        <div key={`padding-${i}`} className=\"aspect-square\" />\r\n                      ))}\r\n                      \r\n                      {/* Calendar days */}\r\n                      {days.map(day => {\r\n                        const dateStr = format(day, 'yyyy-MM-dd');\r\n                        const dayData = monthData.days?.find((d: any) => d.date === dateStr);\r\n                        const isCurrentDay = isToday(day);\r\n                        \r\n                        // Debug logging for ALL days with data\r\n                        if (dayData?.has_data) {\r\n                          console.log(`ðŸ“… Feed Calendar: Day ${format(day, 'd')} data:`, {\r\n                            date: dateStr,\r\n                            hasData: dayData.has_data,\r\n                            calories: dayData.total_calories,\r\n                            caloriesMet: dayData.calories_met,\r\n                            proteinMet: dayData.protein_met,\r\n                            status: getDayStatus(dayData),\r\n                            color: getDayColor(dayData)\r\n                          });\r\n                        }\r\n                        \r\n                        return (\r\n                          <div\r\n                            key={day.toString()}\r\n                            className={`\r\n                              aspect-square p-1 text-xs font-medium rounded-lg transition-all duration-200 cursor-pointer\r\n                              flex items-center justify-center\r\n                              ${getDayColor(dayData || { has_data: false })}\r\n                              ${isCurrentDay ? 'ring-2 ring-blue-500 ring-offset-1' : ''}\r\n                              hover:opacity-80 hover:scale-105\r\n                            `}\r\n                          >\r\n                            <div className=\"font-bold text-sm\">{format(day, 'd')}</div>\r\n                          </div>\r\n                        );\r\n                      })}\r\n                    </>\r\n                  );\r\n                })()}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Main Feed Content */}\r\n        <div className=\"flex-1\">\r\n          <div className=\"bg-white rounded-xl shadow-sm border border-gray-200\">\r\n            {/* Create Post Button */}\r\n            <div className=\"sticky top-0 bg-white border-b border-gray-200 p-4 z-10\">\r\n              <button\r\n                onClick={() => setShowCreatePost(true)}\r\n                className=\"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2\"\r\n              >\r\n                <PenTool className=\"w-5 h-5\" />\r\n                <span>Create a new post</span>\r\n              </button>\r\n            </div>\r\n\r\n      {/* Create Post Modal */}\r\n      {showCreatePost && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[85vh] flex flex-col\">\r\n            {/* Modal Header */}\r\n            <div className=\"flex items-center justify-between p-4 border-b border-gray-200 flex-shrink-0\">\r\n              <h3 className=\"text-xl font-semibold text-gray-900\">Create New Post</h3>\r\n              <button\r\n                onClick={() => setShowCreatePost(false)}\r\n                className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n              >\r\n                <X className=\"h-6 w-6\" />\r\n              </button>\r\n            </div>\r\n\r\n            {/* Modal Body */}\r\n            <div className=\"p-4 space-y-4 flex-1 overflow-y-auto\">\r\n              {/* Text Input */}\r\n              <div>\r\n            <textarea\r\n              value={newPost.content}\r\n              onChange={(e) => setNewPost({ ...newPost, content: e.target.value })}\r\n                  placeholder=\"What's going on?\"\r\n                  className=\"w-full border border-gray-300 rounded-lg p-3 resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\r\n              rows={4}\r\n            />\r\n              </div>\r\n\r\n              {/* Image Preview */}\r\n              {newPost.imageFile && (\r\n                <div className=\"relative\">\r\n                  <img\r\n                    src={URL.createObjectURL(newPost.imageFile)}\r\n                    alt=\"Preview\"\r\n                    className=\"w-full h-40 object-cover rounded-lg\"\r\n                  />\r\n                  <button\r\n                    onClick={() => setNewPost({ ...newPost, imageFile: null })}\r\n                    className=\"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors shadow-lg\"\r\n                  >\r\n                    <X className=\"h-3 w-3\" />\r\n                  </button>\r\n                </div>\r\n              )}\r\n\r\n              {/* Upload Controls */}\r\n              <div className=\"border border-gray-200 rounded-lg p-3\">\r\n                <h4 className=\"font-medium text-gray-900 mb-2\">Add to your post</h4>\r\n                <div className=\"flex items-center space-x-4\">\r\n                  <label className=\"flex items-center space-x-2 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg cursor-pointer transition-colors\">\r\n                    <Image className=\"h-4 w-4\" />\r\n                    <span className=\"text-sm font-medium\">Upload Photo</span>\r\n            <input\r\n                      type=\"file\"\r\n                      accept=\"image/*\"\r\n                      onChange={(e) => {\r\n                        const file = e.target.files?.[0];\r\n                        if (file) {\r\n                          setNewPost({ ...newPost, imageFile: file });\r\n                        }\r\n                      }}\r\n                      className=\"hidden\"\r\n                    />\r\n                  </label>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Privacy Settings */}\r\n              <div className=\"border border-gray-200 rounded-lg p-3\">\r\n                <h4 className=\"font-medium text-gray-900 mb-3\">Privacy Settings</h4>\r\n                <div className=\"space-y-3\">\r\n                  {/* Allow Comments Toggle */}\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div>\r\n                      <label className=\"text-sm font-medium text-gray-700\">Allow comments</label>\r\n                      <p className=\"text-xs text-gray-500\">Let people comment on your post</p>\r\n                    </div>\r\n                    <button\r\n                      onClick={() => setNewPost({ ...newPost, allowComments: !newPost.allowComments })}\r\n                      className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\r\n                        newPost.allowComments ? 'bg-blue-600' : 'bg-gray-200'\r\n                      }`}\r\n                    >\r\n                      <span\r\n                        className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\r\n                          newPost.allowComments ? 'translate-x-6' : 'translate-x-1'\r\n                        }`}\r\n                      />\r\n                    </button>\r\n                  </div>\r\n\r\n                  {/* Hide Like Count Toggle */}\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div>\r\n                      <label className=\"text-sm font-medium text-gray-700\">Hide like count</label>\r\n                      <p className=\"text-xs text-gray-500\">Only you will see the total number of likes</p>\r\n                    </div>\r\n              <button\r\n                      onClick={() => setNewPost({ ...newPost, hideLikeCount: !newPost.hideLikeCount })}\r\n                      className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\r\n                        newPost.hideLikeCount ? 'bg-blue-600' : 'bg-gray-200'\r\n                      }`}\r\n                    >\r\n                      <span\r\n                        className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\r\n                          newPost.hideLikeCount ? 'translate-x-6' : 'translate-x-1'\r\n                        }`}\r\n                      />\r\n              </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Modal Footer */}\r\n            <div className=\"flex items-center justify-end space-x-3 p-4 border-t border-gray-200 bg-gray-50 flex-shrink-0\">\r\n              <button\r\n                onClick={() => setShowCreatePost(false)}\r\n                className=\"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={() => {\r\n                  console.log('Post button clicked', newPost);\r\n                  handleCreatePost();\r\n                }}\r\n                disabled={!newPost.content.trim()}\r\n                className=\"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg font-medium transition-colors\"\r\n              >\r\n                Post\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Feed Posts */}\r\n      {posts.length === 0 ? (\r\n        <div className=\"p-8 text-center text-gray-500\">\r\n          <PenTool className=\"w-16 h-16 mx-auto mb-4 text-gray-300\" />\r\n          <h3 className=\"text-xl font-medium mb-2\">No posts in your feed</h3>\r\n          <p className=\"mb-6\">Follow some users to see their posts here, or create your own post!</p>\r\n          \r\n          <div className=\"space-y-4\">\r\n          <button\r\n            onClick={() => setShowCreatePost(true)}\r\n              className=\"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors mr-4\"\r\n          >\r\n            Create your first post\r\n          </button>\r\n            \r\n            <button\r\n              onClick={() => setShowFollowSearch(true)}\r\n              className=\"bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors\"\r\n            >\r\n              Find people to follow\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <>\r\n            <div className=\"space-y-6\">\r\n              {posts.map((post) => (\r\n                <div key={post.id} className=\"border border-gray-200 rounded-lg\">\r\n                  {/* Post Header */}\r\n                  <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\r\n                    <div className=\"flex items-center space-x-3\">\r\n                      {post.user.profile_picture ? (\r\n                        <img\r\n                          src={post.user.profile_picture}\r\n                          alt={`${post.user.first_name} ${post.user.last_name}`}\r\n                          className=\"w-10 h-10 rounded-full object-cover\"\r\n                        />\r\n                      ) : (\r\n                        <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-indigo-600 flex items-center justify-center text-white text-sm font-bold\">\r\n                          {post.user.first_name?.charAt(0) || post.user.username?.charAt(0)}\r\n                        </div>\r\n                      )}\r\n                      <div>\r\n                        <div className=\"font-semibold text-gray-900\">\r\n                          {post.user.first_name} {post.user.last_name}\r\n                        </div>\r\n                        <div className=\"text-sm text-gray-500\">{formatPostDate(post.created_at)}</div>\r\n                      </div>\r\n                    </div>\r\n                    <button className=\"text-gray-400 hover:text-gray-600\">\r\n                      <MoreHorizontal className=\"w-5 h-5\" />\r\n                    </button>\r\n                  </div>\r\n\r\n                  {/* Post Content */}\r\n                  {post.content && (\r\n                    <div className=\"p-4\">\r\n                      <p className=\"text-gray-900\">{post.content}</p>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Post Image */}\r\n                  {post.image_url && (\r\n                    <div className=\"w-full\">\r\n                      <img \r\n                        src={post.image_url} \r\n                        alt=\"Post\" \r\n                        className=\"w-full object-cover\"\r\n                      />\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Meal Data */}\r\n                  {post.meal_data && (\r\n                    <div className=\"p-4 bg-gray-50 border-t border-gray-200\">\r\n                      <h4 className=\"font-semibold text-gray-800 mb-2\">Meal Breakdown</h4>\r\n                      <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                        <div>\r\n                          <span className=\"text-gray-600\">Calories:</span>\r\n                          <span className=\"ml-2 font-medium\">{post.meal_data.calories}</span>\r\n                        </div>\r\n                        <div>\r\n                          <span className=\"text-gray-600\">Protein:</span>\r\n                          <span className=\"ml-2 font-medium\">{post.meal_data.protein}g</span>\r\n                        </div>\r\n                        <div>\r\n                          <span className=\"text-gray-600\">Carbs:</span>\r\n                          <span className=\"ml-2 font-medium\">{post.meal_data.carbs}g</span>\r\n                        </div>\r\n                        <div>\r\n                          <span className=\"text-gray-600\">Fat:</span>\r\n                          <span className=\"ml-2 font-medium\">{post.meal_data.fat}g</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Post Actions */}\r\n                  <div className=\"p-4 border-t border-gray-200\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex items-center space-x-4\">\r\n                        <button\r\n                          onClick={() => handleLike(post.id)}\r\n                          className={`flex items-center space-x-2 transition-colors ${\r\n                            post.is_liked ? 'text-red-500' : 'text-gray-400 hover:text-red-500'\r\n                          }`}\r\n                        >\r\n                          <Heart className={`w-6 h-6 ${post.is_liked ? 'fill-current' : ''}`} />\r\n                          {!post.hide_like_count || post.user.id === user?.id ? (\r\n                            <span className=\"text-sm\">{post.likes_count}</span>\r\n                          ) : (\r\n                            <span className=\"text-sm\">â€¢</span>\r\n                          )}\r\n                        </button>\r\n                        {post.allow_comments !== false && (\r\n                          <button \r\n                            onClick={() => handleToggleComments(post.id)}\r\n                            className=\"flex items-center space-x-2 text-gray-400 hover:text-gray-600 transition-colors\"\r\n                          >\r\n                            <MessageCircle className=\"w-6 h-6\" />\r\n                            <span className=\"text-sm\">{post.comments_count}</span>\r\n                          </button>\r\n                        )}\r\n                        <button className=\"text-gray-400 hover:text-gray-600 transition-colors\">\r\n                          <Share className=\"w-6 h-6\" />\r\n                        </button>\r\n                      </div>\r\n                      <button\r\n                        onClick={() => handleBookmark(post.id)}\r\n                        className={`flex items-center space-x-2 transition-colors ${\r\n                          post.is_bookmarked ? 'text-blue-500' : 'text-gray-400 hover:text-blue-500'\r\n                        }`}\r\n                      >\r\n                        <Bookmark className={`w-6 h-6 ${post.is_bookmarked ? 'fill-current' : ''}`} />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n\r\n              {/* Comments Section */}\r\n              {post.allow_comments !== false && expandedComments.has(post.id) && (\r\n                <div className=\"border-t border-gray-200\">\r\n                  {/* Show latest comments */}\r\n                  {loadingComments.has(post.id) ? (\r\n                    <div className=\"p-4 text-center text-gray-500\">Loading comments...</div>\r\n                  ) : comments[post.id] && comments[post.id].length > 0 ? (\r\n                    <div className=\"p-4\">\r\n                      <div className=\"space-y-3 mb-4\">\r\n                        {comments[post.id].slice(0, 3).map((comment) => (\r\n                          <div key={comment.id} className=\"flex space-x-3\">\r\n                            {comment.user.profile_picture ? (\r\n                              <img\r\n                                src={comment.user.profile_picture}\r\n                                alt={`${comment.user.first_name} ${comment.user.last_name}`}\r\n                                className=\"w-8 h-8 rounded-full object-cover flex-shrink-0\"\r\n                              />\r\n                            ) : (\r\n                              <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-green-400 to-blue-600 flex items-center justify-center text-white text-xs font-bold flex-shrink-0\">\r\n                                {comment.user.first_name?.charAt(0) || comment.user.username?.charAt(0)}\r\n                              </div>\r\n                            )}\r\n                            <div className=\"flex-1\">\r\n                              <div className=\"bg-gray-100 rounded-lg px-3 py-2\">\r\n                                <div className=\"font-medium text-sm text-gray-900\">\r\n                                  {comment.user.first_name} {comment.user.last_name}\r\n                                </div>\r\n                                <div className=\"text-sm text-gray-700\">{comment.content}</div>\r\n                              </div>\r\n                              <div className=\"text-xs text-gray-500 mt-1\">\r\n                                {formatPostDate(comment.created_at)}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                      \r\n                      {comments[post.id].length > 3 && (\r\n                        <button className=\"text-sm text-blue-600 hover:text-blue-700 mb-4\">\r\n                          View all {comments[post.id].length} comments\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"p-4 text-center text-gray-500\">No comments yet</div>\r\n                  )}\r\n\r\n                  {/* Add Comment */}\r\n                  <div className=\"p-4 border-t border-gray-100\">\r\n                    <div className=\"flex space-x-3\">\r\n                      {user?.profile_picture ? (\r\n                        <img\r\n                          src={user.profile_picture}\r\n                          alt={`${user.first_name} ${user.last_name}`}\r\n                          className=\"w-8 h-8 rounded-full object-cover flex-shrink-0\"\r\n                        />\r\n                      ) : (\r\n                        <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-purple-400 to-pink-600 flex items-center justify-center text-white text-xs font-bold flex-shrink-0\">\r\n                          {user?.first_name?.charAt(0) || 'U'}\r\n                        </div>\r\n                      )}\r\n                      <div className=\"flex-1 flex space-x-2\">\r\n                        <input\r\n                          type=\"text\"\r\n                          value={newComments[post.id] || ''}\r\n                          onChange={(e) => setNewComments(prev => ({ ...prev, [post.id]: e.target.value }))}\r\n                          placeholder=\"Write a comment...\"\r\n                          className=\"flex-1 border border-gray-300 rounded-full px-4 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                          onKeyPress={(e) => e.key === 'Enter' && handleAddComment(post.id)}\r\n                        />\r\n                        <button\r\n                          onClick={() => handleAddComment(post.id)}\r\n                          disabled={!newComments[post.id]?.trim()}\r\n                          className=\"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-full text-sm font-medium transition-colors\"\r\n                        >\r\n                          Post\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Right Sidebar - Groups */}\r\n        <div className=\"w-80 flex-shrink-0 sticky top-6 self-start space-y-4 max-h-[calc(100vh-3rem)] overflow-y-auto\">\r\n          {/* Groups Card */}\r\n          <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Suggested Groups</h3>\r\n            \r\n            <div className=\"space-y-3\">\r\n              {/* Group 1 */}\r\n              <div className=\"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\">\r\n                <div className=\"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-lg flex items-center justify-center\">\r\n                  <span className=\"text-white font-bold text-sm\">FG</span>\r\n                </div>\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <h4 className=\"text-sm font-semibold text-gray-900 truncate\">Fitness Goals</h4>\r\n                  <p className=\"text-xs text-gray-500\">124 members</p>\r\n                </div>\r\n                <button className=\"text-xs bg-blue-600 text-white px-3 py-1 rounded-full hover:bg-blue-700 transition-colors\">\r\n                  View\r\n                </button>\r\n              </div>\r\n\r\n              {/* Group 2 */}\r\n              <div className=\"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\">\r\n                <div className=\"w-12 h-12 bg-gradient-to-br from-green-400 to-blue-500 rounded-lg flex items-center justify-center\">\r\n                  <span className=\"text-white font-bold text-sm\">HR</span>\r\n                </div>\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <h4 className=\"text-sm font-semibold text-gray-900 truncate\">Healthy Recipes</h4>\r\n                  <p className=\"text-xs text-gray-500\">89 members</p>\r\n                </div>\r\n                <button className=\"text-xs bg-blue-600 text-white px-3 py-1 rounded-full hover:bg-blue-700 transition-colors\">\r\n                  View\r\n                </button>\r\n              </div>\r\n\r\n              {/* Group 3 */}\r\n              <div className=\"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\">\r\n                <div className=\"w-12 h-12 bg-gradient-to-br from-orange-400 to-red-500 rounded-lg flex items-center justify-center\">\r\n                  <span className=\"text-white font-bold text-sm\">WL</span>\r\n                </div>\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <h4 className=\"text-sm font-semibold text-gray-900 truncate\">Weight Loss</h4>\r\n                  <p className=\"text-xs text-gray-500\">203 members</p>\r\n                </div>\r\n                <button className=\"text-xs bg-blue-600 text-white px-3 py-1 rounded-full hover:bg-blue-700 transition-colors\">\r\n                  View\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Find More Groups Link */}\r\n            <div className=\"text-center border-t border-gray-200 pt-4 mt-4\">\r\n              <button \r\n                onClick={() => {\r\n                  // TODO: Navigate to groups discovery page\r\n                  console.log('Find more groups clicked');\r\n                }}\r\n                className=\"text-blue-600 hover:text-blue-800 text-sm font-medium hover:underline transition-colors\"\r\n              >\r\n                Find more groups\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Create Post Modal */}\r\n      {showCreatePost && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[85vh] flex flex-col\">\r\n            {/* Modal Header */}\r\n            <div className=\"flex items-center justify-between p-4 border-b border-gray-200 flex-shrink-0\">\r\n              <h3 className=\"text-xl font-semibold text-gray-900\">Create New Post</h3>\r\n              <button\r\n                onClick={() => setShowCreatePost(false)}\r\n                className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n              >\r\n                <X className=\"h-6 w-6\" />\r\n              </button>\r\n            </div>\r\n\r\n            {/* Modal Content */}\r\n            <div className=\"flex-1 overflow-y-auto p-4\">\r\n              <div className=\"space-y-4\">\r\n                {/* Post Content Input */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    What's on your mind?\r\n                  </label>\r\n                  <textarea\r\n                    value={newPost.content}\r\n                    onChange={(e) => setNewPost({ ...newPost, content: e.target.value })}\r\n                    placeholder=\"What's going on?\"\r\n                    className=\"w-full border border-gray-300 rounded-lg p-3 resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\r\n                    rows={4}\r\n                  />\r\n                </div>\r\n\r\n                {/* Image Preview */}\r\n                {newPost.imageFile && (\r\n                  <div className=\"relative\">\r\n                    <img\r\n                      src={URL.createObjectURL(newPost.imageFile)}\r\n                      alt=\"Preview\"\r\n                      className=\"w-full h-40 object-cover rounded-lg\"\r\n                    />\r\n                    <button\r\n                      onClick={() => setNewPost({ ...newPost, imageFile: null })}\r\n                      className=\"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors shadow-lg\"\r\n                    >\r\n                      <X className=\"h-3 w-3\" />\r\n                    </button>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Upload Controls */}\r\n                <div className=\"border border-gray-200 rounded-lg p-3\">\r\n                  <h4 className=\"font-medium text-gray-900 mb-2\">Add to your post</h4>\r\n                  <div className=\"flex items-center space-x-4\">\r\n                    <label className=\"flex items-center space-x-2 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg cursor-pointer transition-colors\">\r\n                      <Image className=\"h-4 w-4\" />\r\n                      <span className=\"text-sm font-medium\">Upload Photo</span>\r\n                      <input\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        onChange={(e) => {\r\n                          const file = e.target.files?.[0];\r\n                          if (file) {\r\n                            setNewPost({ ...newPost, imageFile: file });\r\n                          }\r\n                        }}\r\n                        className=\"hidden\"\r\n                      />\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Post Options */}\r\n                <div className=\"space-y-3\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"text-sm font-medium text-gray-700\">Allow comments</span>\r\n                    <button\r\n                      onClick={() => setNewPost({ ...newPost, allowComments: !newPost.allowComments })}\r\n                      className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\r\n                        newPost.allowComments ? 'bg-blue-600' : 'bg-gray-200'\r\n                      }`}\r\n                    >\r\n                      <span\r\n                        className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\r\n                          newPost.allowComments ? 'translate-x-6' : 'translate-x-1'\r\n                        }`}\r\n                      />\r\n                    </button>\r\n                  </div>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"text-sm font-medium text-gray-700\">Hide like count</span>\r\n                    <button\r\n                      onClick={() => setNewPost({ ...newPost, hideLikeCount: !newPost.hideLikeCount })}\r\n                      className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\r\n                        newPost.hideLikeCount ? 'bg-blue-600' : 'bg-gray-200'\r\n                      }`}\r\n                    >\r\n                      <span\r\n                        className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\r\n                          newPost.hideLikeCount ? 'translate-x-6' : 'translate-x-1'\r\n                        }`}\r\n                      />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Modal Footer */}\r\n            <div className=\"flex items-center justify-between p-4 border-t border-gray-200 flex-shrink-0\">\r\n              <button\r\n                onClick={() => setShowCreatePost(false)}\r\n                className=\"bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 px-4 rounded-lg transition-colors\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleCreatePost}\r\n                disabled={!newPost.content.trim()}\r\n                className=\"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white py-2 px-4 rounded-lg transition-colors\"\r\n              >\r\n                Post\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Follow People Search Modal */}\r\n      {showFollowSearch && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-md\">\r\n            {/* Modal Header */}\r\n            <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\r\n              <h3 className=\"text-xl font-semibold text-gray-900\">Find People to Follow</h3>\r\n              <button\r\n                onClick={() => {\r\n                  setShowFollowSearch(false);\r\n                  setSearchQuery('');\r\n                  setSearchResults([]);\r\n                }}\r\n                className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n              >\r\n                <X className=\"h-6 w-6\" />\r\n              </button>\r\n            </div>\r\n\r\n            {/* Search Input */}\r\n            <div className=\"p-4\">\r\n              <input\r\n                type=\"text\"\r\n                value={searchQuery}\r\n                onChange={(e) => {\r\n                  setSearchQuery(e.target.value);\r\n                  searchUsers(e.target.value);\r\n                }}\r\n                placeholder=\"Search for users...\"\r\n                className=\"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors\"\r\n              />\r\n            </div>\r\n\r\n            {/* Search Results */}\r\n            <div className=\"max-h-64 overflow-y-auto\">\r\n              {searchLoading ? (\r\n                <div className=\"p-4 text-center\">\r\n                  <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto\"></div>\r\n                </div>\r\n              ) : searchResults.length > 0 ? (\r\n                <div className=\"space-y-2 p-4\">\r\n                  {searchResults.map((user) => (\r\n                    <div key={user.id} className=\"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg\">\r\n                      <div className=\"flex items-center space-x-3\">\r\n                        {user.profile_picture ? (\r\n                          <img\r\n                            src={user.profile_picture}\r\n                            alt={`${user.first_name} ${user.last_name}`}\r\n                            className=\"w-10 h-10 rounded-full object-cover\"\r\n                          />\r\n                        ) : (\r\n                          <div className=\"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center\">\r\n                            <UserCircle className=\"w-6 h-6 text-gray-400\" />\r\n                          </div>\r\n                        )}\r\n                        <div>\r\n                          <div className=\"font-medium text-gray-900\">\r\n                            {user.first_name} {user.last_name}\r\n                          </div>\r\n                          <div className=\"text-sm text-gray-500\">@{user.username}</div>\r\n                        </div>\r\n                      </div>\r\n                      <button\r\n                        onClick={() => {\r\n                          // Follow functionality placeholder\r\n                          alert(`Follow functionality coming soon for ${user.username}!`);\r\n                        }}\r\n                        className=\"bg-blue-600 hover:bg-blue-700 text-white text-sm px-4 py-2 rounded-lg transition-colors\"\r\n                      >\r\n                        Follow\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : searchQuery && !searchLoading ? (\r\n                <div className=\"p-4 text-center text-gray-500\">\r\n                  No users found matching \"{searchQuery}\"\r\n                </div>\r\n              ) : (\r\n                <div className=\"p-4 text-center text-gray-500\">\r\n                  Start typing to search for users...\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n        {/* Right Sidebar - Groups */}\r\n        <div className=\"w-80 flex-shrink-0 sticky top-6 self-start space-y-4 max-h-[calc(100vh-3rem)] overflow-y-auto\">\r\n          {/* Groups Card */}\r\n        <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\r\n            <UserCircle className=\"w-5 h-5 mr-2\" />\r\n            My Groups\r\n          </h3>\r\n          \r\n          {/* Mock Group Cards */}\r\n          <div className=\"space-y-3 mb-4\">\r\n            {/* Group 1 */}\r\n            <div className=\"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\">\r\n              <div className=\"w-12 h-12 bg-gradient-to-br from-purple-400 to-pink-500 rounded-lg flex items-center justify-center\">\r\n                <span className=\"text-white font-bold text-sm\">FG</span>\r\n              </div>\r\n              <div className=\"flex-1 min-w-0\">\r\n                <h4 className=\"text-sm font-semibold text-gray-900 truncate\">Fitness Goals</h4>\r\n                <p className=\"text-xs text-gray-500\">124 members</p>\r\n              </div>\r\n              <button className=\"text-xs bg-blue-600 text-white px-3 py-1 rounded-full hover:bg-blue-700 transition-colors\">\r\n                View\r\n              </button>\r\n            </div>\r\n\r\n            {/* Group 2 */}\r\n            <div className=\"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\">\r\n              <div className=\"w-12 h-12 bg-gradient-to-br from-green-400 to-blue-500 rounded-lg flex items-center justify-center\">\r\n                <span className=\"text-white font-bold text-sm\">HR</span>\r\n              </div>\r\n              <div className=\"flex-1 min-w-0\">\r\n                <h4 className=\"text-sm font-semibold text-gray-900 truncate\">Healthy Recipes</h4>\r\n                <p className=\"text-xs text-gray-500\">89 members</p>\r\n              </div>\r\n              <button className=\"text-xs bg-blue-600 text-white px-3 py-1 rounded-full hover:bg-blue-700 transition-colors\">\r\n                View\r\n              </button>\r\n            </div>\r\n\r\n            {/* Group 3 */}\r\n            <div className=\"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\">\r\n              <div className=\"w-12 h-12 bg-gradient-to-br from-orange-400 to-red-500 rounded-lg flex items-center justify-center\">\r\n                <span className=\"text-white font-bold text-sm\">WL</span>\r\n              </div>\r\n              <div className=\"flex-1 min-w-0\">\r\n                <h4 className=\"text-sm font-semibold text-gray-900 truncate\">Weight Loss</h4>\r\n                <p className=\"text-xs text-gray-500\">203 members</p>\r\n              </div>\r\n              <button className=\"text-xs bg-blue-600 text-white px-3 py-1 rounded-full hover:bg-blue-700 transition-colors\">\r\n                View\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Find More Groups Link */}\r\n          <div className=\"text-center border-t border-gray-200 pt-4\">\r\n            <button \r\n              onClick={() => {\r\n                // TODO: Navigate to groups discovery page\r\n                console.log('Find more groups clicked');\r\n              }}\r\n              className=\"text-blue-600 hover:text-blue-800 text-sm font-medium hover:underline transition-colors\"\r\n            >\r\n              Find more groups\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Feed;\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}