{"ast":null,"code":"import _objectSpread from\"C:/Users/arian/OneDrive/Desktop/Nutrition/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useAuth}from'../contexts/AuthContext';import{Heart,MessageCircle,Share,MoreHorizontal,Camera,Bookmark}from'lucide-react';import{formatDistanceToNow}from'date-fns';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Feed=()=>{const{user}=useAuth();const[posts,setPosts]=useState([]);const[loading,setLoading]=useState(true);const[showCreatePost,setShowCreatePost]=useState(false);const[newPost,setNewPost]=useState({content:'',imageUrl:'',mealData:null});useEffect(()=>{if(user){loadFeed();}},[user]);const loadFeed=async()=>{try{const response=await fetch('/api/social/feed',{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});if(response.ok){const data=await response.json();setPosts(data.posts);}}catch(error){console.error('Error loading feed:',error);}finally{setLoading(false);}};const handleLike=async postId=>{try{const response=await fetch(\"/api/social/posts/\".concat(postId,\"/like\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token')),'Content-Type':'application/json'}});if(response.ok){// Update local state\nsetPosts(posts.map(post=>post.id===postId?_objectSpread(_objectSpread({},post),{},{is_liked:!post.is_liked,likes_count:post.is_liked?post.likes_count-1:post.likes_count+1}):post));}}catch(error){console.error('Error liking post:',error);}};const handleCreatePost=async()=>{try{const response=await fetch('/api/social/posts',{method:'POST',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token')),'Content-Type':'application/json'},body:JSON.stringify(newPost)});if(response.ok){setNewPost({content:'',imageUrl:'',mealData:null});setShowCreatePost(false);loadFeed();// Reload feed\n}}catch(error){console.error('Error creating post:',error);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-2xl mx-auto bg-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sticky top-0 bg-white border-b border-gray-200 p-4 z-10\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowCreatePost(true),className:\"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(Camera,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Create a new post\"})]})}),showCreatePost&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-md mx-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Create Post\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newPost.content,onChange:e=>setNewPost(_objectSpread(_objectSpread({},newPost),{},{content:e.target.value})),placeholder:\"What's on your mind?\",className:\"w-full border border-gray-300 rounded-lg p-3 mb-4 resize-none\",rows:4}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newPost.imageUrl,onChange:e=>setNewPost(_objectSpread(_objectSpread({},newPost),{},{imageUrl:e.target.value})),placeholder:\"Image URL (optional)\",className:\"w-full border border-gray-300 rounded-lg p-3 mb-4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCreatePost,className:\"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\",children:\"Post\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCreatePost(false),className:\"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors\",children:\"Cancel\"})]})]})}),posts.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 text-center text-gray-500\",children:[/*#__PURE__*/_jsx(Camera,{className:\"w-16 h-16 mx-auto mb-4 text-gray-300\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-medium mb-2\",children:\"No posts in your feed\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Follow some users to see their posts here, or create your own post!\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCreatePost(true),className:\"mt-4 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\",children:\"Create your first post\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:posts.map(post=>{var _post$user$first_name,_post$user$username;return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-b border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-indigo-600 flex items-center justify-center text-white text-sm font-bold\",children:((_post$user$first_name=post.user.first_name)===null||_post$user$first_name===void 0?void 0:_post$user$first_name.charAt(0))||((_post$user$username=post.user.username)===null||_post$user$username===void 0?void 0:_post$user$username.charAt(0))}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-gray-900\",children:post.user.username}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:formatDistanceToNow(new Date(post.created_at),{addSuffix:true})})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(MoreHorizontal,{className:\"w-5 h-5\"})})]}),post.content&&/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:post.content})}),post.image_url&&/*#__PURE__*/_jsx(\"div\",{className:\"w-full\",children:/*#__PURE__*/_jsx(\"img\",{src:post.image_url,alt:\"Post\",className:\"w-full object-cover\"})}),post.meal_data&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gray-50 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-800 mb-2\",children:\"Meal Breakdown\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Calories:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 font-medium\",children:post.meal_data.calories})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Protein:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 font-medium\",children:[post.meal_data.protein,\"g\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Carbs:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 font-medium\",children:[post.meal_data.carbs,\"g\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Fat:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 font-medium\",children:[post.meal_data.fat,\"g\"]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleLike(post.id),className:\"flex items-center space-x-2 transition-colors \".concat(post.is_liked?'text-red-500':'text-gray-400 hover:text-red-500'),children:[/*#__PURE__*/_jsx(Heart,{className:\"w-6 h-6 \".concat(post.is_liked?'fill-current':'')}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:post.likes_count})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"flex items-center space-x-2 text-gray-400 hover:text-gray-600 transition-colors\",children:[/*#__PURE__*/_jsx(MessageCircle,{className:\"w-6 h-6\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:post.comments_count})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:/*#__PURE__*/_jsx(Share,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:/*#__PURE__*/_jsx(Bookmark,{className:\"w-6 h-6\"})})]})})]},post.id);})})]});};export default Feed;","map":{"version":3,"names":["React","useState","useEffect","useAuth","Heart","MessageCircle","Share","MoreHorizontal","Camera","Bookmark","formatDistanceToNow","jsx","_jsx","jsxs","_jsxs","Feed","user","posts","setPosts","loading","setLoading","showCreatePost","setShowCreatePost","newPost","setNewPost","content","imageUrl","mealData","loadFeed","response","fetch","headers","concat","localStorage","getItem","ok","data","json","error","console","handleLike","postId","method","map","post","id","_objectSpread","is_liked","likes_count","handleCreatePost","body","JSON","stringify","className","children","onClick","value","onChange","e","target","placeholder","rows","type","length","_post$user$first_name","_post$user$username","first_name","charAt","username","Date","created_at","addSuffix","image_url","src","alt","meal_data","calories","protein","carbs","fat","comments_count"],"sources":["C:/Users/arian/OneDrive/Desktop/Nutrition/client/src/components/Feed.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { Heart, MessageCircle, Share, MoreHorizontal, Camera, Bookmark } from 'lucide-react';\r\nimport { formatDistanceToNow } from 'date-fns';\r\n\r\ninterface Post {\r\n  id: number;\r\n  content: string;\r\n  image_url: string | null;\r\n  meal_data: any;\r\n  likes_count: number;\r\n  comments_count: number;\r\n  is_liked: boolean;\r\n  created_at: string;\r\n  user: {\r\n    id: number;\r\n    username: string;\r\n    first_name: string;\r\n    last_name: string;\r\n  };\r\n}\r\n\r\nconst Feed: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const [posts, setPosts] = useState<Post[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showCreatePost, setShowCreatePost] = useState(false);\r\n  const [newPost, setNewPost] = useState({ content: '', imageUrl: '', mealData: null });\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      loadFeed();\r\n    }\r\n  }, [user]);\r\n\r\n  const loadFeed = async () => {\r\n    try {\r\n      const response = await fetch('/api/social/feed', {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setPosts(data.posts);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading feed:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLike = async (postId: number) => {\r\n    try {\r\n      const response = await fetch(`/api/social/posts/${postId}/like`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        // Update local state\r\n        setPosts(posts.map(post => \r\n          post.id === postId \r\n            ? { \r\n                ...post, \r\n                is_liked: !post.is_liked,\r\n                likes_count: post.is_liked ? post.likes_count - 1 : post.likes_count + 1\r\n              }\r\n            : post\r\n        ));\r\n      }\r\n    } catch (error) {\r\n      console.error('Error liking post:', error);\r\n    }\r\n  };\r\n\r\n  const handleCreatePost = async () => {\r\n    try {\r\n      const response = await fetch('/api/social/posts', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(newPost)\r\n      });\r\n      if (response.ok) {\r\n        setNewPost({ content: '', imageUrl: '', mealData: null });\r\n        setShowCreatePost(false);\r\n        loadFeed(); // Reload feed\r\n      }\r\n    } catch (error) {\r\n      console.error('Error creating post:', error);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto bg-white\">\r\n      {/* Create Post Button */}\r\n      <div className=\"sticky top-0 bg-white border-b border-gray-200 p-4 z-10\">\r\n        <button\r\n          onClick={() => setShowCreatePost(true)}\r\n          className=\"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2\"\r\n        >\r\n          <Camera className=\"w-5 h-5\" />\r\n          <span>Create a new post</span>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Create Post Modal */}\r\n      {showCreatePost && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md mx-4\">\r\n            <h3 className=\"text-lg font-semibold mb-4\">Create Post</h3>\r\n            <textarea\r\n              value={newPost.content}\r\n              onChange={(e) => setNewPost({ ...newPost, content: e.target.value })}\r\n              placeholder=\"What's on your mind?\"\r\n              className=\"w-full border border-gray-300 rounded-lg p-3 mb-4 resize-none\"\r\n              rows={4}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              value={newPost.imageUrl}\r\n              onChange={(e) => setNewPost({ ...newPost, imageUrl: e.target.value })}\r\n              placeholder=\"Image URL (optional)\"\r\n              className=\"w-full border border-gray-300 rounded-lg p-3 mb-4\"\r\n            />\r\n            <div className=\"flex space-x-3\">\r\n              <button\r\n                onClick={handleCreatePost}\r\n                className=\"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\"\r\n              >\r\n                Post\r\n              </button>\r\n              <button\r\n                onClick={() => setShowCreatePost(false)}\r\n                className=\"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors\"\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Feed Posts */}\r\n      {posts.length === 0 ? (\r\n        <div className=\"p-8 text-center text-gray-500\">\r\n          <Camera className=\"w-16 h-16 mx-auto mb-4 text-gray-300\" />\r\n          <h3 className=\"text-xl font-medium mb-2\">No posts in your feed</h3>\r\n          <p>Follow some users to see their posts here, or create your own post!</p>\r\n          <button\r\n            onClick={() => setShowCreatePost(true)}\r\n            className=\"mt-4 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\"\r\n          >\r\n            Create your first post\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <div className=\"space-y-6\">\r\n          {posts.map((post) => (\r\n            <div key={post.id} className=\"border border-gray-200 rounded-lg\">\r\n              {/* Post Header */}\r\n              <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-indigo-600 flex items-center justify-center text-white text-sm font-bold\">\r\n                    {post.user.first_name?.charAt(0) || post.user.username?.charAt(0)}\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"font-semibold text-gray-900\">{post.user.username}</div>\r\n                    <div className=\"text-sm text-gray-500\">{formatDistanceToNow(new Date(post.created_at), { addSuffix: true })}</div>\r\n                  </div>\r\n                </div>\r\n                <button className=\"text-gray-400 hover:text-gray-600\">\r\n                  <MoreHorizontal className=\"w-5 h-5\" />\r\n                </button>\r\n              </div>\r\n\r\n              {/* Post Content */}\r\n              {post.content && (\r\n                <div className=\"p-4\">\r\n                  <p className=\"text-gray-900\">{post.content}</p>\r\n                </div>\r\n              )}\r\n\r\n              {/* Post Image */}\r\n              {post.image_url && (\r\n                <div className=\"w-full\">\r\n                  <img \r\n                    src={post.image_url} \r\n                    alt=\"Post\" \r\n                    className=\"w-full object-cover\"\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              {/* Meal Data */}\r\n              {post.meal_data && (\r\n                <div className=\"p-4 bg-gray-50 border-t border-gray-200\">\r\n                  <h4 className=\"font-semibold text-gray-800 mb-2\">Meal Breakdown</h4>\r\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                    <div>\r\n                      <span className=\"text-gray-600\">Calories:</span>\r\n                      <span className=\"ml-2 font-medium\">{post.meal_data.calories}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-gray-600\">Protein:</span>\r\n                      <span className=\"ml-2 font-medium\">{post.meal_data.protein}g</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-gray-600\">Carbs:</span>\r\n                      <span className=\"ml-2 font-medium\">{post.meal_data.carbs}g</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-gray-600\">Fat:</span>\r\n                      <span className=\"ml-2 font-medium\">{post.meal_data.fat}g</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Post Actions */}\r\n              <div className=\"p-4 border-t border-gray-200\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center space-x-4\">\r\n                    <button\r\n                      onClick={() => handleLike(post.id)}\r\n                      className={`flex items-center space-x-2 transition-colors ${\r\n                        post.is_liked ? 'text-red-500' : 'text-gray-400 hover:text-red-500'\r\n                      }`}\r\n                    >\r\n                      <Heart className={`w-6 h-6 ${post.is_liked ? 'fill-current' : ''}`} />\r\n                      <span className=\"text-sm\">{post.likes_count}</span>\r\n                    </button>\r\n                    <button className=\"flex items-center space-x-2 text-gray-400 hover:text-gray-600 transition-colors\">\r\n                      <MessageCircle className=\"w-6 h-6\" />\r\n                      <span className=\"text-sm\">{post.comments_count}</span>\r\n                    </button>\r\n                    <button className=\"text-gray-400 hover:text-gray-600 transition-colors\">\r\n                      <Share className=\"w-6 h-6\" />\r\n                    </button>\r\n                  </div>\r\n                  <button className=\"text-gray-400 hover:text-gray-600 transition-colors\">\r\n                    <Bookmark className=\"w-6 h-6\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Feed;\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}