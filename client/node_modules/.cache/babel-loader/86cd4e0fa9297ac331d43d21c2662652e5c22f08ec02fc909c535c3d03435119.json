{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arian\\\\OneDrive\\\\Desktop\\\\Nutrition\\\\client\\\\src\\\\components\\\\Feed.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { Heart, MessageCircle, Share, MoreHorizontal, PenTool, Bookmark, Image, X, ChevronLeft, ChevronRight } from 'lucide-react';\nimport { formatDistanceToNow, format, startOfMonth, endOfMonth, eachDayOfInterval, isToday, addMonths, subMonths } from 'date-fns';\nimport { diaryAPI, mealsAPI, profileAPI, socialAPI } from '../services/api';\nimport { usePostPersistence } from '../hooks/usePostPersistence';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Feed = () => {\n  _s();\n  var _user$first_name, _user$username, _profileData$profile, _profileData$profile2, _profileData$profile3, _user$first_name2, _user$username2, _user$first_name4, _user$username4;\n  const {\n    user\n  } = useAuth();\n  // const navigate = useNavigate(); // Unused\n  const [posts, setPosts] = useState([]);\n  const {\n    localPosts,\n    savePostLocally,\n    mergeWithServerPosts,\n    clearLocalPosts\n  } = usePostPersistence();\n  const [loading, setLoading] = useState(true);\n  const [creatingPost, setCreatingPost] = useState(false);\n  const [showCreatePost, setShowCreatePost] = useState(false);\n  const [newPost, setNewPost] = useState({\n    content: '',\n    imageFile: null,\n    mealData: null,\n    allowComments: true,\n    hideLikeCount: false\n  });\n  const [expandedComments, setExpandedComments] = useState(new Set());\n  const [comments, setComments] = useState({});\n  const [newComments, setNewComments] = useState({});\n  const [loadingComments, setLoadingComments] = useState(new Set());\n\n  // Sidebar data states\n  const [profileData, setProfileData] = useState(null);\n  const [todayNutrition, setTodayNutrition] = useState(null);\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [monthData, setMonthData] = useState(null);\n  const [sidebarLoading, setSidebarLoading] = useState(true);\n\n  // Search states - Enhanced\n  const [showFollowSearch, setShowFollowSearch] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState({\n    users: [],\n    groups: [],\n    hasMore: false,\n    total: 0\n  });\n  const [searchLoading, setSearchLoading] = useState(false);\n  const [activeSearchTab, setActiveSearchTab] = useState('all');\n  const [searchOffset, setSearchOffset] = useState(0);\n  const formatPostDate = dateString => {\n    // Handle invalid or missing date strings\n    if (!dateString) {\n      return 'Just now';\n    }\n    const postDate = new Date(dateString);\n\n    // Check if the date is valid\n    if (isNaN(postDate.getTime())) {\n      console.warn('Invalid date string:', dateString);\n      return 'Just now';\n    }\n    const today = new Date();\n    const isToday = postDate.toDateString() === today.toDateString();\n    if (isToday) {\n      return `Today at ${postDate.toLocaleTimeString('en-US', {\n        hour: 'numeric',\n        minute: '2-digit',\n        hour12: true\n      })}`;\n    } else {\n      try {\n        return formatDistanceToNow(postDate, {\n          addSuffix: true\n        });\n      } catch (error) {\n        console.warn('Error formatting date distance:', error);\n        return 'Recently';\n      }\n    }\n  };\n  const loadMonthData = useCallback(async () => {\n    try {\n      var _response$data$days, _response$data$days$f;\n      const year = currentDate.getFullYear();\n      const month = currentDate.getMonth() + 1;\n      console.log('ðŸ“… Feed Calendar: Loading month data for:', {\n        year,\n        month\n      });\n\n      // Use the EXACT same API call as Diary component\n      const response = await diaryAPI.getMonth(year, month);\n      console.log('ðŸ“… Feed Calendar: Response received:', response.data);\n      console.log('ðŸ“… Feed Calendar: Days with data:', ((_response$data$days = response.data.days) === null || _response$data$days === void 0 ? void 0 : (_response$data$days$f = _response$data$days.filter(d => d.has_data)) === null || _response$data$days$f === void 0 ? void 0 : _response$data$days$f.length) || 0);\n      setMonthData(response.data);\n    } catch (error) {\n      console.error('ðŸ“… Feed Calendar: Error loading month data:', error);\n      setMonthData(null);\n    }\n  }, [currentDate]);\n  const loadSidebarData = useCallback(async () => {\n    if (!user) return;\n    setSidebarLoading(true);\n    try {\n      console.log('ðŸ“Š Feed: Loading sidebar data...');\n\n      // Load profile data using the same API as Overview - FIXED\n      const profileResponse = await profileAPI.get();\n      console.log('ðŸ“Š Feed: Full profile response:', profileResponse.data);\n      if (profileResponse.data) {\n        var _profileResponse$data, _profileResponse$data2, _profileResponse$data3;\n        setProfileData(profileResponse.data);\n        console.log('ðŸ“Š Feed: Profile data set:', {\n          posts: (_profileResponse$data = profileResponse.data.profile) === null || _profileResponse$data === void 0 ? void 0 : _profileResponse$data.posts_count,\n          followers: (_profileResponse$data2 = profileResponse.data.profile) === null || _profileResponse$data2 === void 0 ? void 0 : _profileResponse$data2.followers_count,\n          following: (_profileResponse$data3 = profileResponse.data.profile) === null || _profileResponse$data3 === void 0 ? void 0 : _profileResponse$data3.following_count\n        });\n      }\n\n      // Load today's nutrition using EXACT same method as Overview - FIXED\n      const today = new Date().toISOString().split('T')[0];\n      console.log('ðŸ“Š Feed: Loading meals for date:', today);\n      const mealsResponse = await mealsAPI.getByDate(today);\n      console.log('ðŸ“Š Feed: Raw meals response:', mealsResponse);\n      console.log('ðŸ“Š Feed: Meals data:', mealsResponse.data);\n      if (mealsResponse.data && mealsResponse.data.meals) {\n        var _profileResponse$data4, _profileResponse$data5;\n        // Calculate totals from meals (EXACT same as Overview)\n        const meals = mealsResponse.data.meals || [];\n        console.log('ðŸ“Š Feed: Processing meals:', meals.length, 'meals found');\n        const totalCalories = meals.reduce((sum, meal) => {\n          console.log('ðŸ“Š Feed: Meal calories:', meal.calories);\n          return sum + (meal.calories || 0);\n        }, 0);\n        const totalProtein = meals.reduce((sum, meal) => sum + (meal.protein || 0), 0);\n        const totalCarbs = meals.reduce((sum, meal) => sum + (meal.carbs || 0), 0);\n        const totalFat = meals.reduce((sum, meal) => sum + (meal.fat || 0), 0);\n\n        // Create nutrition data object (same structure as Overview)\n        const nutritionData = {\n          totalCalories: totalCalories,\n          totalProtein: totalProtein,\n          totalCarbs: totalCarbs,\n          totalFat: totalFat,\n          calorieGoal: ((_profileResponse$data4 = profileResponse.data.profile) === null || _profileResponse$data4 === void 0 ? void 0 : _profileResponse$data4.daily_calories) || 2000,\n          proteinGoal: ((_profileResponse$data5 = profileResponse.data.profile) === null || _profileResponse$data5 === void 0 ? void 0 : _profileResponse$data5.daily_protein) || 150\n        };\n        console.log('ðŸ“Š Feed: Final calculated nutrition data:', nutritionData);\n        setTodayNutrition(nutritionData);\n      } else {\n        var _profileResponse$data6, _profileResponse$data7;\n        console.log('ðŸ“Š Feed: No meals data found, setting empty nutrition');\n        setTodayNutrition({\n          totalCalories: 0,\n          totalProtein: 0,\n          totalCarbs: 0,\n          totalFat: 0,\n          calorieGoal: ((_profileResponse$data6 = profileResponse.data.profile) === null || _profileResponse$data6 === void 0 ? void 0 : _profileResponse$data6.daily_calories) || 2000,\n          proteinGoal: ((_profileResponse$data7 = profileResponse.data.profile) === null || _profileResponse$data7 === void 0 ? void 0 : _profileResponse$data7.daily_protein) || 150\n        });\n      }\n\n      // Load month data for calendar - FIXED\n      await loadMonthData();\n    } catch (error) {\n      console.error('ðŸ“Š Feed: Error loading sidebar data:', error);\n      // Set default nutrition data on error\n      setTodayNutrition({\n        totalCalories: 0,\n        totalProtein: 0,\n        totalCarbs: 0,\n        totalFat: 0,\n        calorieGoal: 2000,\n        proteinGoal: 150\n      });\n    } finally {\n      setSidebarLoading(false);\n    }\n  }, [user, loadMonthData]);\n  const loadPosts = async () => {\n    try {\n      console.log('ðŸ“¡ Loading posts from feed...');\n      console.log('ðŸ’¾ Current localStorage posts:', JSON.parse(localStorage.getItem('nutritrack_local_posts') || '[]'));\n\n      // Always show local posts first for instant UI\n      if (localPosts.length > 0) {\n        console.log('âš¡ Showing local posts immediately:', localPosts.length);\n        setPosts(localPosts);\n      }\n      const response = await socialAPI.getFeed();\n      console.log('ðŸ“¡ Feed response:', response);\n      if (response && response.data) {\n        console.log('âœ… Posts loaded successfully:', response.data);\n        // Ensure response.data is an array\n        let serverPosts = [];\n        if (Array.isArray(response.data)) {\n          serverPosts = response.data;\n        } else if (response.data.posts && Array.isArray(response.data.posts)) {\n          serverPosts = response.data.posts;\n        }\n        console.log('ðŸ”„ Server returned', serverPosts.length, 'posts');\n        console.log('ðŸ’¾ Local posts:', localPosts.length);\n\n        // ALWAYS merge server and local posts properly - this preserves ALL posts\n        const mergedPosts = mergeWithServerPosts(serverPosts);\n        console.log('âœ… Merged posts:', mergedPosts.length, 'total posts');\n        setPosts(mergedPosts);\n      } else {\n        console.warn('âš ï¸ No data in feed response');\n        // Keep existing posts if server fails\n        if (localPosts.length > 0) {\n          console.log('ðŸ“± Using local posts as fallback:', localPosts.length);\n          setPosts(localPosts);\n        } else {\n          setPosts([]);\n        }\n      }\n    } catch (error) {\n      console.error('âŒ Error loading posts:', error);\n      // On error, keep existing posts\n      if (localPosts.length > 0) {\n        console.log('ðŸ“± Using local posts due to error:', localPosts.length);\n        setPosts(localPosts);\n      } else {\n        setPosts([]);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleLike = async postId => {\n    try {\n      console.log('ðŸ‘ Toggling like for post:', postId);\n      const response = await socialAPI.likePost(postId);\n      console.log('ðŸ‘ Like response:', response.data);\n\n      // Update local state optimistically\n      setPosts(prevPosts => {\n        const postsArray = Array.isArray(prevPosts) ? prevPosts : [];\n        return postsArray.map(post => post.id === postId ? {\n          ...post,\n          is_liked: !post.is_liked,\n          likes_count: post.is_liked ? post.likes_count - 1 : post.likes_count + 1\n        } : post);\n      });\n    } catch (error) {\n      console.error('âŒ Error liking post:', error);\n      alert('Failed to like post. Please try again.');\n    }\n  };\n  const handleBookmark = async postId => {\n    try {\n      console.log('ðŸ”– Toggling bookmark for post:', postId);\n      const response = await socialAPI.bookmarkPost(postId);\n      console.log('ðŸ”– Bookmark response:', response.data);\n\n      // Update local state optimistically\n      setPosts(prevPosts => {\n        const postsArray = Array.isArray(prevPosts) ? prevPosts : [];\n        return postsArray.map(post => post.id === postId ? {\n          ...post,\n          is_bookmarked: !post.is_bookmarked\n        } : post);\n      });\n    } catch (error) {\n      console.error('âŒ Error bookmarking post:', error);\n      alert('Failed to bookmark post. Please try again.');\n    }\n  };\n  const toggleComments = async postId => {\n    if (expandedComments.has(postId)) {\n      setExpandedComments(prev => {\n        const newSet = new Set(prev);\n        newSet.delete(postId);\n        return newSet;\n      });\n    } else {\n      setExpandedComments(prev => {\n        const newSet = new Set(prev);\n        newSet.add(postId);\n        return newSet;\n      });\n      if (!comments[postId]) {\n        setLoadingComments(prev => {\n          const newSet = new Set(prev);\n          newSet.add(postId);\n          return newSet;\n        });\n        try {\n          console.log('ðŸ’¬ Loading comments for post:', postId);\n          const response = await socialAPI.getComments(postId);\n          if (response && response.data) {\n            console.log('âœ… Comments loaded:', response.data);\n            setComments(prev => ({\n              ...prev,\n              [postId]: response.data\n            }));\n          }\n        } catch (error) {\n          console.error('âŒ Error loading comments:', error);\n        } finally {\n          setLoadingComments(prev => {\n            const newSet = new Set(prev);\n            newSet.delete(postId);\n            return newSet;\n          });\n        }\n      }\n    }\n  };\n  const handleAddComment = async postId => {\n    var _newComments$postId;\n    const content = (_newComments$postId = newComments[postId]) === null || _newComments$postId === void 0 ? void 0 : _newComments$postId.trim();\n    if (!content) return;\n    try {\n      console.log('ðŸ’¬ Adding comment to post:', postId, 'Content:', content);\n      const response = await socialAPI.addComment(postId, content);\n      if (response && response.data) {\n        console.log('âœ… Comment added:', response.data);\n        const newComment = response.data;\n        setComments(prev => ({\n          ...prev,\n          [postId]: [...(prev[postId] || []), newComment]\n        }));\n        setNewComments(prev => ({\n          ...prev,\n          [postId]: ''\n        }));\n        setPosts(prevPosts => {\n          const postsArray = Array.isArray(prevPosts) ? prevPosts : [];\n          return postsArray.map(post => post.id === postId ? {\n            ...post,\n            comments_count: post.comments_count + 1\n          } : post);\n        });\n      }\n    } catch (error) {\n      console.error('âŒ Error adding comment:', error);\n    }\n  };\n  const handleCreatePost = async () => {\n    console.log('ðŸ›¡ï¸ BULLETPROOF POST CREATION v2.0 STARTING...');\n    console.log('ðŸ“ Current newPost state:', newPost);\n\n    // BULLETPROOF VALIDATION\n    if (!newPost.content.trim() && !newPost.imageFile) {\n      alert('Please enter some content or add an image before posting.');\n      return;\n    }\n    if (!(user !== null && user !== void 0 && user.id)) {\n      alert('You must be logged in to create a post.');\n      return;\n    }\n    setCreatingPost(true);\n\n    // BULLETPROOF: Create post immediately for instant UI feedback\n    const instantPost = {\n      id: Date.now(),\n      content: newPost.content.trim(),\n      image_url: null,\n      meal_data: newPost.mealData,\n      user: {\n        id: user.id,\n        username: user.username || `user${user.id}`,\n        first_name: user.first_name || 'User',\n        last_name: user.last_name || 'User',\n        profile_picture: user.profile_picture\n      },\n      created_at: new Date().toISOString(),\n      likes_count: 0,\n      comments_count: 0,\n      is_liked: false,\n      is_bookmarked: false,\n      allow_comments: newPost.allowComments,\n      hide_like_count: newPost.hideLikeCount,\n      _status: 'creating'\n    };\n\n    // Show post immediately\n    console.log('âš¡ Adding post to feed immediately for instant feedback');\n    setPosts(prevPosts => {\n      const postsArray = Array.isArray(prevPosts) ? prevPosts : [];\n      return [instantPost, ...postsArray];\n    });\n\n    // Reset form immediately for better UX\n    setNewPost({\n      content: '',\n      imageFile: null,\n      mealData: null,\n      allowComments: true,\n      hideLikeCount: false\n    });\n    setShowCreatePost(false);\n\n    // BULLETPROOF: Try to save to server in background\n    try {\n      var _serverResponse, _serverResponse2, _serverResponse2$post, _serverResponse3, _serverResponse4, _serverResponse4$post;\n      const formData = new FormData();\n      formData.append('content', instantPost.content);\n      formData.append('allow_comments', instantPost.allow_comments.toString());\n      formData.append('hide_like_count', instantPost.hide_like_count.toString());\n      if (newPost.imageFile) {\n        formData.append('image', newPost.imageFile);\n      }\n      if (newPost.mealData) {\n        formData.append('meal_data', JSON.stringify(newPost.mealData));\n      }\n      console.log('ðŸš€ Attempting to save to server...');\n\n      // Try multiple methods to save to server\n      let serverSuccess = false;\n      let serverResponse = null;\n\n      // Method 1: socialAPI\n      try {\n        const response = await socialAPI.createPost(formData);\n        if (response && (response.status === 200 || response.status === 201) && response.data) {\n          serverSuccess = true;\n          serverResponse = response.data;\n          console.log('âœ… socialAPI SUCCESS');\n        }\n      } catch (apiError) {\n        console.warn('âš ï¸ socialAPI failed:', apiError);\n      }\n\n      // Method 2: Direct fetch\n      if (!serverSuccess) {\n        try {\n          const authData = JSON.parse(localStorage.getItem('nutritrack_auth_data') || '{}');\n          const token = authData.token || localStorage.getItem('token');\n          if (token) {\n            const directResponse = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-backend-9k3a.onrender.com'}/api/social/posts`, {\n              method: 'POST',\n              headers: {\n                'Authorization': `Bearer ${token}`\n              },\n              body: formData\n            });\n            if (directResponse.ok) {\n              serverResponse = await directResponse.json();\n              serverSuccess = true;\n              console.log('âœ… Direct fetch SUCCESS');\n            }\n          }\n        } catch (directError) {\n          console.warn('âš ï¸ Direct fetch failed:', directError);\n        }\n      }\n\n      // Update the post in the feed with server data or keep as local\n      const finalPost = {\n        ...instantPost,\n        id: ((_serverResponse = serverResponse) === null || _serverResponse === void 0 ? void 0 : _serverResponse.postId) || ((_serverResponse2 = serverResponse) === null || _serverResponse2 === void 0 ? void 0 : (_serverResponse2$post = _serverResponse2.post) === null || _serverResponse2$post === void 0 ? void 0 : _serverResponse2$post.id) || instantPost.id,\n        image_url: ((_serverResponse3 = serverResponse) === null || _serverResponse3 === void 0 ? void 0 : _serverResponse3.imageUrl) || ((_serverResponse4 = serverResponse) === null || _serverResponse4 === void 0 ? void 0 : (_serverResponse4$post = _serverResponse4.post) === null || _serverResponse4$post === void 0 ? void 0 : _serverResponse4$post.image_url) || null,\n        _status: serverSuccess ? 'saved' : 'local-only',\n        _serverSaved: serverSuccess\n      };\n\n      // Update the existing post in the feed\n      setPosts(prevPosts => {\n        const postsArray = Array.isArray(prevPosts) ? prevPosts : [];\n        return postsArray.map(p => p.id === instantPost.id ? finalPost : p);\n      });\n\n      // Save for persistence\n      savePostLocally(finalPost);\n      if (serverSuccess) {\n        console.log('ðŸŽ‰ POST SAVED TO SERVER SUCCESSFULLY');\n        window.dispatchEvent(new CustomEvent('postCreated', {\n          detail: finalPost\n        }));\n      } else {\n        console.log('ðŸ“± POST SAVED LOCALLY - Will sync when server available');\n      }\n    } catch (error) {\n      console.error('ðŸ’¥ Background server save failed:', error);\n      // Don't show error to user - post is already visible\n      console.log('ðŸ“± Post remains local-only due to server issues');\n    } finally {\n      setCreatingPost(false);\n      console.log('âœ… BULLETPROOF POST CREATION COMPLETED');\n    }\n  };\n  const handleImageUpload = event => {\n    var _event$target$files;\n    const file = (_event$target$files = event.target.files) === null || _event$target$files === void 0 ? void 0 : _event$target$files[0];\n    if (file) {\n      setNewPost(prev => ({\n        ...prev,\n        imageFile: file\n      }));\n    }\n  };\n  const searchUsersAndGroups = async (query, loadMore = false) => {\n    const offset = loadMore ? searchOffset : 0;\n    if (!loadMore) {\n      setSearchOffset(0);\n      if (!query.trim()) {\n        // Load initial users even without query\n        setSearchLoading(true);\n        try {\n          console.log('ðŸ” Loading initial users...');\n          const response = await socialAPI.search('', 5, 0);\n          if (response && response.data) {\n            console.log('ðŸ” Initial results:', response.data);\n            setSearchResults({\n              users: response.data.users || [],\n              groups: response.data.groups || [],\n              hasMore: response.data.hasMore || false,\n              total: response.data.total || 0\n            });\n          }\n        } catch (error) {\n          console.error('Error loading initial users:', error);\n          setSearchResults({\n            users: [],\n            groups: [],\n            hasMore: false,\n            total: 0\n          });\n        } finally {\n          setSearchLoading(false);\n        }\n        return;\n      }\n    }\n    setSearchLoading(true);\n    try {\n      console.log('ðŸ” Searching for:', query, 'offset:', offset);\n      const response = await socialAPI.search(query, 5, offset);\n      if (response && response.data) {\n        console.log('ðŸ” Search results:', response.data);\n        if (loadMore) {\n          // Append to existing results\n          setSearchResults(prev => ({\n            users: [...prev.users, ...(response.data.users || [])],\n            groups: [...prev.groups, ...(response.data.groups || [])],\n            hasMore: response.data.hasMore || false,\n            total: response.data.total || 0\n          }));\n          setSearchOffset(prev => prev + 5);\n        } else {\n          // Replace results\n          setSearchResults({\n            users: response.data.users || [],\n            groups: response.data.groups || [],\n            hasMore: response.data.hasMore || false,\n            total: response.data.total || 0\n          });\n          setSearchOffset(5);\n        }\n      }\n    } catch (error) {\n      console.error('Error searching:', error);\n      if (!loadMore) {\n        setSearchResults({\n          users: [],\n          groups: [],\n          hasMore: false,\n          total: 0\n        });\n      }\n    } finally {\n      setSearchLoading(false);\n    }\n  };\n  const loadMoreResults = () => {\n    if (!searchLoading && searchResults.hasMore) {\n      searchUsersAndGroups(searchQuery, true);\n    }\n  };\n  const handleFollow = async userId => {\n    try {\n      console.log('ðŸ‘¥ Following/unfollowing user:', userId);\n      const response = await socialAPI.followUser(userId);\n      if (response) {\n        console.log('ðŸ‘¥ Follow response:', response.data);\n        // Update the search results to reflect the new follow status\n        setSearchResults(prev => ({\n          ...prev,\n          users: prev.users.map(user => user.id === userId ? {\n            ...user,\n            is_following: !user.is_following\n          } : user)\n        }));\n      }\n    } catch (error) {\n      console.error('Error following user:', error);\n    }\n  };\n  const handleVisitProfile = (userId, username) => {\n    console.log('ðŸ‘¤ Visiting profile for user:', userId, username);\n    // For now, just close the modal and show a message\n    setShowFollowSearch(false);\n    alert(`Profile visit for @${username} - This will navigate to their profile page when implemented!`);\n  };\n  const handleJoinGroup = (groupId, groupName) => {\n    console.log('ðŸ˜ï¸ Joining group:', groupId, groupName);\n    alert(`Joining group \"${groupName}\" - Group functionality will be implemented soon!`);\n  };\n  useEffect(() => {\n    if (user) {\n      console.log('ðŸ”§ Feed: Loading posts...');\n      // First, immediately show local posts if available\n      if (localPosts.length > 0) {\n        console.log('âš¡ Feed: Showing local posts immediately:', localPosts.length);\n        setPosts(localPosts);\n      }\n      // Then load from server and merge\n      loadPosts();\n    }\n  }, [user, localPosts]); // Functions are stable\n\n  // Debug posts state changes\n  useEffect(() => {\n    console.log('ðŸŽ¯ Posts state changed:', posts.length, 'posts');\n    console.log('ðŸ“Š Current posts:', posts);\n  }, [posts]);\n  useEffect(() => {\n    console.log('ðŸ”§ Feed: Month data effect triggered');\n    loadMonthData();\n  }, []); // Function is stable\n\n  // Force data load when user becomes available\n  useEffect(() => {\n    if (user) {\n      console.log('ðŸ”§ Feed: User available, loading data immediately...');\n\n      // DON'T clear local posts on login - keep them for persistence\n      // if (localPosts.length > 0) {\n      //   console.log('ðŸ§¹ Clearing stale local posts to prevent duplicates');\n      //   clearLocalPosts();\n      // }\n\n      loadSidebarData();\n      loadMonthData();\n      loadPosts();\n    }\n  }, [user]); // Functions are stable, removed localPosts.length dependency\n\n  // Enhanced automatic syncing with Overview page - IMPROVED\n  useEffect(() => {\n    const handleMealDataChanged = () => {\n      console.log('ðŸ“Š Feed: Meal data changed event received, auto-syncing...');\n      loadSidebarData();\n      loadMonthData(); // Also refresh calendar when meals change\n    };\n    const handleStorageChange = e => {\n      if (e.key === 'mealAdded' || e.key === 'mealDeleted' || e.key === 'mealUpdated') {\n        console.log('ðŸ“Š Feed: Storage event detected, auto-syncing...');\n        handleMealDataChanged();\n      }\n    };\n\n    // Listen for custom events (same tab)\n    window.addEventListener('mealDataChanged', handleMealDataChanged);\n    window.addEventListener('mealAdded', handleMealDataChanged);\n    window.addEventListener('mealUpdated', handleMealDataChanged);\n    window.addEventListener('mealDeleted', handleMealDataChanged);\n\n    // Listen for storage events (cross-tab)\n    window.addEventListener('storage', handleStorageChange);\n\n    // Also listen for sidebar refresh events from other components\n    window.addEventListener('sidebarRefresh', handleMealDataChanged);\n    return () => {\n      window.removeEventListener('mealDataChanged', handleMealDataChanged);\n      window.removeEventListener('mealAdded', handleMealDataChanged);\n      window.removeEventListener('mealUpdated', handleMealDataChanged);\n      window.removeEventListener('mealDeleted', handleMealDataChanged);\n      window.removeEventListener('storage', handleStorageChange);\n      window.removeEventListener('sidebarRefresh', handleMealDataChanged);\n    };\n  }, []); // Functions are stable\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 737,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 736,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-6 max-w-7xl mx-auto p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-80 flex-shrink-0 sticky top-6 self-start space-y-6 max-h-[calc(100vh-3rem)] overflow-y-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 relative overflow-hidden\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute top-0 right-0 w-16 h-16 bg-blue-50 rounded-full -translate-y-8 translate-x-8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 755,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute bottom-0 left-0 w-12 h-12 bg-purple-50 rounded-full translate-y-6 -translate-x-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 756,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative text-center\",\n              children: [user !== null && user !== void 0 && user.profile_picture ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative inline-block\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: user.profile_picture,\n                  alt: \"Profile\",\n                  className: \"w-20 h-20 rounded-full mx-auto mb-4 object-cover ring-3 ring-blue-100 shadow-md\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 761,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full border-3 border-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 766,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 760,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative inline-block\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-20 h-20 rounded-full bg-blue-500 flex items-center justify-center text-white text-xl font-semibold mx-auto mb-4 ring-3 ring-blue-100 shadow-md\",\n                  children: (user === null || user === void 0 ? void 0 : (_user$first_name = user.first_name) === null || _user$first_name === void 0 ? void 0 : _user$first_name.charAt(0)) || (user === null || user === void 0 ? void 0 : (_user$username = user.username) === null || _user$username === void 0 ? void 0 : _user$username.charAt(0)) || 'U'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 770,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full border-3 border-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 773,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 769,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold text-gray-900 mb-1\",\n                children: [user === null || user === void 0 ? void 0 : user.first_name, \" \", user === null || user === void 0 ? void 0 : user.last_name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 776,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500 mb-4\",\n                children: [\"@\", user === null || user === void 0 ? void 0 : user.username]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 779,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-3 gap-4 mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xl font-bold text-blue-600\",\n                    children: (profileData === null || profileData === void 0 ? void 0 : (_profileData$profile = profileData.profile) === null || _profileData$profile === void 0 ? void 0 : _profileData$profile.posts_count) || 0\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 784,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-500\",\n                    children: \"Posts\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 785,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 783,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xl font-bold text-green-600\",\n                    children: (profileData === null || profileData === void 0 ? void 0 : (_profileData$profile2 = profileData.profile) === null || _profileData$profile2 === void 0 ? void 0 : _profileData$profile2.following_count) || 0\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 788,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-500\",\n                    children: \"Following\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 789,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 787,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xl font-bold text-purple-600\",\n                    children: (profileData === null || profileData === void 0 ? void 0 : (_profileData$profile3 = profileData.profile) === null || _profileData$profile3 === void 0 ? void 0 : _profileData$profile3.followers_count) || 0\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 792,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-500\",\n                    children: \"Followers\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 793,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 791,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 782,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowFollowSearch(true),\n                className: \"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-2.5 px-4 rounded-xl hover:from-orange-600 hover:to-orange-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105\",\n                children: \"Find People\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 797,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 758,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 753,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 relative overflow-hidden\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute top-0 right-0 w-14 h-14 bg-green-50 rounded-full -translate-y-7 translate-x-7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 808,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-900 mb-4 relative\",\n              children: \"Today's Nutrition\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 810,\n              columnNumber: 15\n            }, this), todayNutrition ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4 relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-600\",\n                  children: \"Calories\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 814,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold text-gray-900\",\n                  children: [todayNutrition.totalCalories || 0, \" / \", todayNutrition.calorieGoal || 2000]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 815,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 813,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full bg-gray-100 rounded-full h-2.5 shadow-inner\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-orange-500 h-2.5 rounded-full transition-all duration-300\",\n                  style: {\n                    width: `${Math.min(100, (todayNutrition.totalCalories || 0) / (todayNutrition.calorieGoal || 2000) * 100)}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 820,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 819,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center mt-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-600\",\n                  children: \"Protein\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 830,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold text-gray-900\",\n                  children: [todayNutrition.totalProtein || 0, \"g / \", todayNutrition.proteinGoal || 150, \"g\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 831,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 829,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full bg-gray-100 rounded-full h-2.5 shadow-inner\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-green-500 h-2.5 rounded-full transition-all duration-300\",\n                  style: {\n                    width: `${Math.min(100, (todayNutrition.totalProtein || 0) / (todayNutrition.proteinGoal || 150) * 100)}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 836,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 835,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-3 gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center bg-yellow-50 rounded-lg p-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-yellow-600 font-semibold text-sm\",\n                    children: [todayNutrition.totalCarbs || 0, \"g\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 847,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-gray-500 text-xs\",\n                    children: \"Carbs\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 848,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 846,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center bg-red-50 rounded-lg p-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-red-600 font-semibold text-sm\",\n                    children: [todayNutrition.totalFat || 0, \"g\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 851,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-gray-500 text-xs\",\n                    children: \"Fat\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 852,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 850,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center bg-blue-50 rounded-lg p-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-blue-600 font-semibold text-sm\",\n                    children: [Math.round((todayNutrition.totalCalories || 0) / (todayNutrition.calorieGoal || 2000) * 100), \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 855,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-gray-500 text-xs\",\n                    children: \"Goal\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 856,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 854,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 845,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 812,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-gray-400 text-center py-6 relative\",\n              children: \"No nutrition data for today\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 861,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 807,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 relative overflow-hidden\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute bottom-0 left-0 w-16 h-16 bg-purple-50 rounded-full translate-y-8 -translate-x-8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 867,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-4 relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold text-gray-900\",\n                children: \"Calendar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 870,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setCurrentDate(subMonths(currentDate, 1)),\n                  className: \"p-2 hover:bg-gray-100 rounded-lg transition-colors\",\n                  children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n                    className: \"w-4 h-4 text-gray-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 876,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 872,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setCurrentDate(addMonths(currentDate, 1)),\n                  className: \"p-2 hover:bg-gray-100 rounded-lg transition-colors\",\n                  children: /*#__PURE__*/_jsxDEV(ChevronRight, {\n                    className: \"w-4 h-4 text-gray-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 882,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 878,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 871,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 869,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center mb-3 relative\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm font-medium text-gray-900 bg-gray-50 rounded-lg py-2 px-3\",\n                children: format(currentDate, 'MMMM yyyy')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 888,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 887,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-7 gap-1 text-xs relative\",\n              children: [['S', 'M', 'T', 'W', 'T', 'F', 'S'].map(day => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center p-2 text-gray-500 font-medium\",\n                children: day\n              }, day, false, {\n                fileName: _jsxFileName,\n                lineNumber: 896,\n                columnNumber: 19\n              }, this)), eachDayOfInterval({\n                start: startOfMonth(currentDate),\n                end: endOfMonth(currentDate)\n              }).map(day => {\n                var _monthData$days;\n                const dayData = monthData === null || monthData === void 0 ? void 0 : (_monthData$days = monthData.days) === null || _monthData$days === void 0 ? void 0 : _monthData$days.find(d => new Date(d.date).getDate() === day.getDate());\n                const hasData = dayData === null || dayData === void 0 ? void 0 : dayData.has_data;\n                const isCurrentDay = isToday(day);\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `\n                        text-center p-2 rounded-lg text-sm font-medium transition-all duration-200\n                        ${isCurrentDay ? 'bg-orange-500 text-white shadow-md' : ''}\n                        ${hasData && !isCurrentDay ? 'bg-green-100 text-green-700' : ''}\n                        ${!hasData && !isCurrentDay ? 'text-gray-400 hover:bg-gray-50' : ''}\n                      `,\n                  children: day.getDate()\n                }, day.toISOString(), false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 911,\n                  columnNumber: 21\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 894,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 866,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 750,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowCreatePost(true),\n            className: \"w-full bg-white border border-gray-200 rounded-lg p-4 text-left hover:bg-gray-50 transition-colors shadow-sm\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-10 h-10 rounded-full bg-orange-500 flex items-center justify-center text-white font-semibold\",\n                children: (user === null || user === void 0 ? void 0 : (_user$first_name2 = user.first_name) === null || _user$first_name2 === void 0 ? void 0 : _user$first_name2.charAt(0)) || (user === null || user === void 0 ? void 0 : (_user$username2 = user.username) === null || _user$username2 === void 0 ? void 0 : _user$username2.charAt(0)) || 'U'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 936,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600\",\n                children: \"What's on your mind?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 939,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 935,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 931,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-6\",\n            children: [posts.length === 0 && !loading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white border border-gray-200 rounded-lg shadow-sm p-8 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4\",\n                  children: /*#__PURE__*/_jsxDEV(MessageCircle, {\n                    className: \"w-8 h-8 text-orange-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 949,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 948,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-900 mb-2\",\n                  children: \"No posts yet\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 951,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-600 mb-6\",\n                  children: \"Your feed is empty. Start connecting with others to see their posts!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 952,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 947,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col sm:flex-row gap-3 justify-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setShowFollowSearch(true),\n                  className: \"px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all duration-200 font-medium shadow-md hover:shadow-lg transform hover:scale-105\",\n                  children: \"Find Friends\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 956,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {/* Navigate to groups when implemented */},\n                  className: \"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium\",\n                  children: \"Browse Groups\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 962,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 955,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 946,\n              columnNumber: 17\n            }, this), Array.isArray(posts) && posts.length > 0 && posts.map(post => {\n              var _post$user, _post$user$first_name, _post$user2, _post$user2$username, _post$user3, _post$user4, _user$first_name3, _user$username3, _newComments$post$id, _comments$post$id;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white border border-gray-200 rounded-lg shadow-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between p-4 border-b border-gray-200\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center text-white text-sm font-semibold\",\n                      children: ((_post$user = post.user) === null || _post$user === void 0 ? void 0 : (_post$user$first_name = _post$user.first_name) === null || _post$user$first_name === void 0 ? void 0 : _post$user$first_name.charAt(0)) || ((_post$user2 = post.user) === null || _post$user2 === void 0 ? void 0 : (_post$user2$username = _post$user2.username) === null || _post$user2$username === void 0 ? void 0 : _post$user2$username.charAt(0)) || 'U'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 977,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-semibold text-gray-900\",\n                        children: [((_post$user3 = post.user) === null || _post$user3 === void 0 ? void 0 : _post$user3.first_name) || 'Unknown', \" \", ((_post$user4 = post.user) === null || _post$user4 === void 0 ? void 0 : _post$user4.last_name) || 'User']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 981,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-sm text-gray-500\",\n                        children: formatPostDate(post.created_at)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 984,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 980,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 976,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"text-gray-400 hover:text-gray-600\",\n                    children: /*#__PURE__*/_jsxDEV(MoreHorizontal, {\n                      className: \"w-5 h-5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 988,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 987,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 975,\n                  columnNumber: 19\n                }, this), post.content && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-900\",\n                    children: post.content\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 995,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 994,\n                  columnNumber: 21\n                }, this), post.image_url && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-full\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: post.image_url,\n                    alt: \"Post\",\n                    className: \"w-full object-cover\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1002,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1001,\n                  columnNumber: 21\n                }, this), post.meal_data && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-4 bg-gray-50 border-t border-gray-200\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm font-medium text-gray-900 mb-2\",\n                    children: \"Meal Information\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1013,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-4 gap-4 text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-semibold text-orange-600\",\n                        children: post.meal_data.calories || 0\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1016,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-gray-600\",\n                        children: \"Calories\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1017,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1015,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-semibold text-green-600\",\n                        children: [post.meal_data.protein || 0, \"g\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1020,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-gray-600\",\n                        children: \"Protein\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1021,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1019,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-semibold text-yellow-600\",\n                        children: [post.meal_data.carbs || 0, \"g\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1024,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-gray-600\",\n                        children: \"Carbs\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1025,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1023,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-semibold text-red-600\",\n                        children: [post.meal_data.fat || 0, \"g\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1028,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-gray-600\",\n                        children: \"Fat\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1029,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1027,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1014,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1012,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"px-4 py-3 border-t border-gray-200\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center space-x-6\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => handleLike(post.id),\n                        className: `flex items-center space-x-2 ${post.is_liked ? 'text-red-500' : 'text-gray-500 hover:text-red-500'}`,\n                        children: [/*#__PURE__*/_jsxDEV(Heart, {\n                          className: `w-5 h-5 ${post.is_liked ? 'fill-current' : ''}`\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1043,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-sm\",\n                          children: post.likes_count\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1044,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1039,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => toggleComments(post.id),\n                        className: \"flex items-center space-x-2 text-gray-500 hover:text-orange-500\",\n                        children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n                          className: \"w-5 h-5\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1050,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-sm\",\n                          children: post.comments_count\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1051,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1046,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"text-gray-500 hover:text-orange-500\",\n                        children: /*#__PURE__*/_jsxDEV(Share, {\n                          className: \"w-5 h-5\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1054,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1053,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1038,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleBookmark(post.id),\n                      className: `${post.is_bookmarked ? 'text-orange-500' : 'text-gray-500 hover:text-orange-500'}`,\n                      children: /*#__PURE__*/_jsxDEV(Bookmark, {\n                        className: `w-5 h-5 ${post.is_bookmarked ? 'fill-current' : ''}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1061,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1057,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1037,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1036,\n                  columnNumber: 19\n                }, this), expandedComments.has(post.id) && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"px-4 py-3 border-t border-gray-200 bg-gray-50\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-3 mb-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center text-white text-sm font-semibold\",\n                      children: (user === null || user === void 0 ? void 0 : (_user$first_name3 = user.first_name) === null || _user$first_name3 === void 0 ? void 0 : _user$first_name3.charAt(0)) || (user === null || user === void 0 ? void 0 : (_user$username3 = user.username) === null || _user$username3 === void 0 ? void 0 : _user$username3.charAt(0)) || 'U'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1071,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex-1 flex items-center space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        placeholder: \"Add a comment...\",\n                        value: newComments[post.id] || '',\n                        onChange: e => setNewComments(prev => ({\n                          ...prev,\n                          [post.id]: e.target.value\n                        })),\n                        className: \"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500\",\n                        onKeyPress: e => e.key === 'Enter' && handleAddComment(post.id)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1075,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => handleAddComment(post.id),\n                        disabled: !((_newComments$post$id = newComments[post.id]) !== null && _newComments$post$id !== void 0 && _newComments$post$id.trim()),\n                        className: \"px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-md hover:shadow-lg\",\n                        children: \"Post\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1083,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1074,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1070,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-3\",\n                    children: (_comments$post$id = comments[post.id]) === null || _comments$post$id === void 0 ? void 0 : _comments$post$id.map(comment => {\n                      var _comment$user, _comment$user$first_n, _comment$user2, _comment$user2$userna, _comment$user3, _comment$user4;\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-start space-x-3\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center text-white text-sm font-semibold\",\n                          children: ((_comment$user = comment.user) === null || _comment$user === void 0 ? void 0 : (_comment$user$first_n = _comment$user.first_name) === null || _comment$user$first_n === void 0 ? void 0 : _comment$user$first_n.charAt(0)) || ((_comment$user2 = comment.user) === null || _comment$user2 === void 0 ? void 0 : (_comment$user2$userna = _comment$user2.username) === null || _comment$user2$userna === void 0 ? void 0 : _comment$user2$userna.charAt(0)) || 'U'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1097,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex-1\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"bg-white rounded-lg p-3\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"font-semibold text-sm text-gray-900\",\n                              children: [((_comment$user3 = comment.user) === null || _comment$user3 === void 0 ? void 0 : _comment$user3.first_name) || 'Unknown', \" \", ((_comment$user4 = comment.user) === null || _comment$user4 === void 0 ? void 0 : _comment$user4.last_name) || 'User']\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1102,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-gray-700\",\n                              children: comment.content\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1105,\n                              columnNumber: 33\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1101,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-xs text-gray-500 mt-1\",\n                            children: formatPostDate(comment.created_at)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1107,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1100,\n                          columnNumber: 29\n                        }, this)]\n                      }, comment.id, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1096,\n                        columnNumber: 27\n                      }, this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1094,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1068,\n                  columnNumber: 21\n                }, this)]\n              }, post.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 973,\n                columnNumber: 17\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 944,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 929,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-80 flex-shrink-0 sticky top-6 self-start space-y-6 max-h-[calc(100vh-3rem)] overflow-y-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 relative overflow-hidden\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute top-0 right-0 w-14 h-14 bg-indigo-50 rounded-full -translate-y-7 translate-x-7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1124,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-6 relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold text-gray-900\",\n                children: \"Groups\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1127,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"text-blue-600 hover:text-blue-700 text-sm font-medium bg-blue-50 hover:bg-blue-100 px-3 py-1 rounded-full transition-colors\",\n                children: \"See All\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1128,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1126,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3 relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3 p-3 rounded-xl hover:bg-gray-50 cursor-pointer transition-colors group\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-10 h-10 rounded-xl bg-green-500 flex items-center justify-center shadow-sm\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-white font-semibold text-sm\",\n                    children: \"VG\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1137,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1136,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-medium text-gray-900 group-hover:text-green-600 transition-colors\",\n                    children: \"Vegan Recipes\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1140,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-500\",\n                    children: \"1.2k members\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1141,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1139,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1135,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3 p-3 rounded-xl hover:bg-gray-50 cursor-pointer transition-colors group\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-10 h-10 rounded-xl bg-blue-500 flex items-center justify-center shadow-sm\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-white font-semibold text-sm\",\n                    children: \"FT\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1147,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1146,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-medium text-gray-900 group-hover:text-blue-600 transition-colors\",\n                    children: \"Fitness Goals\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1150,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-500\",\n                    children: \"856 members\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1151,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1149,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1145,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3 p-3 rounded-xl hover:bg-gray-50 cursor-pointer transition-colors group\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-10 h-10 rounded-xl bg-purple-500 flex items-center justify-center shadow-sm\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-white font-semibold text-sm\",\n                    children: \"WL\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1157,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1156,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-medium text-gray-900 group-hover:text-purple-600 transition-colors\",\n                    children: \"Weight Loss\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1160,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-500\",\n                    children: \"2.1k members\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1161,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1159,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1155,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3 p-3 rounded-xl hover:bg-gray-50 cursor-pointer transition-colors group\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-10 h-10 rounded-xl bg-orange-500 flex items-center justify-center shadow-sm\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-white font-semibold text-sm\",\n                    children: \"KT\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1167,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1166,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-medium text-gray-900 group-hover:text-orange-600 transition-colors\",\n                    children: \"Keto Diet\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1170,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-500\",\n                    children: \"643 members\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1171,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1169,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1165,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1133,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"w-full mt-6 bg-gradient-to-r from-orange-500 to-orange-600 text-white py-2.5 px-4 rounded-xl hover:from-orange-600 hover:to-orange-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105\",\n              children: \"Create Group\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1176,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1123,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 747,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 744,\n      columnNumber: 7\n    }, this), showCreatePost && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-gray-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between p-6 border-b border-gray-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(PenTool, {\n                className: \"w-4 h-4 text-orange-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1191,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1190,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-gray-900\",\n              children: \"Create Post\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1193,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1189,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowCreatePost(false),\n            className: \"text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-lg transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1199,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1195,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1188,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 h-12 rounded-full bg-orange-500 flex items-center justify-center text-white font-semibold shadow-md\",\n              children: (user === null || user === void 0 ? void 0 : (_user$first_name4 = user.first_name) === null || _user$first_name4 === void 0 ? void 0 : _user$first_name4.charAt(0)) || (user === null || user === void 0 ? void 0 : (_user$username4 = user.username) === null || _user$username4 === void 0 ? void 0 : _user$username4.charAt(0)) || 'U'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1205,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                placeholder: \"What's on your mind?\",\n                value: newPost.content,\n                onChange: e => setNewPost(prev => ({\n                  ...prev,\n                  content: e.target.value\n                })),\n                className: \"w-full p-4 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-300 resize-none bg-gray-50 hover:bg-white transition-colors\",\n                rows: 5\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1209,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1208,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1204,\n            columnNumber: 15\n          }, this), newPost.imageFile && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: URL.createObjectURL(newPost.imageFile),\n              alt: \"Preview\",\n              className: \"w-full h-64 object-cover rounded-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1221,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setNewPost(prev => ({\n                ...prev,\n                imageFile: null\n              })),\n              className: \"absolute top-2 right-2 bg-black bg-opacity-50 text-white p-1 rounded-full hover:bg-opacity-70\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1230,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1226,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1220,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 rounded-xl p-4 space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-5 h-5 bg-orange-100 rounded flex items-center justify-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-2 h-2 bg-orange-500 rounded-full\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1239,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1238,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-semibold text-gray-900\",\n                children: \"Post Settings\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1241,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1237,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-center space-x-3 cursor-pointer p-3 bg-white rounded-lg border border-gray-200 hover:border-orange-300 transition-colors\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: newPost.allowComments,\n                  onChange: e => setNewPost(prev => ({\n                    ...prev,\n                    allowComments: e.target.checked\n                  })),\n                  className: \"rounded border-gray-300 text-orange-600 focus:ring-orange-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1246,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-700\",\n                  children: \"Allow comments\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1252,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1245,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-center space-x-3 cursor-pointer p-3 bg-white rounded-lg border border-gray-200 hover:border-orange-300 transition-colors\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: newPost.hideLikeCount,\n                  onChange: e => setNewPost(prev => ({\n                    ...prev,\n                    hideLikeCount: e.target.checked\n                  })),\n                  className: \"rounded border-gray-300 text-orange-600 focus:ring-orange-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1256,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-700\",\n                  children: \"Hide like count\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1262,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1255,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1244,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1236,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between pt-6 border-t border-gray-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-4\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-center space-x-3 text-gray-600 hover:text-orange-600 cursor-pointer p-2 hover:bg-orange-50 rounded-lg transition-colors\",\n                children: [/*#__PURE__*/_jsxDEV(Image, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1270,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium\",\n                  children: \"Add Photo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1271,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  accept: \"image/*\",\n                  onChange: handleImageUpload,\n                  className: \"hidden\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1272,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1269,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1268,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowCreatePost(false),\n                className: \"px-6 py-2.5 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors font-medium\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1282,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleCreatePost,\n                disabled: !newPost.content.trim() && !newPost.imageFile || creatingPost,\n                className: \"px-6 py-2.5 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center space-x-2\",\n                children: [creatingPost && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1294,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: creatingPost ? 'Posting...' : 'Share Post'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1296,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1288,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1281,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1267,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1203,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1187,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1186,\n      columnNumber: 9\n    }, this), showFollowSearch && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between p-6 border-b border-gray-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-gray-900\",\n            children: \"Discover People & Groups\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1311,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowFollowSearch(false);\n              setSearchQuery('');\n              setSearchResults({\n                users: [],\n                groups: [],\n                hasMore: false,\n                total: 0\n              });\n              setActiveSearchTab('all');\n              setSearchOffset(0);\n            },\n            className: \"text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-full transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1322,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1312,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1310,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search for people, groups, or interests...\",\n              value: searchQuery,\n              onChange: e => {\n                setSearchQuery(e.target.value);\n                searchUsersAndGroups(e.target.value);\n              },\n              className: \"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-300\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1329,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1328,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-1 mb-6 bg-gray-100 rounded-lg p-1\",\n            children: [{\n              key: 'all',\n              label: 'All',\n              count: searchResults.users.length + searchResults.groups.length\n            }, {\n              key: 'users',\n              label: 'People',\n              count: searchResults.users.length\n            }, {\n              key: 'groups',\n              label: 'Groups',\n              count: searchResults.groups.length\n            }].map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setActiveSearchTab(tab.key),\n              className: `flex-1 px-4 py-2 rounded-md text-sm font-medium transition-colors ${activeSearchTab === tab.key ? 'bg-white text-orange-600 shadow-sm' : 'text-gray-600 hover:text-gray-900'}`,\n              children: [tab.label, \" \", tab.count > 0 && `(${tab.count})`]\n            }, tab.key, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1348,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1342,\n            columnNumber: 15\n          }, this), searchLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-center py-12\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1364,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1363,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [(activeSearchTab === 'all' || activeSearchTab === 'users') && searchResults.users.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [activeSearchTab === 'all' && /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold text-gray-900 mb-3 flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-2 h-2 bg-orange-500 rounded-full mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1373,\n                  columnNumber: 27\n                }, this), \"People\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1372,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3\",\n                children: searchResults.users.map(user => {\n                  var _user$first_name5, _user$username5;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-between p-4 hover:bg-gray-50 rounded-xl transition-colors border border-gray-100\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center space-x-4\",\n                      children: [user.profile_picture ? /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: user.profile_picture,\n                        alt: `${user.first_name} ${user.last_name}`,\n                        className: \"w-12 h-12 rounded-full object-cover\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1382,\n                        columnNumber: 33\n                      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-12 h-12 rounded-full bg-gradient-to-r from-orange-500 to-red-500 flex items-center justify-center text-white font-semibold\",\n                        children: (user === null || user === void 0 ? void 0 : (_user$first_name5 = user.first_name) === null || _user$first_name5 === void 0 ? void 0 : _user$first_name5.charAt(0)) || (user === null || user === void 0 ? void 0 : (_user$username5 = user.username) === null || _user$username5 === void 0 ? void 0 : _user$username5.charAt(0)) || 'U'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1388,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"font-semibold text-gray-900\",\n                          children: [(user === null || user === void 0 ? void 0 : user.first_name) || 'Unknown', \" \", (user === null || user === void 0 ? void 0 : user.last_name) || 'User']\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1393,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-sm text-gray-500\",\n                          children: [\"@\", user.username]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1396,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-xs text-gray-400\",\n                          children: [user.posts_count, \" posts\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1397,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1392,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1380,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => handleVisitProfile(user.id, user.username),\n                        className: \"px-3 py-2 text-gray-600 hover:text-orange-600 hover:bg-orange-50 rounded-lg font-medium transition-all duration-200\",\n                        children: \"View Profile\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1401,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => handleFollow(user.id),\n                        className: `px-4 py-2 rounded-lg font-medium transition-all duration-200 ${user.is_following ? 'bg-gray-200 text-gray-700 hover:bg-gray-300' : 'bg-gradient-to-r from-orange-500 to-orange-600 text-white hover:from-orange-600 hover:to-orange-700 shadow-md hover:shadow-lg'}`,\n                        children: user.is_following ? 'Following' : 'Follow'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1407,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1400,\n                      columnNumber: 29\n                    }, this)]\n                  }, user.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1379,\n                    columnNumber: 27\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1377,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1370,\n              columnNumber: 21\n            }, this), (activeSearchTab === 'all' || activeSearchTab === 'groups') && searchResults.groups.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: activeSearchTab === 'all' && searchResults.users.length > 0 ? 'mt-8' : '',\n              children: [activeSearchTab === 'all' && /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold text-gray-900 mb-3 flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-2 h-2 bg-blue-500 rounded-full mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1429,\n                  columnNumber: 27\n                }, this), \"Groups\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1428,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3\",\n                children: searchResults.groups.map(group => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between p-4 hover:bg-gray-50 rounded-xl transition-colors border border-gray-100\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-12 h-12 rounded-xl bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white text-xl shadow-md\",\n                      children: group.image\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1437,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-semibold text-gray-900\",\n                        children: group.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1441,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-sm text-gray-500\",\n                        children: group.description\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1442,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs text-gray-400\",\n                        children: [group.members_count.toLocaleString(), \" members\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1443,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1440,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1436,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleJoinGroup(group.id, group.name),\n                      className: \"px-3 py-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg font-medium transition-all duration-200\",\n                      children: \"View Group\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1447,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleJoinGroup(group.id, group.name),\n                      className: `px-4 py-2 rounded-lg font-medium transition-all duration-200 ${group.is_member ? 'bg-gray-200 text-gray-700 hover:bg-gray-300' : 'bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:from-blue-600 hover:to-purple-600 shadow-md hover:shadow-lg'}`,\n                      children: group.is_member ? 'Member' : 'Join'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1453,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1446,\n                    columnNumber: 29\n                  }, this)]\n                }, group.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1435,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1433,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1426,\n              columnNumber: 21\n            }, this), !searchLoading && searchResults.hasMore && (searchResults.users.length > 0 || searchResults.groups.length > 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-4\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: loadMoreResults,\n                className: \"px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all duration-200 font-medium shadow-md hover:shadow-lg transform hover:scale-105\",\n                children: [\"See More Results (\", searchResults.total - searchResults.users.length - searchResults.groups.length, \" more)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1473,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1472,\n              columnNumber: 21\n            }, this), !searchLoading && searchQuery && searchResults.users.length === 0 && searchResults.groups.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\",\n                children: /*#__PURE__*/_jsxDEV(MessageCircle, {\n                  className: \"w-8 h-8 text-gray-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1486,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1485,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-medium text-gray-900 mb-2\",\n                children: \"No results found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1488,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500\",\n                children: \"Try searching for different keywords or check your spelling.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1489,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1484,\n              columnNumber: 21\n            }, this), !searchQuery && searchResults.users.length === 0 && searchResults.groups.length === 0 && !searchLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4\",\n                children: /*#__PURE__*/_jsxDEV(MessageCircle, {\n                  className: \"w-8 h-8 text-orange-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1497,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1496,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-medium text-gray-900 mb-2\",\n                children: \"Discover Amazing People & Groups\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1499,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500 mb-4\",\n                children: \"Search for people to follow or groups to join based on your interests.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1500,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => searchUsersAndGroups(''),\n                className: \"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors\",\n                children: \"Show Recent Users\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1501,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1495,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1367,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1326,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1308,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1307,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(Feed, \"txWwupt7LJseHFxafWTHIq6Ofdw=\", false, function () {\n  return [useAuth, usePostPersistence];\n});\n_c = Feed;\nexport default Feed;\nvar _c;\n$RefreshReg$(_c, \"Feed\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useAuth","Heart","MessageCircle","Share","MoreHorizontal","PenTool","Bookmark","Image","X","ChevronLeft","ChevronRight","formatDistanceToNow","format","startOfMonth","endOfMonth","eachDayOfInterval","isToday","addMonths","subMonths","diaryAPI","mealsAPI","profileAPI","socialAPI","usePostPersistence","jsxDEV","_jsxDEV","Fragment","_Fragment","Feed","_s","_user$first_name","_user$username","_profileData$profile","_profileData$profile2","_profileData$profile3","_user$first_name2","_user$username2","_user$first_name4","_user$username4","user","posts","setPosts","localPosts","savePostLocally","mergeWithServerPosts","clearLocalPosts","loading","setLoading","creatingPost","setCreatingPost","showCreatePost","setShowCreatePost","newPost","setNewPost","content","imageFile","mealData","allowComments","hideLikeCount","expandedComments","setExpandedComments","Set","comments","setComments","newComments","setNewComments","loadingComments","setLoadingComments","profileData","setProfileData","todayNutrition","setTodayNutrition","currentDate","setCurrentDate","Date","monthData","setMonthData","sidebarLoading","setSidebarLoading","showFollowSearch","setShowFollowSearch","searchQuery","setSearchQuery","searchResults","setSearchResults","users","groups","hasMore","total","searchLoading","setSearchLoading","activeSearchTab","setActiveSearchTab","searchOffset","setSearchOffset","formatPostDate","dateString","postDate","isNaN","getTime","console","warn","today","toDateString","toLocaleTimeString","hour","minute","hour12","addSuffix","error","loadMonthData","_response$data$days","_response$data$days$f","year","getFullYear","month","getMonth","log","response","data","days","filter","d","has_data","length","loadSidebarData","profileResponse","get","_profileResponse$data","_profileResponse$data2","_profileResponse$data3","profile","posts_count","followers","followers_count","following","following_count","toISOString","split","mealsResponse","getByDate","meals","_profileResponse$data4","_profileResponse$data5","totalCalories","reduce","sum","meal","calories","totalProtein","protein","totalCarbs","carbs","totalFat","fat","nutritionData","calorieGoal","daily_calories","proteinGoal","daily_protein","_profileResponse$data6","_profileResponse$data7","loadPosts","JSON","parse","localStorage","getItem","getFeed","serverPosts","Array","isArray","mergedPosts","handleLike","postId","likePost","prevPosts","postsArray","map","post","id","is_liked","likes_count","alert","handleBookmark","bookmarkPost","is_bookmarked","toggleComments","has","prev","newSet","delete","add","getComments","handleAddComment","_newComments$postId","trim","addComment","newComment","comments_count","handleCreatePost","instantPost","now","image_url","meal_data","username","first_name","last_name","profile_picture","created_at","allow_comments","hide_like_count","_status","_serverResponse","_serverResponse2","_serverResponse2$post","_serverResponse3","_serverResponse4","_serverResponse4$post","formData","FormData","append","toString","stringify","serverSuccess","serverResponse","createPost","status","apiError","authData","token","directResponse","fetch","process","env","REACT_APP_API_URL","method","headers","body","ok","json","directError","finalPost","imageUrl","_serverSaved","p","window","dispatchEvent","CustomEvent","detail","handleImageUpload","event","_event$target$files","file","target","files","searchUsersAndGroups","query","loadMore","offset","search","loadMoreResults","handleFollow","userId","followUser","is_following","handleVisitProfile","handleJoinGroup","groupId","groupName","handleMealDataChanged","handleStorageChange","e","key","addEventListener","removeEventListener","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","charAt","onClick","style","width","Math","min","round","day","start","end","_monthData$days","dayData","find","date","getDate","hasData","isCurrentDay","_post$user","_post$user$first_name","_post$user2","_post$user2$username","_post$user3","_post$user4","_user$first_name3","_user$username3","_newComments$post$id","_comments$post$id","type","placeholder","value","onChange","onKeyPress","disabled","comment","_comment$user","_comment$user$first_n","_comment$user2","_comment$user2$userna","_comment$user3","_comment$user4","rows","URL","createObjectURL","checked","accept","label","count","tab","_user$first_name5","_user$username5","group","image","name","description","members_count","toLocaleString","is_member","_c","$RefreshReg$"],"sources":["C:/Users/arian/OneDrive/Desktop/Nutrition/client/src/components/Feed.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { Heart, MessageCircle, Share, MoreHorizontal, PenTool, Bookmark, Image, X, ChevronLeft, ChevronRight } from 'lucide-react';\r\nimport { formatDistanceToNow, format, startOfMonth, endOfMonth, eachDayOfInterval, isToday, addMonths, subMonths } from 'date-fns';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { diaryAPI, mealsAPI, profileAPI, socialAPI } from '../services/api';\r\nimport { usePostPersistence } from '../hooks/usePostPersistence';\r\n\r\ninterface Post {\r\n  id: number;\r\n  content: string;\r\n  image_url: string | null;\r\n  meal_data: any;\r\n  likes_count: number;\r\n  comments_count: number;\r\n  is_liked: boolean;\r\n  is_bookmarked: boolean;\r\n  allow_comments?: boolean;\r\n  hide_like_count?: boolean;\r\n  created_at: string;\r\n  user: {\r\n    id: number;\r\n    username: string;\r\n    first_name: string;\r\n    last_name: string;\r\n    profile_picture?: string;\r\n  };\r\n}\r\n\r\ninterface Comment {\r\n  id: number;\r\n  content: string;\r\n  created_at: string;\r\n  user: {\r\n    id: number;\r\n    username: string;\r\n    first_name: string;\r\n    last_name: string;\r\n    profile_picture?: string;\r\n  };\r\n}\r\n\r\nconst Feed: React.FC = () => {\r\n  const { user } = useAuth();\r\n  // const navigate = useNavigate(); // Unused\r\n  const [posts, setPosts] = useState<Post[]>([]);\r\n  const { localPosts, savePostLocally, mergeWithServerPosts, clearLocalPosts } = usePostPersistence();\r\n  const [loading, setLoading] = useState(true);\r\n  const [creatingPost, setCreatingPost] = useState(false);\r\n  const [showCreatePost, setShowCreatePost] = useState(false);\r\n  const [newPost, setNewPost] = useState({ \r\n    content: '', \r\n    imageFile: null as File | null, \r\n    mealData: null,\r\n    allowComments: true,\r\n    hideLikeCount: false\r\n  });\r\n  const [expandedComments, setExpandedComments] = useState<Set<number>>(new Set());\r\n  const [comments, setComments] = useState<{ [postId: number]: Comment[] }>({});\r\n  const [newComments, setNewComments] = useState<{ [postId: number]: string }>({});\r\n  const [loadingComments, setLoadingComments] = useState<Set<number>>(new Set());\r\n  \r\n  // Sidebar data states\r\n  const [profileData, setProfileData] = useState<any>(null);\r\n  const [todayNutrition, setTodayNutrition] = useState<any>(null);\r\n  const [currentDate, setCurrentDate] = useState(new Date());\r\n  const [monthData, setMonthData] = useState<any>(null);\r\n  const [sidebarLoading, setSidebarLoading] = useState(true);\r\n  \r\n  // Search states - Enhanced\r\n  const [showFollowSearch, setShowFollowSearch] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [searchResults, setSearchResults] = useState<{users: any[], groups: any[], hasMore: boolean, total: number}>({users: [], groups: [], hasMore: false, total: 0});\r\n  const [searchLoading, setSearchLoading] = useState(false);\r\n  const [activeSearchTab, setActiveSearchTab] = useState<'all' | 'users' | 'groups'>('all');\r\n  const [searchOffset, setSearchOffset] = useState(0);\r\n\r\n  const formatPostDate = (dateString: string) => {\r\n    // Handle invalid or missing date strings\r\n    if (!dateString) {\r\n      return 'Just now';\r\n    }\r\n\r\n    const postDate = new Date(dateString);\r\n    \r\n    // Check if the date is valid\r\n    if (isNaN(postDate.getTime())) {\r\n      console.warn('Invalid date string:', dateString);\r\n      return 'Just now';\r\n    }\r\n\r\n    const today = new Date();\r\n    const isToday = postDate.toDateString() === today.toDateString();\r\n    \r\n    if (isToday) {\r\n      return `Today at ${postDate.toLocaleTimeString('en-US', { \r\n        hour: 'numeric', \r\n        minute: '2-digit', \r\n        hour12: true \r\n      })}`;\r\n    } else {\r\n      try {\r\n        return formatDistanceToNow(postDate, { addSuffix: true });\r\n      } catch (error) {\r\n        console.warn('Error formatting date distance:', error);\r\n        return 'Recently';\r\n      }\r\n    }\r\n  };\r\n\r\n  const loadMonthData = useCallback(async () => {\r\n    try {\r\n      const year = currentDate.getFullYear();\r\n      const month = currentDate.getMonth() + 1;\r\n      \r\n      console.log('ðŸ“… Feed Calendar: Loading month data for:', { year, month });\r\n      \r\n      // Use the EXACT same API call as Diary component\r\n      const response = await diaryAPI.getMonth(year, month);\r\n      \r\n      console.log('ðŸ“… Feed Calendar: Response received:', response.data);\r\n      console.log('ðŸ“… Feed Calendar: Days with data:', response.data.days?.filter((d: any) => d.has_data)?.length || 0);\r\n      \r\n      setMonthData(response.data);\r\n    } catch (error) {\r\n      console.error('ðŸ“… Feed Calendar: Error loading month data:', error);\r\n      setMonthData(null);\r\n    }\r\n  }, [currentDate]);\r\n\r\n  const loadSidebarData = useCallback(async () => {\r\n    if (!user) return;\r\n    \r\n    setSidebarLoading(true);\r\n    try {\r\n      console.log('ðŸ“Š Feed: Loading sidebar data...');\r\n      \r\n      // Load profile data using the same API as Overview - FIXED\r\n      const profileResponse = await profileAPI.get();\r\n      console.log('ðŸ“Š Feed: Full profile response:', profileResponse.data);\r\n      \r\n      if (profileResponse.data) {\r\n        setProfileData(profileResponse.data);\r\n        console.log('ðŸ“Š Feed: Profile data set:', {\r\n          posts: profileResponse.data.profile?.posts_count,\r\n          followers: profileResponse.data.profile?.followers_count,\r\n          following: profileResponse.data.profile?.following_count\r\n        });\r\n      }\r\n\r\n      // Load today's nutrition using EXACT same method as Overview - FIXED\r\n      const today = new Date().toISOString().split('T')[0];\r\n      console.log('ðŸ“Š Feed: Loading meals for date:', today);\r\n      \r\n      const mealsResponse = await mealsAPI.getByDate(today);\r\n      console.log('ðŸ“Š Feed: Raw meals response:', mealsResponse);\r\n      console.log('ðŸ“Š Feed: Meals data:', mealsResponse.data);\r\n      \r\n      if (mealsResponse.data && mealsResponse.data.meals) {\r\n        // Calculate totals from meals (EXACT same as Overview)\r\n        const meals = mealsResponse.data.meals || [];\r\n        console.log('ðŸ“Š Feed: Processing meals:', meals.length, 'meals found');\r\n        \r\n        const totalCalories = meals.reduce((sum: number, meal: any) => {\r\n          console.log('ðŸ“Š Feed: Meal calories:', meal.calories);\r\n          return sum + (meal.calories || 0);\r\n        }, 0);\r\n        const totalProtein = meals.reduce((sum: number, meal: any) => sum + (meal.protein || 0), 0);\r\n        const totalCarbs = meals.reduce((sum: number, meal: any) => sum + (meal.carbs || 0), 0);\r\n        const totalFat = meals.reduce((sum: number, meal: any) => sum + (meal.fat || 0), 0);\r\n        \r\n        // Create nutrition data object (same structure as Overview)\r\n        const nutritionData = {\r\n          totalCalories: totalCalories,\r\n          totalProtein: totalProtein,\r\n          totalCarbs: totalCarbs,\r\n          totalFat: totalFat,\r\n          calorieGoal: profileResponse.data.profile?.daily_calories || 2000,\r\n          proteinGoal: profileResponse.data.profile?.daily_protein || 150,\r\n        };\r\n        \r\n        console.log('ðŸ“Š Feed: Final calculated nutrition data:', nutritionData);\r\n        setTodayNutrition(nutritionData);\r\n      } else {\r\n        console.log('ðŸ“Š Feed: No meals data found, setting empty nutrition');\r\n        setTodayNutrition({\r\n          totalCalories: 0,\r\n          totalProtein: 0,\r\n          totalCarbs: 0,\r\n          totalFat: 0,\r\n          calorieGoal: profileResponse.data.profile?.daily_calories || 2000,\r\n          proteinGoal: profileResponse.data.profile?.daily_protein || 150,\r\n        });\r\n      }\r\n\r\n      // Load month data for calendar - FIXED\r\n      await loadMonthData();\r\n      \r\n    } catch (error) {\r\n      console.error('ðŸ“Š Feed: Error loading sidebar data:', error);\r\n      // Set default nutrition data on error\r\n      setTodayNutrition({\r\n        totalCalories: 0,\r\n        totalProtein: 0,\r\n        totalCarbs: 0,\r\n        totalFat: 0,\r\n        calorieGoal: 2000,\r\n        proteinGoal: 150,\r\n      });\r\n    } finally {\r\n      setSidebarLoading(false);\r\n    }\r\n  }, [user, loadMonthData]);\r\n\r\n  const loadPosts = async () => {\r\n    try {\r\n      console.log('ðŸ“¡ Loading posts from feed...');\r\n      console.log('ðŸ’¾ Current localStorage posts:', JSON.parse(localStorage.getItem('nutritrack_local_posts') || '[]'));\r\n      \r\n      // Always show local posts first for instant UI\r\n      if (localPosts.length > 0) {\r\n        console.log('âš¡ Showing local posts immediately:', localPosts.length);\r\n        setPosts(localPosts);\r\n      }\r\n      \r\n      const response = await socialAPI.getFeed();\r\n      console.log('ðŸ“¡ Feed response:', response);\r\n      \r\n      if (response && response.data) {\r\n        console.log('âœ… Posts loaded successfully:', response.data);\r\n        // Ensure response.data is an array\r\n        let serverPosts = [];\r\n        if (Array.isArray(response.data)) {\r\n          serverPosts = response.data;\r\n        } else if (response.data.posts && Array.isArray(response.data.posts)) {\r\n          serverPosts = response.data.posts;\r\n        }\r\n        \r\n        console.log('ðŸ”„ Server returned', serverPosts.length, 'posts');\r\n        console.log('ðŸ’¾ Local posts:', localPosts.length);\r\n        \r\n        // ALWAYS merge server and local posts properly - this preserves ALL posts\r\n        const mergedPosts = mergeWithServerPosts(serverPosts);\r\n        console.log('âœ… Merged posts:', mergedPosts.length, 'total posts');\r\n        setPosts(mergedPosts);\r\n      } else {\r\n        console.warn('âš ï¸ No data in feed response');\r\n        // Keep existing posts if server fails\r\n        if (localPosts.length > 0) {\r\n          console.log('ðŸ“± Using local posts as fallback:', localPosts.length);\r\n          setPosts(localPosts);\r\n        } else {\r\n          setPosts([]);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('âŒ Error loading posts:', error);\r\n      // On error, keep existing posts\r\n      if (localPosts.length > 0) {\r\n        console.log('ðŸ“± Using local posts due to error:', localPosts.length);\r\n        setPosts(localPosts);\r\n      } else {\r\n        setPosts([]);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLike = async (postId: number) => {\r\n    try {\r\n      console.log('ðŸ‘ Toggling like for post:', postId);\r\n      const response = await socialAPI.likePost(postId);\r\n      console.log('ðŸ‘ Like response:', response.data);\r\n      \r\n      // Update local state optimistically\r\n      setPosts(prevPosts => {\r\n        const postsArray = Array.isArray(prevPosts) ? prevPosts : [];\r\n        return postsArray.map(post => \r\n          post.id === postId \r\n            ? { \r\n                ...post, \r\n                is_liked: !post.is_liked,\r\n                likes_count: post.is_liked ? post.likes_count - 1 : post.likes_count + 1\r\n              }\r\n            : post\r\n        );\r\n      });\r\n    } catch (error) {\r\n      console.error('âŒ Error liking post:', error);\r\n      alert('Failed to like post. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleBookmark = async (postId: number) => {\r\n    try {\r\n      console.log('ðŸ”– Toggling bookmark for post:', postId);\r\n      const response = await socialAPI.bookmarkPost(postId);\r\n      console.log('ðŸ”– Bookmark response:', response.data);\r\n      \r\n      // Update local state optimistically\r\n      setPosts(prevPosts => {\r\n        const postsArray = Array.isArray(prevPosts) ? prevPosts : [];\r\n        return postsArray.map(post => \r\n          post.id === postId \r\n            ? { ...post, is_bookmarked: !post.is_bookmarked }\r\n            : post\r\n        );\r\n      });\r\n    } catch (error) {\r\n      console.error('âŒ Error bookmarking post:', error);\r\n      alert('Failed to bookmark post. Please try again.');\r\n    }\r\n  };\r\n\r\n  const toggleComments = async (postId: number) => {\r\n    if (expandedComments.has(postId)) {\r\n      setExpandedComments(prev => {\r\n        const newSet = new Set(prev);\r\n        newSet.delete(postId);\r\n        return newSet;\r\n      });\r\n    } else {\r\n      setExpandedComments(prev => {\r\n        const newSet = new Set(prev);\r\n        newSet.add(postId);\r\n        return newSet;\r\n      });\r\n      \r\n      if (!comments[postId]) {\r\n        setLoadingComments(prev => {\r\n          const newSet = new Set(prev);\r\n          newSet.add(postId);\r\n          return newSet;\r\n        });\r\n        \r\n        try {\r\n          console.log('ðŸ’¬ Loading comments for post:', postId);\r\n          const response = await socialAPI.getComments(postId);\r\n          \r\n          if (response && response.data) {\r\n            console.log('âœ… Comments loaded:', response.data);\r\n            setComments(prev => ({ ...prev, [postId]: response.data }));\r\n          }\r\n        } catch (error) {\r\n          console.error('âŒ Error loading comments:', error);\r\n        } finally {\r\n          setLoadingComments(prev => {\r\n            const newSet = new Set(prev);\r\n            newSet.delete(postId);\r\n            return newSet;\r\n          });\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleAddComment = async (postId: number) => {\r\n    const content = newComments[postId]?.trim();\r\n    if (!content) return;\r\n\r\n    try {\r\n      console.log('ðŸ’¬ Adding comment to post:', postId, 'Content:', content);\r\n      const response = await socialAPI.addComment(postId, content);\r\n      \r\n      if (response && response.data) {\r\n        console.log('âœ… Comment added:', response.data);\r\n        const newComment = response.data;\r\n        setComments(prev => ({\r\n          ...prev,\r\n          [postId]: [...(prev[postId] || []), newComment]\r\n        }));\r\n        setNewComments(prev => ({ ...prev, [postId]: '' }));\r\n        \r\n        setPosts(prevPosts => {\r\n          const postsArray = Array.isArray(prevPosts) ? prevPosts : [];\r\n          return postsArray.map(post => \r\n            post.id === postId \r\n              ? { ...post, comments_count: post.comments_count + 1 }\r\n              : post\r\n          );\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('âŒ Error adding comment:', error);\r\n    }\r\n  };\r\n\r\n  const handleCreatePost = async () => {\r\n    console.log('ðŸ›¡ï¸ BULLETPROOF POST CREATION v2.0 STARTING...');\r\n    console.log('ðŸ“ Current newPost state:', newPost);\r\n    \r\n    // BULLETPROOF VALIDATION\r\n    if (!newPost.content.trim() && !newPost.imageFile) {\r\n      alert('Please enter some content or add an image before posting.');\r\n      return;\r\n    }\r\n\r\n    if (!user?.id) {\r\n      alert('You must be logged in to create a post.');\r\n      return;\r\n    }\r\n\r\n    setCreatingPost(true);\r\n\r\n    // BULLETPROOF: Create post immediately for instant UI feedback\r\n    const instantPost = {\r\n      id: Date.now(),\r\n      content: newPost.content.trim(),\r\n      image_url: null,\r\n      meal_data: newPost.mealData,\r\n      user: {\r\n        id: user.id,\r\n        username: user.username || `user${user.id}`,\r\n        first_name: user.first_name || 'User',\r\n        last_name: user.last_name || 'User',\r\n        profile_picture: user.profile_picture\r\n      },\r\n      created_at: new Date().toISOString(),\r\n      likes_count: 0,\r\n      comments_count: 0,\r\n      is_liked: false,\r\n      is_bookmarked: false,\r\n      allow_comments: newPost.allowComments,\r\n      hide_like_count: newPost.hideLikeCount,\r\n      _status: 'creating'\r\n    };\r\n\r\n    // Show post immediately\r\n    console.log('âš¡ Adding post to feed immediately for instant feedback');\r\n    setPosts(prevPosts => {\r\n      const postsArray = Array.isArray(prevPosts) ? prevPosts : [];\r\n      return [instantPost, ...postsArray];\r\n    });\r\n\r\n    // Reset form immediately for better UX\r\n    setNewPost({\r\n      content: '',\r\n      imageFile: null,\r\n      mealData: null,\r\n      allowComments: true,\r\n      hideLikeCount: false\r\n    });\r\n    setShowCreatePost(false);\r\n\r\n    // BULLETPROOF: Try to save to server in background\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('content', instantPost.content);\r\n      formData.append('allow_comments', instantPost.allow_comments.toString());\r\n      formData.append('hide_like_count', instantPost.hide_like_count.toString());\r\n    \r\n    if (newPost.imageFile) {\r\n      formData.append('image', newPost.imageFile);\r\n    }\r\n    \r\n    if (newPost.mealData) {\r\n      formData.append('meal_data', JSON.stringify(newPost.mealData));\r\n    }\r\n    \r\n      console.log('ðŸš€ Attempting to save to server...');\r\n\r\n      // Try multiple methods to save to server\r\n      let serverSuccess = false;\r\n      let serverResponse = null;\r\n\r\n      // Method 1: socialAPI\r\n      try {\r\n        const response = await socialAPI.createPost(formData);\r\n        if (response && (response.status === 200 || response.status === 201) && response.data) {\r\n          serverSuccess = true;\r\n          serverResponse = response.data;\r\n          console.log('âœ… socialAPI SUCCESS');\r\n        }\r\n      } catch (apiError) {\r\n        console.warn('âš ï¸ socialAPI failed:', apiError);\r\n      }\r\n\r\n      // Method 2: Direct fetch\r\n      if (!serverSuccess) {\r\n        try {\r\n        const authData = JSON.parse(localStorage.getItem('nutritrack_auth_data') || '{}');\r\n        const token = authData.token || localStorage.getItem('token');\r\n        \r\n          if (token) {\r\n        const directResponse = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-backend-9k3a.onrender.com'}/api/social/posts`, {\r\n          method: 'POST',\r\n              headers: { 'Authorization': `Bearer ${token}` },\r\n          body: formData\r\n        });\r\n        \r\n            if (directResponse.ok) {\r\n              serverResponse = await directResponse.json();\r\n              serverSuccess = true;\r\n              console.log('âœ… Direct fetch SUCCESS');\r\n            }\r\n          }\r\n        } catch (directError) {\r\n          console.warn('âš ï¸ Direct fetch failed:', directError);\r\n        }\r\n      }\r\n\r\n      // Update the post in the feed with server data or keep as local\r\n      const finalPost = {\r\n        ...instantPost,\r\n        id: serverResponse?.postId || serverResponse?.post?.id || instantPost.id,\r\n        image_url: serverResponse?.imageUrl || serverResponse?.post?.image_url || null,\r\n        _status: serverSuccess ? 'saved' : 'local-only',\r\n        _serverSaved: serverSuccess\r\n      };\r\n\r\n      // Update the existing post in the feed\r\n        setPosts(prevPosts => {\r\n          const postsArray = Array.isArray(prevPosts) ? prevPosts : [];\r\n        return postsArray.map(p => \r\n          p.id === instantPost.id ? finalPost : p\r\n        );\r\n      });\r\n\r\n      // Save for persistence\r\n      savePostLocally(finalPost);\r\n\r\n      if (serverSuccess) {\r\n        console.log('ðŸŽ‰ POST SAVED TO SERVER SUCCESSFULLY');\r\n        window.dispatchEvent(new CustomEvent('postCreated', { detail: finalPost }));\r\n      } else {\r\n        console.log('ðŸ“± POST SAVED LOCALLY - Will sync when server available');\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('ðŸ’¥ Background server save failed:', error);\r\n      // Don't show error to user - post is already visible\r\n      console.log('ðŸ“± Post remains local-only due to server issues');\r\n    } finally {\r\n      setCreatingPost(false);\r\n      console.log('âœ… BULLETPROOF POST CREATION COMPLETED');\r\n    }\r\n  };\r\n\r\n  const handleImageUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (file) {\r\n      setNewPost(prev => ({ ...prev, imageFile: file }));\r\n    }\r\n  };\r\n\r\n  const searchUsersAndGroups = async (query: string, loadMore = false) => {\r\n    const offset = loadMore ? searchOffset : 0;\r\n    \r\n    if (!loadMore) {\r\n      setSearchOffset(0);\r\n      if (!query.trim()) {\r\n        // Load initial users even without query\r\n        setSearchLoading(true);\r\n        try {\r\n          console.log('ðŸ” Loading initial users...');\r\n          const response = await socialAPI.search('', 5, 0);\r\n          \r\n          if (response && response.data) {\r\n            console.log('ðŸ” Initial results:', response.data);\r\n            setSearchResults({\r\n              users: response.data.users || [],\r\n              groups: response.data.groups || [],\r\n              hasMore: response.data.hasMore || false,\r\n              total: response.data.total || 0\r\n            });\r\n          }\r\n        } catch (error) {\r\n          console.error('Error loading initial users:', error);\r\n          setSearchResults({users: [], groups: [], hasMore: false, total: 0});\r\n        } finally {\r\n          setSearchLoading(false);\r\n        }\r\n        return;\r\n      }\r\n    }\r\n\r\n    setSearchLoading(true);\r\n    try {\r\n      console.log('ðŸ” Searching for:', query, 'offset:', offset);\r\n      const response = await socialAPI.search(query, 5, offset);\r\n      \r\n      if (response && response.data) {\r\n        console.log('ðŸ” Search results:', response.data);\r\n        \r\n        if (loadMore) {\r\n          // Append to existing results\r\n          setSearchResults(prev => ({\r\n            users: [...prev.users, ...(response.data.users || [])],\r\n            groups: [...prev.groups, ...(response.data.groups || [])],\r\n            hasMore: response.data.hasMore || false,\r\n            total: response.data.total || 0\r\n          }));\r\n          setSearchOffset(prev => prev + 5);\r\n        } else {\r\n          // Replace results\r\n          setSearchResults({\r\n            users: response.data.users || [],\r\n            groups: response.data.groups || [],\r\n            hasMore: response.data.hasMore || false,\r\n            total: response.data.total || 0\r\n          });\r\n          setSearchOffset(5);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error searching:', error);\r\n      if (!loadMore) {\r\n        setSearchResults({users: [], groups: [], hasMore: false, total: 0});\r\n      }\r\n    } finally {\r\n      setSearchLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadMoreResults = () => {\r\n    if (!searchLoading && searchResults.hasMore) {\r\n      searchUsersAndGroups(searchQuery, true);\r\n    }\r\n  };\r\n\r\n  const handleFollow = async (userId: number) => {\r\n    try {\r\n      console.log('ðŸ‘¥ Following/unfollowing user:', userId);\r\n      const response = await socialAPI.followUser(userId);\r\n      \r\n      if (response) {\r\n        console.log('ðŸ‘¥ Follow response:', response.data);\r\n        // Update the search results to reflect the new follow status\r\n        setSearchResults(prev => ({\r\n          ...prev,\r\n          users: prev.users.map(user =>\r\n            user.id === userId\r\n              ? { ...user, is_following: !user.is_following }\r\n              : user\r\n          )\r\n        }));\r\n      }\r\n    } catch (error) {\r\n      console.error('Error following user:', error);\r\n    }\r\n  };\r\n\r\n  const handleVisitProfile = (userId: number, username: string) => {\r\n    console.log('ðŸ‘¤ Visiting profile for user:', userId, username);\r\n    // For now, just close the modal and show a message\r\n    setShowFollowSearch(false);\r\n    alert(`Profile visit for @${username} - This will navigate to their profile page when implemented!`);\r\n  };\r\n\r\n  const handleJoinGroup = (groupId: number, groupName: string) => {\r\n    console.log('ðŸ˜ï¸ Joining group:', groupId, groupName);\r\n    alert(`Joining group \"${groupName}\" - Group functionality will be implemented soon!`);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      console.log('ðŸ”§ Feed: Loading posts...');\r\n      // First, immediately show local posts if available\r\n      if (localPosts.length > 0) {\r\n        console.log('âš¡ Feed: Showing local posts immediately:', localPosts.length);\r\n        setPosts(localPosts);\r\n      }\r\n      // Then load from server and merge\r\n      loadPosts();\r\n    }\r\n  }, [user, localPosts]); // Functions are stable\r\n\r\n  // Debug posts state changes\r\n  useEffect(() => {\r\n    console.log('ðŸŽ¯ Posts state changed:', posts.length, 'posts');\r\n    console.log('ðŸ“Š Current posts:', posts);\r\n  }, [posts]);\r\n\r\n  useEffect(() => {\r\n    console.log('ðŸ”§ Feed: Month data effect triggered');\r\n    loadMonthData();\r\n  }, []); // Function is stable\r\n\r\n  // Force data load when user becomes available\r\n  useEffect(() => {\r\n    if (user) {\r\n      console.log('ðŸ”§ Feed: User available, loading data immediately...');\r\n      \r\n      // DON'T clear local posts on login - keep them for persistence\r\n      // if (localPosts.length > 0) {\r\n      //   console.log('ðŸ§¹ Clearing stale local posts to prevent duplicates');\r\n      //   clearLocalPosts();\r\n      // }\r\n      \r\n      loadSidebarData();\r\n      loadMonthData();\r\n      loadPosts();\r\n    }\r\n  }, [user]); // Functions are stable, removed localPosts.length dependency\r\n\r\n  // Enhanced automatic syncing with Overview page - IMPROVED\r\n  useEffect(() => {\r\n    const handleMealDataChanged = () => {\r\n      console.log('ðŸ“Š Feed: Meal data changed event received, auto-syncing...');\r\n      loadSidebarData();\r\n      loadMonthData(); // Also refresh calendar when meals change\r\n    };\r\n\r\n    const handleStorageChange = (e: StorageEvent) => {\r\n      if (e.key === 'mealAdded' || e.key === 'mealDeleted' || e.key === 'mealUpdated') {\r\n        console.log('ðŸ“Š Feed: Storage event detected, auto-syncing...');\r\n        handleMealDataChanged();\r\n      }\r\n    };\r\n\r\n    // Listen for custom events (same tab)\r\n    window.addEventListener('mealDataChanged', handleMealDataChanged);\r\n    window.addEventListener('mealAdded', handleMealDataChanged);\r\n    window.addEventListener('mealUpdated', handleMealDataChanged);\r\n    window.addEventListener('mealDeleted', handleMealDataChanged);\r\n    \r\n    // Listen for storage events (cross-tab)\r\n    window.addEventListener('storage', handleStorageChange);\r\n\r\n    // Also listen for sidebar refresh events from other components\r\n    window.addEventListener('sidebarRefresh', handleMealDataChanged);\r\n\r\n    return () => {\r\n      window.removeEventListener('mealDataChanged', handleMealDataChanged);\r\n      window.removeEventListener('mealAdded', handleMealDataChanged);\r\n      window.removeEventListener('mealUpdated', handleMealDataChanged);\r\n      window.removeEventListener('mealDeleted', handleMealDataChanged);\r\n      window.removeEventListener('storage', handleStorageChange);\r\n      window.removeEventListener('sidebarRefresh', handleMealDataChanged);\r\n    };\r\n  }, []); // Functions are stable\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"min-h-screen bg-gray-50\">\r\n        \r\n        {/* Three Column Layout */}\r\n        <div className=\"flex gap-6 max-w-7xl mx-auto p-6\">\r\n          \r\n          {/* Left Sidebar - Profile & Calendar */}\r\n          <div className=\"w-80 flex-shrink-0 sticky top-6 self-start space-y-6 max-h-[calc(100vh-3rem)] overflow-y-auto\">\r\n            \r\n            {/* Profile Card */}\r\n            <div className=\"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 relative overflow-hidden\">\r\n              {/* Subtle decorative elements */}\r\n              <div className=\"absolute top-0 right-0 w-16 h-16 bg-blue-50 rounded-full -translate-y-8 translate-x-8\"></div>\r\n              <div className=\"absolute bottom-0 left-0 w-12 h-12 bg-purple-50 rounded-full translate-y-6 -translate-x-6\"></div>\r\n              \r\n              <div className=\"relative text-center\">\r\n                {user?.profile_picture ? (\r\n                  <div className=\"relative inline-block\">\r\n                    <img \r\n                      src={user.profile_picture} \r\n                      alt=\"Profile\" \r\n                      className=\"w-20 h-20 rounded-full mx-auto mb-4 object-cover ring-3 ring-blue-100 shadow-md\"\r\n                    />\r\n                    <div className=\"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full border-3 border-white\"></div>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"relative inline-block\">\r\n                    <div className=\"w-20 h-20 rounded-full bg-blue-500 flex items-center justify-center text-white text-xl font-semibold mx-auto mb-4 ring-3 ring-blue-100 shadow-md\">\r\n                      {user?.first_name?.charAt(0) || user?.username?.charAt(0) || 'U'}\r\n                    </div>\r\n                    <div className=\"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full border-3 border-white\"></div>\r\n                  </div>\r\n                )}\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-1\">\r\n                  {user?.first_name} {user?.last_name}\r\n                </h3>\r\n                <p className=\"text-gray-500 mb-4\">@{user?.username}</p>\r\n                \r\n                {/* Stats */}\r\n                <div className=\"grid grid-cols-3 gap-4 mb-6\">\r\n                  <div className=\"text-center\">\r\n                    <div className=\"text-xl font-bold text-blue-600\">{profileData?.profile?.posts_count || 0}</div>\r\n                    <div className=\"text-xs text-gray-500\">Posts</div>\r\n                  </div>\r\n                  <div className=\"text-center\">\r\n                    <div className=\"text-xl font-bold text-green-600\">{profileData?.profile?.following_count || 0}</div>\r\n                    <div className=\"text-xs text-gray-500\">Following</div>\r\n                  </div>\r\n                  <div className=\"text-center\">\r\n                    <div className=\"text-xl font-bold text-purple-600\">{profileData?.profile?.followers_count || 0}</div>\r\n                    <div className=\"text-xs text-gray-500\">Followers</div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <button \r\n                  onClick={() => setShowFollowSearch(true)}\r\n                  className=\"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-2.5 px-4 rounded-xl hover:from-orange-600 hover:to-orange-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105\"\r\n                >\r\n                  Find People\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Today's Nutrition Card */}\r\n            <div className=\"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 relative overflow-hidden\">\r\n              <div className=\"absolute top-0 right-0 w-14 h-14 bg-green-50 rounded-full -translate-y-7 translate-x-7\"></div>\r\n              \r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4 relative\">Today's Nutrition</h3>\r\n              {todayNutrition ? (\r\n                <div className=\"space-y-4 relative\">\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className=\"text-gray-600\">Calories</span>\r\n                    <span className=\"font-semibold text-gray-900\">\r\n                      {todayNutrition.totalCalories || 0} / {todayNutrition.calorieGoal || 2000}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"w-full bg-gray-100 rounded-full h-2.5 shadow-inner\">\r\n                    <div \r\n                      className=\"bg-orange-500 h-2.5 rounded-full transition-all duration-300\" \r\n                      style={{ \r\n                        width: `${Math.min(100, ((todayNutrition.totalCalories || 0) / (todayNutrition.calorieGoal || 2000)) * 100)}%` \r\n                      }}\r\n                    ></div>\r\n                  </div>\r\n                  \r\n                  {/* Protein Progress */}\r\n                  <div className=\"flex justify-between items-center mt-4\">\r\n                    <span className=\"text-gray-600\">Protein</span>\r\n                    <span className=\"font-semibold text-gray-900\">\r\n                      {todayNutrition.totalProtein || 0}g / {todayNutrition.proteinGoal || 150}g\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"w-full bg-gray-100 rounded-full h-2.5 shadow-inner\">\r\n                    <div \r\n                      className=\"bg-green-500 h-2.5 rounded-full transition-all duration-300\" \r\n                      style={{ \r\n                        width: `${Math.min(100, ((todayNutrition.totalProtein || 0) / (todayNutrition.proteinGoal || 150)) * 100)}%` \r\n                      }}\r\n                    ></div>\r\n                  </div>\r\n                  \r\n                  {/* Macros - REMOVED PROTEIN RECTANGLE */}\r\n                  <div className=\"grid grid-cols-3 gap-2\">\r\n                    <div className=\"text-center bg-yellow-50 rounded-lg p-2\">\r\n                      <div className=\"text-yellow-600 font-semibold text-sm\">{todayNutrition.totalCarbs || 0}g</div>\r\n                      <div className=\"text-gray-500 text-xs\">Carbs</div>\r\n                    </div>\r\n                    <div className=\"text-center bg-red-50 rounded-lg p-2\">\r\n                      <div className=\"text-red-600 font-semibold text-sm\">{todayNutrition.totalFat || 0}g</div>\r\n                      <div className=\"text-gray-500 text-xs\">Fat</div>\r\n                    </div>\r\n                    <div className=\"text-center bg-blue-50 rounded-lg p-2\">\r\n                      <div className=\"text-blue-600 font-semibold text-sm\">{Math.round(((todayNutrition.totalCalories || 0) / (todayNutrition.calorieGoal || 2000)) * 100)}%</div>\r\n                      <div className=\"text-gray-500 text-xs\">Goal</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-gray-400 text-center py-6 relative\">No nutrition data for today</div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Calendar Streak Card */}\r\n            <div className=\"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 relative overflow-hidden\">\r\n              <div className=\"absolute bottom-0 left-0 w-16 h-16 bg-purple-50 rounded-full translate-y-8 -translate-x-8\"></div>\r\n              \r\n              <div className=\"flex items-center justify-between mb-4 relative\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">Calendar</h3>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <button \r\n                    onClick={() => setCurrentDate(subMonths(currentDate, 1))}\r\n                    className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                  >\r\n                    <ChevronLeft className=\"w-4 h-4 text-gray-500\" />\r\n                  </button>\r\n                  <button \r\n                    onClick={() => setCurrentDate(addMonths(currentDate, 1))}\r\n                    className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                  >\r\n                    <ChevronRight className=\"w-4 h-4 text-gray-500\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"text-center mb-3 relative\">\r\n                <div className=\"text-sm font-medium text-gray-900 bg-gray-50 rounded-lg py-2 px-3\">\r\n                  {format(currentDate, 'MMMM yyyy')}\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Calendar Grid */}\r\n              <div className=\"grid grid-cols-7 gap-1 text-xs relative\">\r\n                {['S', 'M', 'T', 'W', 'T', 'F', 'S'].map(day => (\r\n                  <div key={day} className=\"text-center p-2 text-gray-500 font-medium\">\r\n                    {day}\r\n                  </div>\r\n                ))}\r\n                {eachDayOfInterval({\r\n                  start: startOfMonth(currentDate),\r\n                  end: endOfMonth(currentDate)\r\n                }).map(day => {\r\n                  const dayData = monthData?.days?.find((d: any) => \r\n                    new Date(d.date).getDate() === day.getDate()\r\n                  );\r\n                  const hasData = dayData?.has_data;\r\n                  const isCurrentDay = isToday(day);\r\n                  \r\n                  return (\r\n                    <div\r\n                      key={day.toISOString()}\r\n                      className={`\r\n                        text-center p-2 rounded-lg text-sm font-medium transition-all duration-200\r\n                        ${isCurrentDay ? 'bg-orange-500 text-white shadow-md' : ''}\r\n                        ${hasData && !isCurrentDay ? 'bg-green-100 text-green-700' : ''}\r\n                        ${!hasData && !isCurrentDay ? 'text-gray-400 hover:bg-gray-50' : ''}\r\n                      `}\r\n                    >\r\n                      {day.getDate()}\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Main Feed Content */}\r\n          <div className=\"flex-1 space-y-6\">\r\n            {/* Create Post Button - Simple */}\r\n            <button\r\n              onClick={() => setShowCreatePost(true)}\r\n              className=\"w-full bg-white border border-gray-200 rounded-lg p-4 text-left hover:bg-gray-50 transition-colors shadow-sm\"\r\n            >\r\n              <div className=\"flex items-center space-x-3\">\r\n                <div className=\"w-10 h-10 rounded-full bg-orange-500 flex items-center justify-center text-white font-semibold\">\r\n                  {user?.first_name?.charAt(0) || user?.username?.charAt(0) || 'U'}\r\n                </div>\r\n                <span className=\"text-gray-600\">What's on your mind?</span>\r\n              </div>\r\n            </button>\r\n\r\n            {/* Posts - Original Simple Design */}\r\n            <div className=\"space-y-6\">\r\n              {posts.length === 0 && !loading && (\r\n                <div className=\"bg-white border border-gray-200 rounded-lg shadow-sm p-8 text-center\">\r\n                  <div className=\"mb-4\">\r\n                    <div className=\"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                      <MessageCircle className=\"w-8 h-8 text-orange-500\" />\r\n                    </div>\r\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">No posts yet</h3>\r\n                    <p className=\"text-gray-600 mb-6\">Your feed is empty. Start connecting with others to see their posts!</p>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex flex-col sm:flex-row gap-3 justify-center\">\r\n                    <button\r\n                      onClick={() => setShowFollowSearch(true)}\r\n                      className=\"px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all duration-200 font-medium shadow-md hover:shadow-lg transform hover:scale-105\"\r\n                    >\r\n                      Find Friends\r\n                    </button>\r\n                    <button\r\n                      onClick={() => {/* Navigate to groups when implemented */}}\r\n                      className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium\"\r\n                    >\r\n                      Browse Groups\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              \r\n              {Array.isArray(posts) && posts.length > 0 && posts.map(post => (\r\n                <div key={post.id} className=\"bg-white border border-gray-200 rounded-lg shadow-sm\">\r\n                  {/* Post Header */}\r\n                  <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\r\n                    <div className=\"flex items-center space-x-3\">\r\n                      <div className=\"w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center text-white text-sm font-semibold\">\r\n                        {post.user?.first_name?.charAt(0) || post.user?.username?.charAt(0) || 'U'}\r\n                      </div>\r\n                      <div>\r\n                        <div className=\"font-semibold text-gray-900\">\r\n                          {post.user?.first_name || 'Unknown'} {post.user?.last_name || 'User'}\r\n                        </div>\r\n                        <div className=\"text-sm text-gray-500\">{formatPostDate(post.created_at)}</div>\r\n                      </div>\r\n                    </div>\r\n                    <button className=\"text-gray-400 hover:text-gray-600\">\r\n                      <MoreHorizontal className=\"w-5 h-5\" />\r\n                    </button>\r\n                  </div>\r\n\r\n                  {/* Post Content */}\r\n                  {post.content && (\r\n                    <div className=\"p-4\">\r\n                      <p className=\"text-gray-900\">{post.content}</p>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Post Image */}\r\n                  {post.image_url && (\r\n                    <div className=\"w-full\">\r\n                      <img \r\n                        src={post.image_url} \r\n                        alt=\"Post\" \r\n                        className=\"w-full object-cover\"\r\n                      />\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Meal Data */}\r\n                  {post.meal_data && (\r\n                    <div className=\"p-4 bg-gray-50 border-t border-gray-200\">\r\n                      <div className=\"text-sm font-medium text-gray-900 mb-2\">Meal Information</div>\r\n                      <div className=\"grid grid-cols-4 gap-4 text-sm\">\r\n                        <div className=\"text-center\">\r\n                          <div className=\"font-semibold text-orange-600\">{post.meal_data.calories || 0}</div>\r\n                          <div className=\"text-gray-600\">Calories</div>\r\n                        </div>\r\n                        <div className=\"text-center\">\r\n                          <div className=\"font-semibold text-green-600\">{post.meal_data.protein || 0}g</div>\r\n                          <div className=\"text-gray-600\">Protein</div>\r\n                        </div>\r\n                        <div className=\"text-center\">\r\n                          <div className=\"font-semibold text-yellow-600\">{post.meal_data.carbs || 0}g</div>\r\n                          <div className=\"text-gray-600\">Carbs</div>\r\n                        </div>\r\n                        <div className=\"text-center\">\r\n                          <div className=\"font-semibold text-red-600\">{post.meal_data.fat || 0}g</div>\r\n                          <div className=\"text-gray-600\">Fat</div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Post Actions */}\r\n                  <div className=\"px-4 py-3 border-t border-gray-200\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex items-center space-x-6\">\r\n                        <button\r\n                          onClick={() => handleLike(post.id)}\r\n                          className={`flex items-center space-x-2 ${post.is_liked ? 'text-red-500' : 'text-gray-500 hover:text-red-500'}`}\r\n                        >\r\n                          <Heart className={`w-5 h-5 ${post.is_liked ? 'fill-current' : ''}`} />\r\n                          <span className=\"text-sm\">{post.likes_count}</span>\r\n                        </button>\r\n                        <button\r\n                          onClick={() => toggleComments(post.id)}\r\n                          className=\"flex items-center space-x-2 text-gray-500 hover:text-orange-500\"\r\n                        >\r\n                          <MessageCircle className=\"w-5 h-5\" />\r\n                          <span className=\"text-sm\">{post.comments_count}</span>\r\n                        </button>\r\n                        <button className=\"text-gray-500 hover:text-orange-500\">\r\n                          <Share className=\"w-5 h-5\" />\r\n                        </button>\r\n                      </div>\r\n                      <button\r\n                        onClick={() => handleBookmark(post.id)}\r\n                        className={`${post.is_bookmarked ? 'text-orange-500' : 'text-gray-500 hover:text-orange-500'}`}\r\n                      >\r\n                        <Bookmark className={`w-5 h-5 ${post.is_bookmarked ? 'fill-current' : ''}`} />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Comments Section */}\r\n                  {expandedComments.has(post.id) && (\r\n                    <div className=\"px-4 py-3 border-t border-gray-200 bg-gray-50\">\r\n                      {/* Add Comment */}\r\n                      <div className=\"flex items-center space-x-3 mb-4\">\r\n                        <div className=\"w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center text-white text-sm font-semibold\">\r\n                          {user?.first_name?.charAt(0) || user?.username?.charAt(0) || 'U'}\r\n                        </div>\r\n                        <div className=\"flex-1 flex items-center space-x-2\">\r\n                          <input\r\n                            type=\"text\"\r\n                            placeholder=\"Add a comment...\"\r\n                            value={newComments[post.id] || ''}\r\n                            onChange={(e) => setNewComments(prev => ({...prev, [post.id]: e.target.value}))}\r\n                            className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500\"\r\n                            onKeyPress={(e) => e.key === 'Enter' && handleAddComment(post.id)}\r\n                          />\r\n                          <button\r\n                            onClick={() => handleAddComment(post.id)}\r\n                            disabled={!newComments[post.id]?.trim()}\r\n                            className=\"px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-md hover:shadow-lg\"\r\n                          >\r\n                            Post\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Comments List */}\r\n                      <div className=\"space-y-3\">\r\n                        {comments[post.id]?.map(comment => (\r\n                          <div key={comment.id} className=\"flex items-start space-x-3\">\r\n                            <div className=\"w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center text-white text-sm font-semibold\">\r\n                              {comment.user?.first_name?.charAt(0) || comment.user?.username?.charAt(0) || 'U'}\r\n                            </div>\r\n                            <div className=\"flex-1\">\r\n                              <div className=\"bg-white rounded-lg p-3\">\r\n                                <div className=\"font-semibold text-sm text-gray-900\">\r\n                                  {comment.user?.first_name || 'Unknown'} {comment.user?.last_name || 'User'}\r\n                                </div>\r\n                                <div className=\"text-gray-700\">{comment.content}</div>\r\n                              </div>\r\n                              <div className=\"text-xs text-gray-500 mt-1\">{formatPostDate(comment.created_at)}</div>\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Right Sidebar - Groups */}\r\n          <div className=\"w-80 flex-shrink-0 sticky top-6 self-start space-y-6 max-h-[calc(100vh-3rem)] overflow-y-auto\">\r\n            \r\n            {/* Groups Card */}\r\n            <div className=\"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 relative overflow-hidden\">\r\n              <div className=\"absolute top-0 right-0 w-14 h-14 bg-indigo-50 rounded-full -translate-y-7 translate-x-7\"></div>\r\n              \r\n              <div className=\"flex items-center justify-between mb-6 relative\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">Groups</h3>\r\n                <button className=\"text-blue-600 hover:text-blue-700 text-sm font-medium bg-blue-50 hover:bg-blue-100 px-3 py-1 rounded-full transition-colors\">\r\n                  See All\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"space-y-3 relative\">\r\n                {/* Mock Group Items */}\r\n                <div className=\"flex items-center space-x-3 p-3 rounded-xl hover:bg-gray-50 cursor-pointer transition-colors group\">\r\n                  <div className=\"w-10 h-10 rounded-xl bg-green-500 flex items-center justify-center shadow-sm\">\r\n                    <span className=\"text-white font-semibold text-sm\">VG</span>\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"font-medium text-gray-900 group-hover:text-green-600 transition-colors\">Vegan Recipes</div>\r\n                    <div className=\"text-sm text-gray-500\">1.2k members</div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center space-x-3 p-3 rounded-xl hover:bg-gray-50 cursor-pointer transition-colors group\">\r\n                  <div className=\"w-10 h-10 rounded-xl bg-blue-500 flex items-center justify-center shadow-sm\">\r\n                    <span className=\"text-white font-semibold text-sm\">FT</span>\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"font-medium text-gray-900 group-hover:text-blue-600 transition-colors\">Fitness Goals</div>\r\n                    <div className=\"text-sm text-gray-500\">856 members</div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center space-x-3 p-3 rounded-xl hover:bg-gray-50 cursor-pointer transition-colors group\">\r\n                  <div className=\"w-10 h-10 rounded-xl bg-purple-500 flex items-center justify-center shadow-sm\">\r\n                    <span className=\"text-white font-semibold text-sm\">WL</span>\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"font-medium text-gray-900 group-hover:text-purple-600 transition-colors\">Weight Loss</div>\r\n                    <div className=\"text-sm text-gray-500\">2.1k members</div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center space-x-3 p-3 rounded-xl hover:bg-gray-50 cursor-pointer transition-colors group\">\r\n                  <div className=\"w-10 h-10 rounded-xl bg-orange-500 flex items-center justify-center shadow-sm\">\r\n                    <span className=\"text-white font-semibold text-sm\">KT</span>\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"font-medium text-gray-900 group-hover:text-orange-600 transition-colors\">Keto Diet</div>\r\n                    <div className=\"text-sm text-gray-500\">643 members</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <button className=\"w-full mt-6 bg-gradient-to-r from-orange-500 to-orange-600 text-white py-2.5 px-4 rounded-xl hover:from-orange-600 hover:to-orange-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105\">\r\n                Create Group\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Create Post Modal - Improved Design */}\r\n      {showCreatePost && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n          <div className=\"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-gray-100\">\r\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-100\">\r\n              <div className=\"flex items-center space-x-3\">\r\n                <div className=\"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center\">\r\n                  <PenTool className=\"w-4 h-4 text-orange-600\" />\r\n                </div>\r\n                <h2 className=\"text-xl font-semibold text-gray-900\">Create Post</h2>\r\n              </div>\r\n              <button\r\n                onClick={() => setShowCreatePost(false)}\r\n                className=\"text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n              >\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"p-6 space-y-6\">\r\n              <div className=\"flex items-start space-x-4\">\r\n                <div className=\"w-12 h-12 rounded-full bg-orange-500 flex items-center justify-center text-white font-semibold shadow-md\">\r\n                  {user?.first_name?.charAt(0) || user?.username?.charAt(0) || 'U'}\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <textarea\r\n                    placeholder=\"What's on your mind?\"\r\n                    value={newPost.content}\r\n                    onChange={(e) => setNewPost(prev => ({ ...prev, content: e.target.value }))}\r\n                    className=\"w-full p-4 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-300 resize-none bg-gray-50 hover:bg-white transition-colors\"\r\n                    rows={5}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {newPost.imageFile && (\r\n                <div className=\"relative\">\r\n                  <img\r\n                    src={URL.createObjectURL(newPost.imageFile)}\r\n                    alt=\"Preview\"\r\n                    className=\"w-full h-64 object-cover rounded-lg\"\r\n                  />\r\n                  <button\r\n                    onClick={() => setNewPost(prev => ({ ...prev, imageFile: null }))}\r\n                    className=\"absolute top-2 right-2 bg-black bg-opacity-50 text-white p-1 rounded-full hover:bg-opacity-70\"\r\n                  >\r\n                    <X className=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n              )}\r\n\r\n              {/* Post Options */}\r\n              <div className=\"bg-gray-50 rounded-xl p-4 space-y-4\">\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <div className=\"w-5 h-5 bg-orange-100 rounded flex items-center justify-center\">\r\n                    <div className=\"w-2 h-2 bg-orange-500 rounded-full\"></div>\r\n                  </div>\r\n                  <span className=\"text-sm font-semibold text-gray-900\">Post Settings</span>\r\n                </div>\r\n                \r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <label className=\"flex items-center space-x-3 cursor-pointer p-3 bg-white rounded-lg border border-gray-200 hover:border-orange-300 transition-colors\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={newPost.allowComments}\r\n                      onChange={(e) => setNewPost(prev => ({ ...prev, allowComments: e.target.checked }))}\r\n                      className=\"rounded border-gray-300 text-orange-600 focus:ring-orange-500\"\r\n                    />\r\n                    <span className=\"text-sm text-gray-700\">Allow comments</span>\r\n                  </label>\r\n                  \r\n                  <label className=\"flex items-center space-x-3 cursor-pointer p-3 bg-white rounded-lg border border-gray-200 hover:border-orange-300 transition-colors\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={newPost.hideLikeCount}\r\n                      onChange={(e) => setNewPost(prev => ({ ...prev, hideLikeCount: e.target.checked }))}\r\n                      className=\"rounded border-gray-300 text-orange-600 focus:ring-orange-500\"\r\n                    />\r\n                    <span className=\"text-sm text-gray-700\">Hide like count</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-center justify-between pt-6 border-t border-gray-100\">\r\n                <div className=\"flex items-center space-x-4\">\r\n                  <label className=\"flex items-center space-x-3 text-gray-600 hover:text-orange-600 cursor-pointer p-2 hover:bg-orange-50 rounded-lg transition-colors\">\r\n                    <Image className=\"w-5 h-5\" />\r\n                    <span className=\"text-sm font-medium\">Add Photo</span>\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"image/*\"\r\n                      onChange={handleImageUpload}\r\n                      className=\"hidden\"\r\n                    />\r\n                  </label>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center space-x-3\">\r\n                  <button\r\n                    onClick={() => setShowCreatePost(false)}\r\n                    className=\"px-6 py-2.5 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors font-medium\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    onClick={handleCreatePost}\r\n                    disabled={(!newPost.content.trim() && !newPost.imageFile) || creatingPost}\r\n                    className=\"px-6 py-2.5 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center space-x-2\"\r\n                  >\r\n                    {creatingPost && (\r\n                      <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\r\n                    )}\r\n                    <span>{creatingPost ? 'Posting...' : 'Share Post'}</span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Enhanced Search Modal */}\r\n      {showFollowSearch && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n          <div className=\"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto\">\r\n            {/* Header */}\r\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-100\">\r\n              <h2 className=\"text-xl font-semibold text-gray-900\">Discover People & Groups</h2>\r\n              <button\r\n                onClick={() => {\r\n                  setShowFollowSearch(false);\r\n                  setSearchQuery('');\r\n                  setSearchResults({users: [], groups: [], hasMore: false, total: 0});\r\n                  setActiveSearchTab('all');\r\n                  setSearchOffset(0);\r\n                }}\r\n                className=\"text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-full transition-colors\"\r\n              >\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"p-6\">\r\n              {/* Search Input */}\r\n              <div className=\"mb-6\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search for people, groups, or interests...\"\r\n                  value={searchQuery}\r\n                  onChange={(e) => {\r\n                    setSearchQuery(e.target.value);\r\n                    searchUsersAndGroups(e.target.value);\r\n                  }}\r\n                  className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-300\"\r\n                />\r\n              </div>\r\n\r\n              {/* Search Tabs */}\r\n              <div className=\"flex space-x-1 mb-6 bg-gray-100 rounded-lg p-1\">\r\n                {[\r\n                  { key: 'all', label: 'All', count: searchResults.users.length + searchResults.groups.length },\r\n                  { key: 'users', label: 'People', count: searchResults.users.length },\r\n                  { key: 'groups', label: 'Groups', count: searchResults.groups.length }\r\n                ].map((tab) => (\r\n                  <button\r\n                    key={tab.key}\r\n                    onClick={() => setActiveSearchTab(tab.key as any)}\r\n                    className={`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-colors ${\r\n                      activeSearchTab === tab.key\r\n                        ? 'bg-white text-orange-600 shadow-sm'\r\n                        : 'text-gray-600 hover:text-gray-900'\r\n                    }`}\r\n                  >\r\n                    {tab.label} {tab.count > 0 && `(${tab.count})`}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n\r\n              {searchLoading ? (\r\n                <div className=\"flex items-center justify-center py-12\">\r\n                  <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600\"></div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-4\">\r\n                  {/* Users Section */}\r\n                  {(activeSearchTab === 'all' || activeSearchTab === 'users') && searchResults.users.length > 0 && (\r\n                    <div>\r\n                      {activeSearchTab === 'all' && (\r\n                        <h3 className=\"text-lg font-semibold text-gray-900 mb-3 flex items-center\">\r\n                          <div className=\"w-2 h-2 bg-orange-500 rounded-full mr-2\"></div>\r\n                          People\r\n                        </h3>\r\n                      )}\r\n                      <div className=\"space-y-3\">\r\n                        {searchResults.users.map(user => (\r\n                          <div key={user.id} className=\"flex items-center justify-between p-4 hover:bg-gray-50 rounded-xl transition-colors border border-gray-100\">\r\n                            <div className=\"flex items-center space-x-4\">\r\n                              {user.profile_picture ? (\r\n                                <img\r\n                                  src={user.profile_picture}\r\n                                  alt={`${user.first_name} ${user.last_name}`}\r\n                                  className=\"w-12 h-12 rounded-full object-cover\"\r\n                                />\r\n                              ) : (\r\n                                <div className=\"w-12 h-12 rounded-full bg-gradient-to-r from-orange-500 to-red-500 flex items-center justify-center text-white font-semibold\">\r\n                                  {user?.first_name?.charAt(0) || user?.username?.charAt(0) || 'U'}\r\n                                </div>\r\n                              )}\r\n                              <div>\r\n                                <div className=\"font-semibold text-gray-900\">\r\n                                  {user?.first_name || 'Unknown'} {user?.last_name || 'User'}\r\n                                </div>\r\n                                <div className=\"text-sm text-gray-500\">@{user.username}</div>\r\n                                <div className=\"text-xs text-gray-400\">{user.posts_count} posts</div>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"flex items-center space-x-2\">\r\n                              <button\r\n                                onClick={() => handleVisitProfile(user.id, user.username)}\r\n                                className=\"px-3 py-2 text-gray-600 hover:text-orange-600 hover:bg-orange-50 rounded-lg font-medium transition-all duration-200\"\r\n                              >\r\n                                View Profile\r\n                              </button>\r\n                              <button\r\n                                onClick={() => handleFollow(user.id)}\r\n                                className={`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${\r\n                                  user.is_following\r\n                                    ? 'bg-gray-200 text-gray-700 hover:bg-gray-300'\r\n                                    : 'bg-gradient-to-r from-orange-500 to-orange-600 text-white hover:from-orange-600 hover:to-orange-700 shadow-md hover:shadow-lg'\r\n                                }`}\r\n                              >\r\n                                {user.is_following ? 'Following' : 'Follow'}\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Groups Section */}\r\n                  {(activeSearchTab === 'all' || activeSearchTab === 'groups') && searchResults.groups.length > 0 && (\r\n                    <div className={activeSearchTab === 'all' && searchResults.users.length > 0 ? 'mt-8' : ''}>\r\n                      {activeSearchTab === 'all' && (\r\n                        <h3 className=\"text-lg font-semibold text-gray-900 mb-3 flex items-center\">\r\n                          <div className=\"w-2 h-2 bg-blue-500 rounded-full mr-2\"></div>\r\n                          Groups\r\n                        </h3>\r\n                      )}\r\n                      <div className=\"space-y-3\">\r\n                        {searchResults.groups.map(group => (\r\n                          <div key={group.id} className=\"flex items-center justify-between p-4 hover:bg-gray-50 rounded-xl transition-colors border border-gray-100\">\r\n                            <div className=\"flex items-center space-x-4\">\r\n                              <div className=\"w-12 h-12 rounded-xl bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white text-xl shadow-md\">\r\n                                {group.image}\r\n                              </div>\r\n                              <div>\r\n                                <div className=\"font-semibold text-gray-900\">{group.name}</div>\r\n                                <div className=\"text-sm text-gray-500\">{group.description}</div>\r\n                                <div className=\"text-xs text-gray-400\">{group.members_count.toLocaleString()} members</div>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"flex items-center space-x-2\">\r\n                              <button\r\n                                onClick={() => handleJoinGroup(group.id, group.name)}\r\n                                className=\"px-3 py-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg font-medium transition-all duration-200\"\r\n                              >\r\n                                View Group\r\n                              </button>\r\n                              <button\r\n                                onClick={() => handleJoinGroup(group.id, group.name)}\r\n                                className={`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${\r\n                                  group.is_member\r\n                                    ? 'bg-gray-200 text-gray-700 hover:bg-gray-300'\r\n                                    : 'bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:from-blue-600 hover:to-purple-600 shadow-md hover:shadow-lg'\r\n                                }`}\r\n                              >\r\n                                {group.is_member ? 'Member' : 'Join'}\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* See More Results Button */}\r\n                  {!searchLoading && searchResults.hasMore && (searchResults.users.length > 0 || searchResults.groups.length > 0) && (\r\n                    <div className=\"text-center py-4\">\r\n                      <button\r\n                        onClick={loadMoreResults}\r\n                        className=\"px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all duration-200 font-medium shadow-md hover:shadow-lg transform hover:scale-105\"\r\n                      >\r\n                        See More Results ({searchResults.total - searchResults.users.length - searchResults.groups.length} more)\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* No Results */}\r\n                  {!searchLoading && searchQuery && searchResults.users.length === 0 && searchResults.groups.length === 0 && (\r\n                    <div className=\"text-center py-12\">\r\n                      <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                        <MessageCircle className=\"w-8 h-8 text-gray-400\" />\r\n                      </div>\r\n                      <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No results found</h3>\r\n                      <p className=\"text-gray-500\">Try searching for different keywords or check your spelling.</p>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Empty State - Load initial users */}\r\n                  {!searchQuery && searchResults.users.length === 0 && searchResults.groups.length === 0 && !searchLoading && (\r\n                    <div className=\"text-center py-12\">\r\n                      <div className=\"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                        <MessageCircle className=\"w-8 h-8 text-orange-500\" />\r\n                      </div>\r\n                      <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Discover Amazing People & Groups</h3>\r\n                      <p className=\"text-gray-500 mb-4\">Search for people to follow or groups to join based on your interests.</p>\r\n                      <button\r\n                        onClick={() => searchUsersAndGroups('')}\r\n                        className=\"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors\"\r\n                      >\r\n                        Show Recent Users\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Feed;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}