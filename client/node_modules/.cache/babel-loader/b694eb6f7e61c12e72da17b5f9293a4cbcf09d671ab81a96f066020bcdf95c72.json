{"ast":null,"code":"import _objectSpread from\"C:/Users/arian/OneDrive/Desktop/Nutrition/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useAuth}from'../contexts/AuthContext';import{Heart,MessageCircle,Share,MoreHorizontal,PenTool,Edit3,Settings,Grid,Bookmark,UserCircle,Image,X}from'lucide-react';import{diaryAPI}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SocialProfile=()=>{const{user}=useAuth();const[profileData,setProfileData]=useState(null);const[posts,setPosts]=useState([]);const[likedPosts,setLikedPosts]=useState([]);const[bookmarkedPosts,setBookmarkedPosts]=useState([]);const[loading,setLoading]=useState(true);const[activeTab,setActiveTab]=useState('posts');const[showCreatePost,setShowCreatePost]=useState(false);const[newPost,setNewPost]=useState({content:'',imageFile:null,mealData:null,allowComments:true,hideLikeCount:false});const[showEditProfile,setShowEditProfile]=useState(false);const[editProfileData,setEditProfileData]=useState({daily_calories:0,daily_protein:0,weight:0,target_weight:0,height:0,age:0,activity_level:'moderate',gender:'male',bio:''});// State for streak calculation\nconst[streak,setStreak]=useState(0);const[streakLoading,setStreakLoading]=useState(true);// SIMPLE streak calculation - just count consecutive yellow/green squares\nconst calculateStreak=async()=>{try{setStreakLoading(true);// Get current month data\nconst currentDate=new Date();const year=currentDate.getFullYear();const month=currentDate.getMonth()+1;const response=await diaryAPI.getMonth(year,month);const monthData=response.data;if(!monthData||!monthData.days){setStreak(0);return;}// Get days with data, sorted by date (newest first)\nconst daysWithData=monthData.days.filter(day=>day.has_data).sort((a,b)=>new Date(b.date).getTime()-new Date(a.date).getTime());let streak=0;// Count consecutive colored squares from today backwards\nfor(const day of daysWithData){// Simple check: yellow = one goal met, green = both goals met\nconst isColored=day.calories_met||day.protein_met;if(isColored){streak++;console.log(\"Day \".concat(day.date,\": COLORED (calories: \").concat(day.calories_met,\", protein: \").concat(day.protein_met,\") - Streak: \").concat(streak));}else{console.log(\"Day \".concat(day.date,\": NOT colored - Streak stops at \").concat(streak));break;}}console.log(\"FINAL STREAK: \".concat(streak));setStreak(streak);}catch(error){console.error('Streak calculation failed:',error);setStreak(0);}finally{setStreakLoading(false);}};useEffect(()=>{if(profileData){calculateStreak();}},[profileData]);useEffect(()=>{if(user){loadProfile();loadPosts();}},[user]);useEffect(()=>{if(user&&activeTab==='liked'){loadLikedPosts();}else if(user&&activeTab==='saved'){loadBookmarkedPosts();}},[user,activeTab]);const loadProfile=async function(){let retryCount=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;try{setLoading(true);console.log('Loading profile for user ID:',user===null||user===void 0?void 0:user.id);if(!(user!==null&&user!==void 0&&user.id)){console.error('No user ID available');setLoading(false);return;}const token=localStorage.getItem('token');if(!token){console.error('No token available');setLoading(false);return;}const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'https://nutrition-back-jtf3.onrender.com',\"/api/social/profile/\").concat(user.id),{headers:{'Authorization':\"Bearer \".concat(token)}});console.log('Profile response status:',response.status);if(response.ok){const data=await response.json();console.log('Profile data received:',data);setProfileData(data);}else{const errorText=await response.text();console.error('Profile response error:',errorText);console.error('Response status:',response.status);}}catch(error){var _error$message;console.error('Error loading profile:',error);// Retry logic for network errors\nif(retryCount<3&&error instanceof Error&&((_error$message=error.message)!==null&&_error$message!==void 0&&_error$message.includes('Failed to fetch')||error.name==='TypeError')){console.log(\"Retrying profile load (attempt \".concat(retryCount+1,\")...\"));setTimeout(()=>loadProfile(retryCount+1),1000*(retryCount+1));return;}}finally{setLoading(false);}};const openEditProfile=()=>{if(profileData){setEditProfileData({daily_calories:profileData.profile.daily_calories||0,daily_protein:profileData.profile.daily_protein||0,weight:profileData.profile.weight||0,target_weight:profileData.profile.target_weight||0,height:profileData.profile.height||0,age:profileData.profile.age||0,activity_level:profileData.profile.activity_level||'moderate',gender:profileData.profile.gender||'male',bio:profileData.profile.bio||''});setShowEditProfile(true);}};const handleEditProfile=async()=>{try{const token=localStorage.getItem('token');if(!token||!(user!==null&&user!==void 0&&user.id))return;const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'https://nutrition-back-jtf3.onrender.com',\"/api/profile\"),{method:'PUT',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify(editProfileData)});if(response.ok){// Reload profile data\nawait loadProfile();setShowEditProfile(false);// You could add a success message here\n}else{console.error('Failed to update profile');}}catch(error){console.error('Error updating profile:',error);}};const loadPosts=async function(){let retryCount=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'https://nutrition-back-jtf3.onrender.com',\"/api/social/posts/\").concat(user===null||user===void 0?void 0:user.id),{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});if(response.ok){const data=await response.json();setPosts(data.posts);}}catch(error){var _error$message2;console.error('Error loading posts:',error);// Retry logic for network errors\nif(retryCount<3&&error instanceof Error&&((_error$message2=error.message)!==null&&_error$message2!==void 0&&_error$message2.includes('Failed to fetch')||error.name==='TypeError')){console.log(\"Retrying posts load (attempt \".concat(retryCount+1,\")...\"));setTimeout(()=>loadPosts(retryCount+1),1000*(retryCount+1));return;}}finally{setLoading(false);}};const loadLikedPosts=async()=>{try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'https://nutrition-back-jtf3.onrender.com',\"/api/social/profile/\").concat(user===null||user===void 0?void 0:user.id,\"/liked-posts\"),{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});if(response.ok){const data=await response.json();setLikedPosts(data.posts);}}catch(error){console.error('Error loading liked posts:',error);}};const loadBookmarkedPosts=async()=>{try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'https://nutrition-back-jtf3.onrender.com',\"/api/social/profile/\").concat(user===null||user===void 0?void 0:user.id,\"/favorited-posts\"),{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});if(response.ok){const data=await response.json();setBookmarkedPosts(data.posts);}}catch(error){console.error('Error loading bookmarked posts:',error);}};const handleLike=async postId=>{try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'https://nutrition-back-jtf3.onrender.com',\"/api/social/posts/\").concat(postId,\"/like\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token')),'Content-Type':'application/json'}});if(response.ok){// Update local state\nsetPosts(posts.map(post=>post.id===postId?_objectSpread(_objectSpread({},post),{},{is_liked:!post.is_liked,likes_count:post.is_liked?post.likes_count-1:post.likes_count+1}):post));}}catch(error){console.error('Error liking post:',error);}};const handleBookmark=async postId=>{try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'https://nutrition-back-jtf3.onrender.com',\"/api/social/posts/\").concat(postId,\"/favorite\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token')),'Content-Type':'application/json'}});if(response.ok){// Update local state in all relevant arrays\nsetPosts(posts.map(post=>post.id===postId?_objectSpread(_objectSpread({},post),{},{is_bookmarked:!post.is_bookmarked}):post));setLikedPosts(likedPosts.map(post=>post.id===postId?_objectSpread(_objectSpread({},post),{},{is_bookmarked:!post.is_bookmarked}):post));setBookmarkedPosts(bookmarkedPosts.map(post=>post.id===postId?_objectSpread(_objectSpread({},post),{},{is_bookmarked:!post.is_bookmarked}):post));}}catch(error){console.error('Error bookmarking post:',error);}};const handleCreatePost=async()=>{try{const formData=new FormData();formData.append('content',newPost.content);formData.append('allowComments',newPost.allowComments.toString());formData.append('hideLikeCount',newPost.hideLikeCount.toString());if(newPost.imageFile){formData.append('image',newPost.imageFile);}if(newPost.mealData){formData.append('mealData',JSON.stringify(newPost.mealData));}const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'https://nutrition-back-jtf3.onrender.com',\"/api/social/posts\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))},body:formData});if(response.ok){const result=await response.json();setNewPost({content:'',imageFile:null,mealData:null,allowComments:true,hideLikeCount:false});setShowCreatePost(false);// Trigger a custom event to update the feed\nwindow.dispatchEvent(new CustomEvent('postCreated',{detail:result}));loadPosts();// Reload posts\n}else{const error=await response.json();console.error('Failed to create post:',error);}}catch(error){console.error('Error creating post:',error);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"})});}if(!profileData){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gray-200 rounded-full mx-auto mb-4 flex items-center justify-center\",children:/*#__PURE__*/_jsx(UserCircle,{className:\"w-8 h-8 text-gray-400\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-medium mb-2\",children:\"Profile not found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:\"We couldn't load your profile information.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),className:\"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\",children:\"Try Again\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full bg-white shadow-sm border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200 pb-8 pt-8 px-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-32 h-32 rounded-full bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center text-white text-4xl font-bold shadow-lg\",children:profileData.profile.profile_picture?/*#__PURE__*/_jsx(\"img\",{src:profileData.profile.profile_picture,alt:\"Profile\",className:\"w-32 h-32 rounded-full object-cover\"}):profileData.user.first_name&&profileData.user.first_name.charAt(0)||profileData.user.username&&profileData.user.username.charAt(0)||'U'}),/*#__PURE__*/_jsx(\"button\",{className:\"absolute bottom-0 right-0 bg-gradient-to-r from-orange-500 to-red-500 text-white p-2 rounded-full hover:from-orange-600 hover:to-red-600 transition-all duration-200 shadow-lg\",children:/*#__PURE__*/_jsx(PenTool,{className:\"w-4 h-4\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mb-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-light\",children:profileData.user.username||'User'}),!profileData.profile.daily_calories&&!profileData.profile.weight?/*#__PURE__*/_jsxs(\"button\",{className:\"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-4 py-1.5 rounded font-medium transition-all duration-200 shadow-md\",children:[/*#__PURE__*/_jsx(Edit3,{className:\"w-4 h-4 inline mr-2\"}),\"Complete Profile\"]}):/*#__PURE__*/_jsxs(\"button\",{onClick:openEditProfile,className:\"bg-gray-50 hover:bg-gray-100 px-4 py-1.5 rounded font-medium transition-colors border border-gray-200\",children:[/*#__PURE__*/_jsx(Edit3,{className:\"w-4 h-4 inline mr-2\"}),\"Edit Profile\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-gray-50 hover:bg-gray-100 p-2 rounded transition-colors border border-gray-200\",children:/*#__PURE__*/_jsx(Settings,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-8 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-orange-600\",children:profileData.stats.posts}),\" posts\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-orange-600\",children:profileData.stats.followers}),\" followers\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-orange-600\",children:profileData.stats.following}),\" following\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"font-semibold\",children:[profileData.user.first_name||'First',\" \",profileData.user.last_name||'Last']}),profileData.profile.bio&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 mt-1\",children:profileData.profile.bio}),!profileData.profile.bio&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mt-1 italic\",children:\"No bio yet\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-orange-50 rounded-lg px-4 py-2 mb-4 border border-orange-200 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-orange-500\",children:\"\\uD83D\\uDD25\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-800\",children:\"Daily Streak:\"}),streakLoading?/*#__PURE__*/_jsx(\"span\",{className:\"text-lg text-orange-500\",children:\"Loading...\"}):streak>0?/*#__PURE__*/_jsxs(\"span\",{className:\"text-2xl font-bold text-orange-500\",children:[streak,\" \",streak===1?'day':'days']}):/*#__PURE__*/_jsx(\"span\",{className:\"text-lg text-orange-500\",children:\"Start your goal today!\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:streakLoading?'Calculating...':streak>0?\"Hit your goal for \".concat(streak,\" \").concat(streak===1?'day':'days',\" in a row!\"):'Build a streak!'})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-800 mb-2\",children:\"Nutrition Goals\"}),!profileData.profile.daily_calories&&!profileData.profile.weight?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-3\",children:\"Complete your profile to set nutrition goals\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 px-4 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200 shadow-md\",children:\"Set Goals\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Daily Calories:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 font-medium\",children:profileData.profile.daily_calories||'Not set'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Daily Protein:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 font-medium\",children:[profileData.profile.daily_protein||'Not set',\"g\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Current Weight:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 font-medium\",children:[profileData.profile.weight||'Not set',\" lbs\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Target Weight:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 font-medium\",children:[profileData.profile.target_weight||'Not set',\" lbs\"]})]})]})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-6 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowCreatePost(true),className:\"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white py-3 px-4 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2 shadow-md hover:shadow-lg\",children:[/*#__PURE__*/_jsx(PenTool,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Create a new post\"})]})})]}),showCreatePost&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[85vh] flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-b border-gray-200 flex-shrink-0\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900\",children:\"Create New Post\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCreatePost(false),className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 space-y-4 flex-1 overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"textarea\",{value:newPost.content,onChange:e=>setNewPost(_objectSpread(_objectSpread({},newPost),{},{content:e.target.value})),placeholder:\"What's going on?\",className:\"w-full border border-gray-300 rounded-lg p-4 resize-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors\",rows:4})}),newPost.imageFile&&/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:URL.createObjectURL(newPost.imageFile),alt:\"Preview\",className:\"w-full h-40 object-cover rounded-lg\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setNewPost(_objectSpread(_objectSpread({},newPost),{},{imageFile:null})),className:\"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors shadow-lg\",children:/*#__PURE__*/_jsx(X,{className:\"h-3 w-3\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-2\",children:\"Add to your post\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg cursor-pointer transition-colors\",children:[/*#__PURE__*/_jsx(Image,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Upload Photo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:e=>{var _e$target$files;const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(file){setNewPost(_objectSpread(_objectSpread({},newPost),{},{imageFile:file}));}},className:\"hidden\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-3\",children:\"Privacy Settings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Allow comments\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Let people comment on your post\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setNewPost(_objectSpread(_objectSpread({},newPost),{},{allowComments:!newPost.allowComments})),className:\"relative inline-flex h-6 w-11 items-center rounded-full transition-colors \".concat(newPost.allowComments?'bg-blue-600':'bg-gray-200'),children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-block h-4 w-4 transform rounded-full bg-white transition-transform \".concat(newPost.allowComments?'translate-x-6':'translate-x-1')})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Hide like count\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Only you will see the total number of likes\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setNewPost(_objectSpread(_objectSpread({},newPost),{},{hideLikeCount:!newPost.hideLikeCount})),className:\"relative inline-flex h-6 w-11 items-center rounded-full transition-colors \".concat(newPost.hideLikeCount?'bg-blue-600':'bg-gray-200'),children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-block h-4 w-4 transform rounded-full bg-white transition-transform \".concat(newPost.hideLikeCount?'translate-x-6':'translate-x-1')})})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-3 p-4 border-t border-gray-200 bg-gray-50 flex-shrink-0\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCreatePost(false),className:\"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{console.log('SocialProfile Post button clicked',newPost);handleCreatePost();},disabled:!newPost.content.trim(),className:\"px-6 py-2 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 disabled:bg-gray-400 text-white rounded-lg font-medium transition-all duration-200 shadow-md hover:shadow-lg\",children:\"Post\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex border-b border-gray-200 px-6\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('posts'),className:\"flex items-center space-x-2 px-8 py-5 border-b-2 transition-colors \".concat(activeTab==='posts'?'border-gray-900 text-gray-900':'border-transparent text-gray-500 hover:text-gray-700'),children:[/*#__PURE__*/_jsx(Grid,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"POSTS\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('liked'),className:\"flex items-center space-x-2 px-8 py-5 border-b-2 transition-colors \".concat(activeTab==='liked'?'border-gray-900 text-gray-900':'border-transparent text-gray-500 hover:text-gray-700'),children:[/*#__PURE__*/_jsx(Heart,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"LIKED\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('saved'),className:\"flex items-center space-x-2 px-8 py-5 border-b-2 transition-colors \".concat(activeTab==='saved'?'border-gray-900 text-gray-900':'border-transparent text-gray-500 hover:text-gray-700'),children:[/*#__PURE__*/_jsx(Bookmark,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"SAVED\"})]})]}),activeTab==='posts'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6 pt-6 px-6 bg-white\",children:posts.map(post=>{var _profileData$profile;return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 pb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[profileData!==null&&profileData!==void 0&&(_profileData$profile=profileData.profile)!==null&&_profileData$profile!==void 0&&_profileData$profile.profile_picture?/*#__PURE__*/_jsx(\"img\",{src:profileData.profile.profile_picture,alt:\"\".concat(user===null||user===void 0?void 0:user.first_name,\" \").concat(user===null||user===void 0?void 0:user.last_name),className:\"w-10 h-10 rounded-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(UserCircle,{className:\"w-6 h-6 text-gray-400\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold text-gray-900\",children:[user===null||user===void 0?void 0:user.first_name,\" \",user===null||user===void 0?void 0:user.last_name]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:new Date(post.created_at).toLocaleDateString('en-US',{month:'short',day:'numeric',hour:'numeric',minute:'2-digit'})})]})]}),/*#__PURE__*/_jsx(MoreHorizontal,{className:\"w-5 h-5 text-gray-400 cursor-pointer hover:text-gray-600\"})]}),post.content&&/*#__PURE__*/_jsx(\"div\",{className:\"px-4 pb-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:post.content})}),post.image_url&&/*#__PURE__*/_jsx(\"div\",{className:\"px-4 pb-3\",children:/*#__PURE__*/_jsx(\"img\",{src:post.image_url,alt:\"Post content\",className:\"w-full rounded-lg object-cover max-h-96\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between px-4 py-3 border-t border-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleLike(post.id),className:\"flex items-center space-x-1 transition-colors \".concat(post.is_liked?'text-red-600':'text-gray-600 hover:text-red-600'),children:[/*#__PURE__*/_jsx(Heart,{className:\"w-5 h-5 \".concat(post.is_liked?'fill-current':'')}),!post.hide_like_count&&/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:post.likes_count})]}),post.allow_comments&&/*#__PURE__*/_jsxs(\"button\",{className:\"flex items-center space-x-1 text-gray-600 hover:text-blue-600 transition-colors\",children:[/*#__PURE__*/_jsx(MessageCircle,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:post.comments_count})]}),/*#__PURE__*/_jsx(\"button\",{className:\"flex items-center space-x-1 text-gray-600 hover:text-green-600 transition-colors\",children:/*#__PURE__*/_jsx(Share,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleBookmark(post.id),className:\"flex items-center space-x-2 transition-colors \".concat(post.is_bookmarked?'text-blue-500':'text-gray-400 hover:text-blue-500'),children:/*#__PURE__*/_jsx(Bookmark,{className:\"w-5 h-5 \".concat(post.is_bookmarked?'fill-current':'')})})]})]},post.id);})}),activeTab==='liked'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6 pt-6 px-6 bg-white\",children:likedPosts.map(post=>/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 pb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[post.user.profile_picture?/*#__PURE__*/_jsx(\"img\",{src:post.user.profile_picture,alt:\"\".concat(post.user.first_name,\" \").concat(post.user.last_name),className:\"w-10 h-10 rounded-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(UserCircle,{className:\"w-6 h-6 text-gray-400\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold text-gray-900\",children:[post.user.first_name,\" \",post.user.last_name]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:new Date(post.created_at).toLocaleDateString('en-US',{month:'short',day:'numeric',hour:'numeric',minute:'2-digit'})})]})]}),/*#__PURE__*/_jsx(MoreHorizontal,{className:\"w-5 h-5 text-gray-400 cursor-pointer hover:text-gray-600\"})]}),post.content&&/*#__PURE__*/_jsx(\"div\",{className:\"px-4 pb-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:post.content})}),post.image_url&&/*#__PURE__*/_jsx(\"div\",{className:\"px-4 pb-3\",children:/*#__PURE__*/_jsx(\"img\",{src:post.image_url,alt:\"Post content\",className:\"w-full rounded-lg object-cover max-h-96\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-t border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleLike(post.id),className:\"flex items-center space-x-2 transition-colors \".concat(post.is_liked?'text-red-500':'text-gray-400 hover:text-red-500'),children:[/*#__PURE__*/_jsx(Heart,{className:\"w-6 h-6 \".concat(post.is_liked?'fill-current':'')}),!post.hide_like_count&&/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:post.likes_count})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:[/*#__PURE__*/_jsx(MessageCircle,{className:\"w-6 h-6\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm ml-1\",children:post.comments_count})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:/*#__PURE__*/_jsx(Share,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleBookmark(post.id),className:\"flex items-center space-x-2 transition-colors \".concat(post.is_bookmarked?'text-blue-500':'text-gray-400 hover:text-blue-500'),children:/*#__PURE__*/_jsx(Bookmark,{className:\"w-6 h-6 \".concat(post.is_bookmarked?'fill-current':'')})})]})]},post.id))}),activeTab==='saved'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6 pt-6 px-6 bg-white\",children:bookmarkedPosts.map(post=>/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 pb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[post.user.profile_picture?/*#__PURE__*/_jsx(\"img\",{src:post.user.profile_picture,alt:\"\".concat(post.user.first_name,\" \").concat(post.user.last_name),className:\"w-10 h-10 rounded-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(UserCircle,{className:\"w-6 h-6 text-gray-400\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold text-gray-900\",children:[post.user.first_name,\" \",post.user.last_name]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:new Date(post.created_at).toLocaleDateString('en-US',{month:'short',day:'numeric',hour:'numeric',minute:'2-digit'})})]})]}),/*#__PURE__*/_jsx(MoreHorizontal,{className:\"w-5 h-5 text-gray-400 cursor-pointer hover:text-gray-600\"})]}),post.content&&/*#__PURE__*/_jsx(\"div\",{className:\"px-4 pb-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:post.content})}),post.image_url&&/*#__PURE__*/_jsx(\"div\",{className:\"px-4 pb-3\",children:/*#__PURE__*/_jsx(\"img\",{src:post.image_url,alt:\"Post content\",className:\"w-full rounded-lg object-cover max-h-96\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-t border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleLike(post.id),className:\"flex items-center space-x-2 transition-colors \".concat(post.is_liked?'text-red-500':'text-gray-400 hover:text-red-500'),children:[/*#__PURE__*/_jsx(Heart,{className:\"w-6 h-6 \".concat(post.is_liked?'fill-current':'')}),!post.hide_like_count&&/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:post.likes_count})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:[/*#__PURE__*/_jsx(MessageCircle,{className:\"w-6 h-6\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm ml-1\",children:post.comments_count})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:/*#__PURE__*/_jsx(Share,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleBookmark(post.id),className:\"flex items-center space-x-2 transition-colors \".concat(post.is_bookmarked?'text-blue-500':'text-gray-400 hover:text-blue-500'),children:/*#__PURE__*/_jsx(Bookmark,{className:\"w-6 h-6 \".concat(post.is_bookmarked?'fill-current':'')})})]})]},post.id))}),activeTab==='posts'&&posts.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-12 text-center text-gray-500 mx-6 bg-white\",children:[/*#__PURE__*/_jsx(PenTool,{className:\"w-16 h-16 mx-auto mb-4 text-gray-300\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-medium mb-2\",children:\"No posts yet!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"When you share photos and videos, they'll appear on your profile.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCreatePost(true),className:\"mt-4 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\",children:\"Share your first photo\"})]}),activeTab==='liked'&&likedPosts.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-12 text-center text-gray-500 mx-6 bg-white\",children:[/*#__PURE__*/_jsx(Heart,{className:\"w-16 h-16 mx-auto mb-4 text-gray-300\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-medium mb-2\",children:\"No liked posts yet\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Posts you like will appear here.\"})]}),activeTab==='saved'&&bookmarkedPosts.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-12 text-center text-gray-500 mx-6 bg-white\",children:[/*#__PURE__*/_jsx(Bookmark,{className:\"w-16 h-16 mx-auto mb-4 text-gray-300\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-medium mb-2\",children:\"No saved posts yet\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Posts you save will appear here.\"})]}),showEditProfile&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Edit Profile\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Daily Calories\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editProfileData.daily_calories||'',onChange:e=>setEditProfileData(prev=>_objectSpread(_objectSpread({},prev),{},{daily_calories:parseFloat(e.target.value)||0})),className:\"w-full border border-gray-300 rounded-lg p-2\",placeholder:\"2000\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Daily Protein (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editProfileData.daily_protein||'',onChange:e=>setEditProfileData(prev=>_objectSpread(_objectSpread({},prev),{},{daily_protein:parseFloat(e.target.value)||0})),className:\"w-full border border-gray-300 rounded-lg p-2\",placeholder:\"150\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Current Weight (lbs)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editProfileData.weight||'',onChange:e=>setEditProfileData(prev=>_objectSpread(_objectSpread({},prev),{},{weight:parseFloat(e.target.value)||0})),className:\"w-full border border-gray-300 rounded-lg p-2\",placeholder:\"150\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Target Weight (lbs)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editProfileData.target_weight||'',onChange:e=>setEditProfileData(prev=>_objectSpread(_objectSpread({},prev),{},{target_weight:parseFloat(e.target.value)||0})),className:\"w-full border border-gray-300 rounded-lg p-2\",placeholder:\"140\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Height (inches)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editProfileData.height||'',onChange:e=>setEditProfileData(prev=>_objectSpread(_objectSpread({},prev),{},{height:parseFloat(e.target.value)||0})),className:\"w-full border border-gray-300 rounded-lg p-2\",placeholder:\"70\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Age\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editProfileData.age||'',onChange:e=>setEditProfileData(prev=>_objectSpread(_objectSpread({},prev),{},{age:parseFloat(e.target.value)||0})),className:\"w-full border border-gray-300 rounded-lg p-2\",placeholder:\"25\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Activity Level\"}),/*#__PURE__*/_jsxs(\"select\",{value:editProfileData.activity_level,onChange:e=>setEditProfileData(prev=>_objectSpread(_objectSpread({},prev),{},{activity_level:e.target.value})),className:\"w-full border border-gray-300 rounded-lg p-2\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"sedentary\",children:\"Sedentary\"}),/*#__PURE__*/_jsx(\"option\",{value:\"light\",children:\"Light\"}),/*#__PURE__*/_jsx(\"option\",{value:\"moderate\",children:\"Moderate\"}),/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"very_active\",children:\"Very Active\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Gender\"}),/*#__PURE__*/_jsxs(\"select\",{value:editProfileData.gender,onChange:e=>setEditProfileData(prev=>_objectSpread(_objectSpread({},prev),{},{gender:e.target.value})),className:\"w-full border border-gray-300 rounded-lg p-2\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"male\",children:\"Male\"}),/*#__PURE__*/_jsx(\"option\",{value:\"female\",children:\"Female\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Other\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Bio\"}),/*#__PURE__*/_jsx(\"textarea\",{value:editProfileData.bio||'',onChange:e=>setEditProfileData(prev=>_objectSpread(_objectSpread({},prev),{},{bio:e.target.value})),className:\"w-full border border-gray-300 rounded-lg p-2\",rows:3,placeholder:\"Tell us about yourself...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleEditProfile,className:\"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\",children:\"Save Changes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowEditProfile(false),className:\"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors\",children:\"Cancel\"})]})]})})]});};export default SocialProfile;","map":{"version":3,"names":["React","useState","useEffect","useAuth","Heart","MessageCircle","Share","MoreHorizontal","PenTool","Edit3","Settings","Grid","Bookmark","UserCircle","Image","X","diaryAPI","jsx","_jsx","jsxs","_jsxs","SocialProfile","user","profileData","setProfileData","posts","setPosts","likedPosts","setLikedPosts","bookmarkedPosts","setBookmarkedPosts","loading","setLoading","activeTab","setActiveTab","showCreatePost","setShowCreatePost","newPost","setNewPost","content","imageFile","mealData","allowComments","hideLikeCount","showEditProfile","setShowEditProfile","editProfileData","setEditProfileData","daily_calories","daily_protein","weight","target_weight","height","age","activity_level","gender","bio","streak","setStreak","streakLoading","setStreakLoading","calculateStreak","currentDate","Date","year","getFullYear","month","getMonth","response","monthData","data","days","daysWithData","filter","day","has_data","sort","a","b","date","getTime","isColored","calories_met","protein_met","console","log","concat","error","loadProfile","loadPosts","loadLikedPosts","loadBookmarkedPosts","retryCount","arguments","length","undefined","id","token","localStorage","getItem","fetch","process","env","REACT_APP_API_URL","headers","status","ok","json","errorText","text","_error$message","Error","message","includes","name","setTimeout","openEditProfile","profile","handleEditProfile","method","body","JSON","stringify","_error$message2","handleLike","postId","map","post","_objectSpread","is_liked","likes_count","handleBookmark","is_bookmarked","handleCreatePost","formData","FormData","append","toString","result","window","dispatchEvent","CustomEvent","detail","className","children","onClick","location","reload","profile_picture","src","alt","first_name","charAt","username","stats","followers","following","last_name","value","onChange","e","target","placeholder","rows","URL","createObjectURL","type","accept","_e$target$files","file","files","disabled","trim","_profileData$profile","created_at","toLocaleDateString","hour","minute","image_url","hide_like_count","allow_comments","comments_count","prev","parseFloat"],"sources":["C:/Users/arian/OneDrive/Desktop/Nutrition/client/src/components/SocialProfile.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { Heart, MessageCircle, Share, MoreHorizontal, PenTool, Edit3, Settings, Grid, Bookmark, UserPlus, UserCheck, UserCircle, Image, X } from 'lucide-react';\nimport { formatDistanceToNow } from 'date-fns';\nimport { diaryAPI, mealsAPI, profileAPI } from '../services/api';\n\ninterface Post {\n  id: number;\n  content: string;\n  image_url: string | null;\n  meal_data: any;\n  likes_count: number;\n  comments_count: number;\n  is_liked: boolean;\n  is_bookmarked: boolean;\n  allow_comments?: boolean;\n  hide_like_count?: boolean;\n  created_at: string;\n  user: {\n    id: number;\n    username: string;\n    first_name: string;\n    last_name: string;\n    profile_picture?: string;\n  };\n}\n\ninterface ProfileData {\n  user: {\n    id: number;\n    email: string;\n    first_name: string;\n    last_name: string;\n    username: string;\n  };\n  profile: {\n    profile_picture: string;\n    bio: string;\n    daily_calories: number;\n    daily_protein: number;\n    weight: number;\n    target_weight: number;\n    height: number;\n    age: number;\n    activity_level: string;\n    gender: string;\n  };\n  stats: {\n    posts: number;\n    followers: number;\n    following: number;\n  };\n  isFollowing: boolean;\n}\n\nconst SocialProfile: React.FC = () => {\n  const { user } = useAuth();\n  const [profileData, setProfileData] = useState<ProfileData | null>(null);\n  const [posts, setPosts] = useState<Post[]>([]);\n  const [likedPosts, setLikedPosts] = useState<Post[]>([]);\n  const [bookmarkedPosts, setBookmarkedPosts] = useState<Post[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState<'posts' | 'liked' | 'saved'>('posts');\n  const [showCreatePost, setShowCreatePost] = useState(false);\n  const [newPost, setNewPost] = useState({ \n    content: '', \n    imageFile: null as File | null, \n    mealData: null,\n    allowComments: true,\n    hideLikeCount: false\n  });\n  const [showEditProfile, setShowEditProfile] = useState(false);\n  const [editProfileData, setEditProfileData] = useState({\n    daily_calories: 0,\n    daily_protein: 0,\n    weight: 0,\n    target_weight: 0,\n    height: 0,\n    age: 0,\n    activity_level: 'moderate',\n    gender: 'male',\n    bio: ''\n  });\n\n  // State for streak calculation\n  const [streak, setStreak] = useState(0);\n  const [streakLoading, setStreakLoading] = useState(true);\n\n  // SIMPLE streak calculation - just count consecutive yellow/green squares\n  const calculateStreak = async () => {\n    try {\n      setStreakLoading(true);\n      \n      // Get current month data\n      const currentDate = new Date();\n      const year = currentDate.getFullYear();\n      const month = currentDate.getMonth() + 1;\n      \n      const response = await diaryAPI.getMonth(year, month);\n      const monthData = response.data;\n      \n      if (!monthData || !monthData.days) {\n        setStreak(0);\n        return;\n      }\n\n      // Get days with data, sorted by date (newest first)\n      const daysWithData = monthData.days\n        .filter((day: any) => day.has_data)\n        .sort((a: any, b: any) => new Date(b.date).getTime() - new Date(a.date).getTime());\n\n      let streak = 0;\n      \n      // Count consecutive colored squares from today backwards\n      for (const day of daysWithData) {\n        // Simple check: yellow = one goal met, green = both goals met\n        const isColored = day.calories_met || day.protein_met;\n        \n        if (isColored) {\n          streak++;\n          console.log(`Day ${day.date}: COLORED (calories: ${day.calories_met}, protein: ${day.protein_met}) - Streak: ${streak}`);\n        } else {\n          console.log(`Day ${day.date}: NOT colored - Streak stops at ${streak}`);\n          break;\n        }\n      }\n      \n      console.log(`FINAL STREAK: ${streak}`);\n      setStreak(streak);\n    } catch (error) {\n      console.error('Streak calculation failed:', error);\n      setStreak(0);\n    } finally {\n      setStreakLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (profileData) {\n      calculateStreak();\n    }\n  }, [profileData]);\n\n  useEffect(() => {\n    if (user) {\n      loadProfile();\n      loadPosts();\n    }\n  }, [user]);\n\n  useEffect(() => {\n    if (user && activeTab === 'liked') {\n      loadLikedPosts();\n    } else if (user && activeTab === 'saved') {\n      loadBookmarkedPosts();\n    }\n  }, [user, activeTab]);\n\n  const loadProfile = async (retryCount = 0) => {\n    try {\n      setLoading(true);\n      console.log('Loading profile for user ID:', user?.id);\n      \n      if (!user?.id) {\n        console.error('No user ID available');\n        setLoading(false);\n        return;\n      }\n      \n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.error('No token available');\n        setLoading(false);\n        return;\n      }\n      \n             const response = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-back-jtf3.onrender.com'}/api/social/profile/${user.id}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      \n      console.log('Profile response status:', response.status);\n      \n      if (response.ok) {\n        const data = await response.json();\n        console.log('Profile data received:', data);\n        setProfileData(data);\n      } else {\n        const errorText = await response.text();\n        console.error('Profile response error:', errorText);\n        console.error('Response status:', response.status);\n      }\n    } catch (error) {\n      console.error('Error loading profile:', error);\n      \n      // Retry logic for network errors\n      if (retryCount < 3 && (error instanceof Error && (error.message?.includes('Failed to fetch') || error.name === 'TypeError'))) {\n        console.log(`Retrying profile load (attempt ${retryCount + 1})...`);\n        setTimeout(() => loadProfile(retryCount + 1), 1000 * (retryCount + 1));\n        return;\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const openEditProfile = () => {\n    if (profileData) {\n      setEditProfileData({\n        daily_calories: profileData.profile.daily_calories || 0,\n        daily_protein: profileData.profile.daily_protein || 0,\n        weight: profileData.profile.weight || 0,\n        target_weight: profileData.profile.target_weight || 0,\n        height: profileData.profile.height || 0,\n        age: profileData.profile.age || 0,\n        activity_level: profileData.profile.activity_level || 'moderate',\n        gender: profileData.profile.gender || 'male',\n        bio: profileData.profile.bio || ''\n      });\n      setShowEditProfile(true);\n    }\n  };\n\n  const handleEditProfile = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token || !user?.id) return;\n\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-back-jtf3.onrender.com'}/api/profile`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify(editProfileData)\n      });\n\n      if (response.ok) {\n        // Reload profile data\n        await loadProfile();\n        setShowEditProfile(false);\n        // You could add a success message here\n      } else {\n        console.error('Failed to update profile');\n      }\n    } catch (error) {\n      console.error('Error updating profile:', error);\n    }\n  };\n\n  const loadPosts = async (retryCount = 0) => {\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-back-jtf3.onrender.com'}/api/social/posts/${user?.id}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setPosts(data.posts);\n      }\n    } catch (error) {\n      console.error('Error loading posts:', error);\n      \n      // Retry logic for network errors\n      if (retryCount < 3 && (error instanceof Error && (error.message?.includes('Failed to fetch') || error.name === 'TypeError'))) {\n        console.log(`Retrying posts load (attempt ${retryCount + 1})...`);\n        setTimeout(() => loadPosts(retryCount + 1), 1000 * (retryCount + 1));\n        return;\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadLikedPosts = async () => {\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-back-jtf3.onrender.com'}/api/social/profile/${user?.id}/liked-posts`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setLikedPosts(data.posts);\n      }\n    } catch (error) {\n      console.error('Error loading liked posts:', error);\n    }\n  };\n\n  const loadBookmarkedPosts = async () => {\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-back-jtf3.onrender.com'}/api/social/profile/${user?.id}/favorited-posts`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setBookmarkedPosts(data.posts);\n      }\n    } catch (error) {\n      console.error('Error loading bookmarked posts:', error);\n    }\n  };\n\n  const handleLike = async (postId: number) => {\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-back-jtf3.onrender.com'}/api/social/posts/${postId}/like`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        // Update local state\n        setPosts(posts.map(post => \n          post.id === postId \n            ? { \n                ...post, \n                is_liked: !post.is_liked,\n                likes_count: post.is_liked ? post.likes_count - 1 : post.likes_count + 1\n              }\n            : post\n        ));\n      }\n    } catch (error) {\n      console.error('Error liking post:', error);\n    }\n  };\n\n  const handleBookmark = async (postId: number) => {\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-back-jtf3.onrender.com'}/api/social/posts/${postId}/favorite`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        // Update local state in all relevant arrays\n        setPosts(posts.map(post => \n          post.id === postId \n            ? { ...post, is_bookmarked: !post.is_bookmarked }\n            : post\n        ));\n        setLikedPosts(likedPosts.map(post => \n          post.id === postId \n            ? { ...post, is_bookmarked: !post.is_bookmarked }\n            : post\n        ));\n        setBookmarkedPosts(bookmarkedPosts.map(post => \n          post.id === postId \n            ? { ...post, is_bookmarked: !post.is_bookmarked }\n            : post\n        ));\n      }\n    } catch (error) {\n      console.error('Error bookmarking post:', error);\n    }\n  };\n\n  const handleCreatePost = async () => {\n    try {\n      const formData = new FormData();\n      formData.append('content', newPost.content);\n      formData.append('allowComments', newPost.allowComments.toString());\n      formData.append('hideLikeCount', newPost.hideLikeCount.toString());\n      \n      if (newPost.imageFile) {\n        formData.append('image', newPost.imageFile);\n      }\n      \n      if (newPost.mealData) {\n        formData.append('mealData', JSON.stringify(newPost.mealData));\n      }\n\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-back-jtf3.onrender.com'}/api/social/posts`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: formData\n      });\n      \n      if (response.ok) {\n        const result = await response.json();\n        setNewPost({ \n          content: '', \n          imageFile: null, \n          mealData: null,\n          allowComments: true,\n          hideLikeCount: false\n        });\n        setShowCreatePost(false);\n        \n        // Trigger a custom event to update the feed\n        window.dispatchEvent(new CustomEvent('postCreated', { detail: result }));\n        \n        loadPosts(); // Reload posts\n      } else {\n        const error = await response.json();\n        console.error('Failed to create post:', error);\n      }\n    } catch (error) {\n      console.error('Error creating post:', error);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  if (!profileData) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 bg-gray-200 rounded-full mx-auto mb-4 flex items-center justify-center\">\n            <UserCircle className=\"w-8 h-8 text-gray-400\" />\n          </div>\n          <h3 className=\"text-xl font-medium mb-2\">Profile not found</h3>\n          <p className=\"text-gray-500 mb-4\">We couldn't load your profile information.</p>\n          <button\n            onClick={() => window.location.reload()}\n            className=\"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\"\n          >\n            Try Again\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"w-full bg-white shadow-sm border-b border-gray-200\">\n\n        {/* Profile Header */}\n        <div className=\"border-b border-gray-200 pb-8 pt-8 px-6\">\n          <div className=\"flex items-start space-x-8\">\n            {/* Profile Picture */}\n            <div className=\"relative\">\n              <div className=\"w-32 h-32 rounded-full bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center text-white text-4xl font-bold shadow-lg\">\n                {profileData.profile.profile_picture ? (\n                  <img \n                    src={profileData.profile.profile_picture} \n                    alt=\"Profile\" \n                    className=\"w-32 h-32 rounded-full object-cover\"\n                  />\n                ) : (\n                  (profileData.user.first_name && profileData.user.first_name.charAt(0)) || \n                  (profileData.user.username && profileData.user.username.charAt(0)) || \n                  'U'\n                )}\n              </div>\n              <button className=\"absolute bottom-0 right-0 bg-gradient-to-r from-orange-500 to-red-500 text-white p-2 rounded-full hover:from-orange-600 hover:to-red-600 transition-all duration-200 shadow-lg\">\n                <PenTool className=\"w-4 h-4\" />\n              </button>\n            </div>\n\n            {/* Profile Info */}\n            <div className=\"flex-1\">\n              <div className=\"flex items-center space-x-4 mb-4\">\n                <h1 className=\"text-2xl font-light\">{profileData.user.username || 'User'}</h1>\n                {!profileData.profile.daily_calories && !profileData.profile.weight ? (\n                  <button className=\"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-4 py-1.5 rounded font-medium transition-all duration-200 shadow-md\">\n                    <Edit3 className=\"w-4 h-4 inline mr-2\" />\n                    Complete Profile\n                  </button>\n                ) : (\n                  <button \n                    onClick={openEditProfile}\n                    className=\"bg-gray-50 hover:bg-gray-100 px-4 py-1.5 rounded font-medium transition-colors border border-gray-200\"\n                  >\n                    <Edit3 className=\"w-4 h-4 inline mr-2\" />\n                    Edit Profile\n                  </button>\n                )}\n                <button className=\"bg-gray-50 hover:bg-gray-100 p-2 rounded transition-colors border border-gray-200\">\n                  <Settings className=\"w-5 h-5\" />\n                </button>\n              </div>\n\n              {/* Stats */}\n              <div className=\"flex space-x-8 mb-4\">\n                <div>\n                  <span className=\"font-semibold text-orange-600\">{profileData.stats.posts}</span> posts\n                </div>\n                <div>\n                  <span className=\"font-semibold text-orange-600\">{profileData.stats.followers}</span> followers\n                </div>\n                <div>\n                  <span className=\"font-semibold text-orange-600\">{profileData.stats.following}</span> following\n                </div>\n              </div>\n\n              {/* Bio and Name */}\n              <div className=\"mb-4\">\n                <h2 className=\"font-semibold\">\n                  {profileData.user.first_name || 'First'} {profileData.user.last_name || 'Last'}\n                </h2>\n                {profileData.profile.bio && (\n                  <p className=\"text-gray-700 mt-1\">{profileData.profile.bio}</p>\n                )}\n                {!profileData.profile.bio && (\n                  <p className=\"text-gray-500 mt-1 italic\">No bio yet</p>\n                )}\n              </div>\n\n              {/* Streak Counter */}\n              <div className=\"bg-orange-50 rounded-lg px-4 py-2 mb-4 border border-orange-200 flex items-center justify-between\">\n                <div className=\"flex items-center space-x-2\">\n                  <span className=\"text-orange-500\"></span>\n                  <span className=\"font-semibold text-gray-800\">Daily Streak:</span>\n                  {streakLoading ? (\n                    <span className=\"text-lg text-orange-500\">Loading...</span>\n                  ) : streak > 0 ? (\n                    <span className=\"text-2xl font-bold text-orange-500\">{streak} {streak === 1 ? 'day' : 'days'}</span>\n                  ) : (\n                    <span className=\"text-lg text-orange-500\">Start your goal today!</span>\n                  )}\n                </div>\n                <div className=\"text-right\">\n                  <p className=\"text-xs text-gray-600\">\n                    {streakLoading ? 'Calculating...' : streak > 0 \n                      ? `Hit your goal for ${streak} ${streak === 1 ? 'day' : 'days'} in a row!` \n                      : 'Build a streak!'\n                    }\n                  </p>\n                </div>\n              </div>\n\n              {/* Nutrition Profile Summary */}\n              <div className=\"bg-gray-50 rounded-lg p-4\">\n                <h3 className=\"font-semibold text-gray-800 mb-2\">Nutrition Goals</h3>\n                {!profileData.profile.daily_calories && !profileData.profile.weight ? (\n                  <div className=\"text-center py-4\">\n                    <p className=\"text-gray-500 mb-3\">Complete your profile to set nutrition goals</p>\n                    <button className=\"bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 px-4 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200 shadow-md\">\n                      Set Goals\n                    </button>\n                  </div>\n                ) : (\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                    <div>\n                      <span className=\"text-gray-600\">Daily Calories:</span>\n                      <span className=\"ml-2 font-medium\">{profileData.profile.daily_calories || 'Not set'}</span>\n                    </div>\n                    <div>\n                      <span className=\"text-gray-600\">Daily Protein:</span>\n                      <span className=\"ml-2 font-medium\">{profileData.profile.daily_protein || 'Not set'}g</span>\n                    </div>\n                    <div>\n                      <span className=\"text-gray-600\">Current Weight:</span>\n                      <span className=\"ml-2 font-medium\">{profileData.profile.weight || 'Not set'} lbs</span>\n                    </div>\n                    <div>\n                      <span className=\"text-gray-600\">Target Weight:</span>\n                      <span className=\"ml-2 font-medium\">{profileData.profile.target_weight || 'Not set'} lbs</span>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Create Post Button */}\n        <div className=\"px-6 py-6 border-b border-gray-200\">\n          <button\n            onClick={() => setShowCreatePost(true)}\n            className=\"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white py-3 px-4 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2 shadow-md hover:shadow-lg\"\n          >\n            <PenTool className=\"w-5 h-5\" />\n            <span>Create a new post</span>\n          </button>\n        </div>\n      </div>\n\n      {/* Create Post Modal */}\n      {showCreatePost && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[85vh] flex flex-col\">\n            {/* Modal Header */}\n            <div className=\"flex items-center justify-between p-4 border-b border-gray-200 flex-shrink-0\">\n              <h3 className=\"text-xl font-semibold text-gray-900\">Create New Post</h3>\n              <button\n                onClick={() => setShowCreatePost(false)}\n                className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n              >\n                <X className=\"h-6 w-6\" />\n              </button>\n            </div>\n\n            {/* Modal Body */}\n            <div className=\"p-4 space-y-4 flex-1 overflow-y-auto\">\n              {/* Text Input */}\n              <div>\n                <textarea\n                  value={newPost.content}\n                  onChange={(e) => setNewPost({ ...newPost, content: e.target.value })}\n                  placeholder=\"What's going on?\"\n                  className=\"w-full border border-gray-300 rounded-lg p-4 resize-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors\"\n                  rows={4}\n                />\n              </div>\n\n              {/* Image Preview */}\n              {newPost.imageFile && (\n                <div className=\"relative\">\n                  <img\n                    src={URL.createObjectURL(newPost.imageFile)}\n                    alt=\"Preview\"\n                    className=\"w-full h-40 object-cover rounded-lg\"\n                  />\n                  <button\n                    onClick={() => setNewPost({ ...newPost, imageFile: null })}\n                    className=\"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors shadow-lg\"\n                  >\n                    <X className=\"h-3 w-3\" />\n                  </button>\n                </div>\n              )}\n\n              {/* Upload Controls */}\n              <div className=\"border border-gray-200 rounded-lg p-3\">\n                <h4 className=\"font-medium text-gray-900 mb-2\">Add to your post</h4>\n                <div className=\"flex items-center space-x-4\">\n                  <label className=\"flex items-center space-x-2 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg cursor-pointer transition-colors\">\n                    <Image className=\"h-4 w-4\" />\n                    <span className=\"text-sm font-medium\">Upload Photo</span>\n                    <input\n                      type=\"file\"\n                      accept=\"image/*\"\n                      onChange={(e) => {\n                        const file = e.target.files?.[0];\n                        if (file) {\n                          setNewPost({ ...newPost, imageFile: file });\n                        }\n                      }}\n                      className=\"hidden\"\n                    />\n                  </label>\n                </div>\n              </div>\n\n              {/* Privacy Settings */}\n              <div className=\"border border-gray-200 rounded-lg p-3\">\n                <h4 className=\"font-medium text-gray-900 mb-3\">Privacy Settings</h4>\n                <div className=\"space-y-3\">\n                  {/* Allow Comments Toggle */}\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-700\">Allow comments</label>\n                      <p className=\"text-xs text-gray-500\">Let people comment on your post</p>\n                    </div>\n                    <button\n                      onClick={() => setNewPost({ ...newPost, allowComments: !newPost.allowComments })}\n                      className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\n                        newPost.allowComments ? 'bg-blue-600' : 'bg-gray-200'\n                      }`}\n                    >\n                      <span\n                        className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                          newPost.allowComments ? 'translate-x-6' : 'translate-x-1'\n                        }`}\n                      />\n                    </button>\n                  </div>\n\n                  {/* Hide Like Count Toggle */}\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-700\">Hide like count</label>\n                      <p className=\"text-xs text-gray-500\">Only you will see the total number of likes</p>\n                    </div>\n                    <button\n                      onClick={() => setNewPost({ ...newPost, hideLikeCount: !newPost.hideLikeCount })}\n                      className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\n                        newPost.hideLikeCount ? 'bg-blue-600' : 'bg-gray-200'\n                      }`}\n                    >\n                      <span\n                        className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                          newPost.hideLikeCount ? 'translate-x-6' : 'translate-x-1'\n                        }`}\n                      />\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Modal Footer */}\n            <div className=\"flex items-center justify-end space-x-3 p-4 border-t border-gray-200 bg-gray-50 flex-shrink-0\">\n              <button\n                onClick={() => setShowCreatePost(false)}\n                className=\"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={() => {\n                  console.log('SocialProfile Post button clicked', newPost);\n                  handleCreatePost();\n                }}\n                disabled={!newPost.content.trim()}\n                className=\"px-6 py-2 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 disabled:bg-gray-400 text-white rounded-lg font-medium transition-all duration-200 shadow-md hover:shadow-lg\"\n              >\n                Post\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Tabs */}\n      <div className=\"flex border-b border-gray-200 px-6\">\n        <button\n          onClick={() => setActiveTab('posts')}\n          className={`flex items-center space-x-2 px-8 py-5 border-b-2 transition-colors ${\n            activeTab === 'posts' \n              ? 'border-gray-900 text-gray-900' \n              : 'border-transparent text-gray-500 hover:text-gray-700'\n          }`}\n        >\n          <Grid className=\"w-4 h-4\" />\n          <span>POSTS</span>\n        </button>\n        <button\n          onClick={() => setActiveTab('liked')}\n          className={`flex items-center space-x-2 px-8 py-5 border-b-2 transition-colors ${\n            activeTab === 'liked' \n              ? 'border-gray-900 text-gray-900' \n              : 'border-transparent text-gray-500 hover:text-gray-700'\n          }`}\n        >\n          <Heart className=\"w-4 h-4\" />\n          <span>LIKED</span>\n        </button>\n        <button\n          onClick={() => setActiveTab('saved')}\n          className={`flex items-center space-x-2 px-8 py-5 border-b-2 transition-colors ${\n            activeTab === 'saved' \n              ? 'border-gray-900 text-gray-900' \n              : 'border-transparent text-gray-500 hover:text-gray-700'\n          }`}\n        >\n          <Bookmark className=\"w-4 h-4\" />\n          <span>SAVED</span>\n        </button>\n      </div>\n\n      {/* Posts Feed */}\n      {activeTab === 'posts' && (\n        <div className=\"space-y-6 pt-6 px-6 bg-white\">\n          {posts.map((post) => (\n            <div key={post.id} className=\"border border-gray-200 rounded-lg\">\n              {/* Post Header */}\n              <div className=\"flex items-center justify-between p-4 pb-3\">\n                <div className=\"flex items-center space-x-3\">\n                  {profileData?.profile?.profile_picture ? (\n                    <img\n                      src={profileData.profile.profile_picture}\n                      alt={`${user?.first_name} ${user?.last_name}`}\n                      className=\"w-10 h-10 rounded-full object-cover\"\n                    />\n                  ) : (\n                    <div className=\"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center\">\n                      <UserCircle className=\"w-6 h-6 text-gray-400\" />\n                    </div>\n                  )}\n                  <div>\n                    <h3 className=\"font-semibold text-gray-900\">\n                      {user?.first_name} {user?.last_name}\n                    </h3>\n                    <p className=\"text-sm text-gray-500\">\n                      {new Date(post.created_at).toLocaleDateString('en-US', {\n                        month: 'short',\n                        day: 'numeric',\n                        hour: 'numeric',\n                        minute: '2-digit'\n                      })}\n                    </p>\n                  </div>\n                </div>\n                <MoreHorizontal className=\"w-5 h-5 text-gray-400 cursor-pointer hover:text-gray-600\" />\n              </div>\n\n              {/* Post Content */}\n              {post.content && (\n                <div className=\"px-4 pb-3\">\n                  <p className=\"text-gray-900\">{post.content}</p>\n                </div>\n              )}\n\n              {/* Post Image */}\n              {post.image_url && (\n                <div className=\"px-4 pb-3\">\n                  <img\n                    src={post.image_url}\n                    alt=\"Post content\"\n                    className=\"w-full rounded-lg object-cover max-h-96\"\n                  />\n                </div>\n              )}\n\n              {/* Post Actions */}\n              <div className=\"flex items-center justify-between px-4 py-3 border-t border-gray-100\">\n                <div className=\"flex items-center space-x-4\">\n                  <button\n                    onClick={() => handleLike(post.id)}\n                    className={`flex items-center space-x-1 transition-colors ${\n                      post.is_liked ? 'text-red-600' : 'text-gray-600 hover:text-red-600'\n                    }`}\n                  >\n                    <Heart className={`w-5 h-5 ${post.is_liked ? 'fill-current' : ''}`} />\n                    {!post.hide_like_count && <span className=\"text-sm\">{post.likes_count}</span>}\n                  </button>\n                  \n                  {post.allow_comments && (\n                    <button className=\"flex items-center space-x-1 text-gray-600 hover:text-blue-600 transition-colors\">\n                      <MessageCircle className=\"w-5 h-5\" />\n                      <span className=\"text-sm\">{post.comments_count}</span>\n                    </button>\n                  )}\n                  \n                  <button className=\"flex items-center space-x-1 text-gray-600 hover:text-green-600 transition-colors\">\n                    <Share className=\"w-5 h-5\" />\n                  </button>\n                </div>\n                \n                <button\n                  onClick={() => handleBookmark(post.id)}\n                  className={`flex items-center space-x-2 transition-colors ${\n                    post.is_bookmarked ? 'text-blue-500' : 'text-gray-400 hover:text-blue-500'\n                  }`}\n                >\n                  <Bookmark className={`w-5 h-5 ${post.is_bookmarked ? 'fill-current' : ''}`} />\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Liked Posts */}\n      {activeTab === 'liked' && (\n        <div className=\"space-y-6 pt-6 px-6 bg-white\">\n          {likedPosts.map((post) => (\n            <div key={post.id} className=\"border border-gray-200 rounded-lg\">\n              {/* Post Header */}\n              <div className=\"flex items-center justify-between p-4 pb-3\">\n                <div className=\"flex items-center space-x-3\">\n                  {post.user.profile_picture ? (\n                    <img\n                      src={post.user.profile_picture}\n                      alt={`${post.user.first_name} ${post.user.last_name}`}\n                      className=\"w-10 h-10 rounded-full object-cover\"\n                    />\n                  ) : (\n                    <div className=\"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center\">\n                      <UserCircle className=\"w-6 h-6 text-gray-400\" />\n                    </div>\n                  )}\n                  <div>\n                    <h3 className=\"font-semibold text-gray-900\">\n                      {post.user.first_name} {post.user.last_name}\n                    </h3>\n                    <p className=\"text-sm text-gray-500\">\n                      {new Date(post.created_at).toLocaleDateString('en-US', {\n                        month: 'short',\n                        day: 'numeric',\n                        hour: 'numeric',\n                        minute: '2-digit'\n                      })}\n                    </p>\n                  </div>\n                </div>\n                <MoreHorizontal className=\"w-5 h-5 text-gray-400 cursor-pointer hover:text-gray-600\" />\n              </div>\n\n              {/* Post Content */}\n              {post.content && (\n                <div className=\"px-4 pb-3\">\n                  <p className=\"text-gray-900\">{post.content}</p>\n                </div>\n              )}\n\n              {/* Post Image */}\n              {post.image_url && (\n                <div className=\"px-4 pb-3\">\n                  <img\n                    src={post.image_url}\n                    alt=\"Post content\"\n                    className=\"w-full rounded-lg object-cover max-h-96\"\n                  />\n                </div>\n              )}\n\n              {/* Post Actions */}\n              <div className=\"flex items-center justify-between p-4 border-t border-gray-200\">\n                <div className=\"flex items-center space-x-4\">\n                  <button\n                    onClick={() => handleLike(post.id)}\n                    className={`flex items-center space-x-2 transition-colors ${\n                      post.is_liked ? 'text-red-500' : 'text-gray-400 hover:text-red-500'\n                    }`}\n                  >\n                    <Heart className={`w-6 h-6 ${post.is_liked ? 'fill-current' : ''}`} />\n                    {!post.hide_like_count && (\n                      <span className=\"text-sm\">{post.likes_count}</span>\n                    )}\n                  </button>\n                  <button className=\"text-gray-400 hover:text-gray-600 transition-colors\">\n                    <MessageCircle className=\"w-6 h-6\" />\n                    <span className=\"text-sm ml-1\">{post.comments_count}</span>\n                  </button>\n                  <button className=\"text-gray-400 hover:text-gray-600 transition-colors\">\n                    <Share className=\"w-6 h-6\" />\n                  </button>\n                </div>\n                <button\n                  onClick={() => handleBookmark(post.id)}\n                  className={`flex items-center space-x-2 transition-colors ${\n                    post.is_bookmarked ? 'text-blue-500' : 'text-gray-400 hover:text-blue-500'\n                  }`}\n                >\n                  <Bookmark className={`w-6 h-6 ${post.is_bookmarked ? 'fill-current' : ''}`} />\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Saved Posts */}\n      {activeTab === 'saved' && (\n        <div className=\"space-y-6 pt-6 px-6 bg-white\">\n          {bookmarkedPosts.map((post) => (\n            <div key={post.id} className=\"border border-gray-200 rounded-lg\">\n              {/* Post Header */}\n              <div className=\"flex items-center justify-between p-4 pb-3\">\n                <div className=\"flex items-center space-x-3\">\n                  {post.user.profile_picture ? (\n                    <img\n                      src={post.user.profile_picture}\n                      alt={`${post.user.first_name} ${post.user.last_name}`}\n                      className=\"w-10 h-10 rounded-full object-cover\"\n                    />\n                  ) : (\n                    <div className=\"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center\">\n                      <UserCircle className=\"w-6 h-6 text-gray-400\" />\n                    </div>\n                  )}\n                  <div>\n                    <h3 className=\"font-semibold text-gray-900\">\n                      {post.user.first_name} {post.user.last_name}\n                    </h3>\n                    <p className=\"text-sm text-gray-500\">\n                      {new Date(post.created_at).toLocaleDateString('en-US', {\n                        month: 'short',\n                        day: 'numeric',\n                        hour: 'numeric',\n                        minute: '2-digit'\n                      })}\n                    </p>\n                  </div>\n                </div>\n                <MoreHorizontal className=\"w-5 h-5 text-gray-400 cursor-pointer hover:text-gray-600\" />\n              </div>\n\n              {/* Post Content */}\n              {post.content && (\n                <div className=\"px-4 pb-3\">\n                  <p className=\"text-gray-900\">{post.content}</p>\n                </div>\n              )}\n\n              {/* Post Image */}\n              {post.image_url && (\n                <div className=\"px-4 pb-3\">\n                  <img\n                    src={post.image_url}\n                    alt=\"Post content\"\n                    className=\"w-full rounded-lg object-cover max-h-96\"\n                  />\n                </div>\n              )}\n\n              {/* Post Actions */}\n              <div className=\"flex items-center justify-between p-4 border-t border-gray-200\">\n                <div className=\"flex items-center space-x-4\">\n                  <button\n                    onClick={() => handleLike(post.id)}\n                    className={`flex items-center space-x-2 transition-colors ${\n                      post.is_liked ? 'text-red-500' : 'text-gray-400 hover:text-red-500'\n                    }`}\n                  >\n                    <Heart className={`w-6 h-6 ${post.is_liked ? 'fill-current' : ''}`} />\n                    {!post.hide_like_count && (\n                      <span className=\"text-sm\">{post.likes_count}</span>\n                    )}\n                  </button>\n                  <button className=\"text-gray-400 hover:text-gray-600 transition-colors\">\n                    <MessageCircle className=\"w-6 h-6\" />\n                    <span className=\"text-sm ml-1\">{post.comments_count}</span>\n                  </button>\n                  <button className=\"text-gray-400 hover:text-gray-600 transition-colors\">\n                    <Share className=\"w-6 h-6\" />\n                  </button>\n                </div>\n                <button\n                  onClick={() => handleBookmark(post.id)}\n                  className={`flex items-center space-x-2 transition-colors ${\n                    post.is_bookmarked ? 'text-blue-500' : 'text-gray-400 hover:text-blue-500'\n                  }`}\n                >\n                  <Bookmark className={`w-6 h-6 ${post.is_bookmarked ? 'fill-current' : ''}`} />\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n\n      {/* No Posts Message */}\n      {activeTab === 'posts' && posts.length === 0 && (\n        <div className=\"p-12 text-center text-gray-500 mx-6 bg-white\">\n          <PenTool className=\"w-16 h-16 mx-auto mb-4 text-gray-300\" />\n          <h3 className=\"text-xl font-medium mb-2\">No posts yet!</h3>\n          <p>When you share photos and videos, they'll appear on your profile.</p>\n          <button\n            onClick={() => setShowCreatePost(true)}\n            className=\"mt-4 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\"\n          >\n            Share your first photo\n          </button>\n        </div>\n      )}\n\n      {/* No Liked Posts Message */}\n      {activeTab === 'liked' && likedPosts.length === 0 && (\n        <div className=\"p-12 text-center text-gray-500 mx-6 bg-white\">\n          <Heart className=\"w-16 h-16 mx-auto mb-4 text-gray-300\" />\n          <h3 className=\"text-xl font-medium mb-2\">No liked posts yet</h3>\n          <p>Posts you like will appear here.</p>\n        </div>\n      )}\n\n      {/* No Saved Posts Message */}\n      {activeTab === 'saved' && bookmarkedPosts.length === 0 && (\n        <div className=\"p-12 text-center text-gray-500 mx-6 bg-white\">\n          <Bookmark className=\"w-16 h-16 mx-auto mb-4 text-gray-300\" />\n          <h3 className=\"text-xl font-medium mb-2\">No saved posts yet</h3>\n          <p>Posts you save will appear here.</p>\n        </div>\n      )}\n\n      {/* Edit Profile Modal */}\n      {showEditProfile && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto\">\n            <h3 className=\"text-lg font-semibold mb-4\">Edit Profile</h3>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Daily Calories</label>\n                <input\n                  type=\"number\"\n                  value={editProfileData.daily_calories || ''}\n                  onChange={(e) => setEditProfileData(prev => ({ ...prev, daily_calories: parseFloat(e.target.value) || 0 }))}\n                  className=\"w-full border border-gray-300 rounded-lg p-2\"\n                  placeholder=\"2000\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Daily Protein (g)</label>\n                <input\n                  type=\"number\"\n                  value={editProfileData.daily_protein || ''}\n                  onChange={(e) => setEditProfileData(prev => ({ ...prev, daily_protein: parseFloat(e.target.value) || 0 }))}\n                  className=\"w-full border border-gray-300 rounded-lg p-2\"\n                  placeholder=\"150\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Current Weight (lbs)</label>\n                <input\n                  type=\"number\"\n                  value={editProfileData.weight || ''}\n                  onChange={(e) => setEditProfileData(prev => ({ ...prev, weight: parseFloat(e.target.value) || 0 }))}\n                  className=\"w-full border border-gray-300 rounded-lg p-2\"\n                  placeholder=\"150\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Target Weight (lbs)</label>\n                <input\n                  type=\"number\"\n                  value={editProfileData.target_weight || ''}\n                  onChange={(e) => setEditProfileData(prev => ({ ...prev, target_weight: parseFloat(e.target.value) || 0 }))}\n                  className=\"w-full border border-gray-300 rounded-lg p-2\"\n                  placeholder=\"140\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Height (inches)</label>\n                <input\n                  type=\"number\"\n                  value={editProfileData.height || ''}\n                  onChange={(e) => setEditProfileData(prev => ({ ...prev, height: parseFloat(e.target.value) || 0 }))}\n                  className=\"w-full border border-gray-300 rounded-lg p-2\"\n                  placeholder=\"70\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Age</label>\n                <input\n                  type=\"number\"\n                  value={editProfileData.age || ''}\n                  onChange={(e) => setEditProfileData(prev => ({ ...prev, age: parseFloat(e.target.value) || 0 }))}\n                  className=\"w-full border border-gray-300 rounded-lg p-2\"\n                  placeholder=\"25\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Activity Level</label>\n                <select\n                  value={editProfileData.activity_level}\n                  onChange={(e) => setEditProfileData(prev => ({ ...prev, activity_level: e.target.value }))}\n                  className=\"w-full border border-gray-300 rounded-lg p-2\"\n                >\n                  <option value=\"sedentary\">Sedentary</option>\n                  <option value=\"light\">Light</option>\n                  <option value=\"moderate\">Moderate</option>\n                  <option value=\"active\">Active</option>\n                  <option value=\"very_active\">Very Active</option>\n                </select>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Gender</label>\n                <select\n                  value={editProfileData.gender}\n                  onChange={(e) => setEditProfileData(prev => ({ ...prev, gender: e.target.value }))}\n                  className=\"w-full border border-gray-300 rounded-lg p-2\"\n                >\n                  <option value=\"male\">Male</option>\n                  <option value=\"female\">Female</option>\n                  <option value=\"other\">Other</option>\n                </select>\n              </div>\n            </div>\n            \n            <div className=\"mb-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Bio</label>\n              <textarea\n                value={editProfileData.bio || ''}\n                onChange={(e) => setEditProfileData(prev => ({ ...prev, bio: e.target.value }))}\n                className=\"w-full border border-gray-300 rounded-lg p-2\"\n                rows={3}\n                placeholder=\"Tell us about yourself...\"\n              />\n            </div>\n            \n            <div className=\"flex space-x-3\">\n              <button\n                onClick={handleEditProfile}\n                className=\"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\"\n              >\n                Save Changes\n              </button>\n              <button\n                onClick={() => setShowEditProfile(false)}\n                className=\"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SocialProfile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}