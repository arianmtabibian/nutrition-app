{"ast":null,"code":"import React,{useState,useEffect}from'react';import{format}from'date-fns';import{Target,Flame,Beef,TrendingUp,Calendar,Zap,Plus}from'lucide-react';import{profileAPI,mealsAPI}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Weight Analysis Component\nconst WeightAnalysis=_ref=>{let{currentWeight,targetWeight,dailyCalorieGoal}=_ref;const[weeklyData,setWeeklyData]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{loadWeeklyData();},[]);const loadWeeklyData=async()=>{try{setLoading(true);const endDate=format(new Date(),'yyyy-MM-dd');const startDate=format(new Date(Date.now()-7*24*60*60*1000),'yyyy-MM-dd');// Get meals for the past week\nconst response=await mealsAPI.getByRange(startDate,endDate);const meals=response.data.meals||[];// Group meals by date and calculate daily totals\nconst dailyTotals=meals.reduce((acc,meal)=>{const date=meal.meal_date;if(!acc[date]){acc[date]={calories:0,protein:0};}acc[date].calories+=meal.calories||0;acc[date].protein+=meal.protein||0;return acc;},{});// Convert to array and sort by date\nconst weeklyDataArray=Object.entries(dailyTotals).map(_ref2=>{let[date,totals]=_ref2;return{date,calories:totals.calories,deficit:dailyCalorieGoal-totals.calories};}).sort((a,b)=>new Date(a.date).getTime()-new Date(b.date).getTime());setWeeklyData(weeklyDataArray);}catch(error){console.error('Failed to load weekly data:',error);}finally{setLoading(false);}};const weightDifference=targetWeight-currentWeight;const isWeightLoss=weightDifference<0;const absWeightDifference=Math.abs(weightDifference);// Calculate average daily calorie deficit/surplus over the past week\nconst averageDailyDeficit=weeklyData.length>0?weeklyData.reduce((sum,day)=>sum+day.deficit,0)/weeklyData.length:0;// Calculate time to reach target weight\n// 1 lb of fat = approximately 3,500 calories\nconst caloriesPerLb=3500;const totalCaloriesNeeded=absWeightDifference*caloriesPerLb;const daysToTarget=averageDailyDeficit!==0?Math.abs(totalCaloriesNeeded/averageDailyDeficit):0;const weeksToTarget=daysToTarget/7;if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center py-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold text-gray-900\",children:[currentWeight,\" lbs\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Current Weight\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold text-primary-600\",children:[targetWeight,\" lbs\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Target Weight\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold \".concat(isWeightLoss?'text-green-600':'text-orange-600'),children:[absWeightDifference.toFixed(1),\" lbs\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-600\",children:[\"to \",isWeightLoss?'Lose':'Gain']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold \".concat(averageDailyDeficit>0?'text-green-600':'text-orange-600'),children:Math.abs(averageDailyDeficit).toFixed(0)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-600\",children:[averageDailyDeficit>0?'Cal Deficit':'Cal Surplus',\"/day\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-4 border border-blue-200\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-blue-900 mb-3\",children:\"Weekly Progress Analysis\"}),weeklyData.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[\"Average daily calorie \",averageDailyDeficit>0?'deficit':'surplus',\":\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium \".concat(averageDailyDeficit>0?'text-green-600':'text-orange-600'),children:[Math.abs(averageDailyDeficit).toFixed(0),\" calories\"]})]}),averageDailyDeficit!==0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"At this pace, you'll reach your target in:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-blue-600\",children:daysToTarget<30?\"\".concat(Math.round(daysToTarget),\" days\"):\"\".concat(weeksToTarget.toFixed(1),\" weeks\")})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-2\",children:\"* Based on past week's average calorie intake vs. your daily goal\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:\"No meal data available for the past week. Add meals to see your progress analysis.\"})]})]});};const Overview=()=>{const[profile,setProfile]=useState(null);const[todayNutrition,setTodayNutrition]=useState(null);const[loading,setLoading]=useState(true);const[today]=useState(format(new Date(),'yyyy-MM-dd'));useEffect(()=>{loadOverviewData();},[]);const loadOverviewData=async()=>{try{var _profileResponse$data,_profileResponse$data2,_profileResponse$data3,_profileResponse$data4;setLoading(true);// Load user profile\nconst profileResponse=await profileAPI.get();if(profileResponse.data.profile){setProfile(profileResponse.data.profile);}// Load today's meals directly to calculate totals\nconst mealsResponse=await mealsAPI.getByDate(today);console.log('Meals response:',mealsResponse.data);// Calculate totals from meals\nconst meals=mealsResponse.data.meals||[];const totalCalories=meals.reduce((sum,meal)=>sum+(meal.calories||0),0);const totalProtein=meals.reduce((sum,meal)=>sum+(meal.protein||0),0);const totalCarbs=meals.reduce((sum,meal)=>sum+(meal.carbs||0),0);const totalFat=meals.reduce((sum,meal)=>sum+(meal.fat||0),0);const totalFiber=meals.reduce((sum,meal)=>sum+(meal.fiber||0),0);const totalSugar=meals.reduce((sum,meal)=>sum+(meal.sugar||0),0);const totalSodium=meals.reduce((sum,meal)=>sum+(meal.sodium||0),0);// Create nutrition data object\nconst nutritionData={total_calories:totalCalories,total_protein:totalProtein,total_carbs:totalCarbs,total_fat:totalFat,total_fiber:totalFiber,total_sugar:totalSugar,total_sodium:totalSodium,calories_goal:((_profileResponse$data=profileResponse.data.profile)===null||_profileResponse$data===void 0?void 0:_profileResponse$data.daily_calories)||0,protein_goal:((_profileResponse$data2=profileResponse.data.profile)===null||_profileResponse$data2===void 0?void 0:_profileResponse$data2.daily_protein)||0,calories_met:totalCalories>=(((_profileResponse$data3=profileResponse.data.profile)===null||_profileResponse$data3===void 0?void 0:_profileResponse$data3.daily_calories)||0),protein_met:totalProtein>=(((_profileResponse$data4=profileResponse.data.profile)===null||_profileResponse$data4===void 0?void 0:_profileResponse$data4.daily_protein)||0),date:today};console.log('Calculated nutrition data:',nutritionData);setTodayNutrition(nutritionData);}catch(error){console.error('Failed to load overview data:',error);}finally{setLoading(false);}};// Refresh data when component mounts or when today changes\nuseEffect(()=>{loadOverviewData();},[today]);// Add a manual refresh function\nconst refreshData=()=>{loadOverviewData();};// Set up interval to refresh data every 30 seconds\nuseEffect(()=>{const interval=setInterval(()=>{loadOverviewData();},30000);// 30 seconds\nreturn()=>clearInterval(interval);},[]);// Refresh data when the tab becomes visible (user switches back to this tab)\nuseEffect(()=>{const handleVisibilityChange=()=>{if(!document.hidden){console.log('Tab became visible, refreshing data...');loadOverviewData();}};document.addEventListener('visibilitychange',handleVisibilityChange);return()=>document.removeEventListener('visibilitychange',handleVisibilityChange);},[]);// Listen for storage events to refresh when meals are added from other tabs\nuseEffect(()=>{const handleStorageChange=e=>{if(e.key==='mealAdded'||e.key==='mealDeleted'){console.log('Storage event detected, refreshing data...');loadOverviewData();}};// Also listen for custom events that can be triggered from the same tab\nconst handleCustomEvent=()=>{console.log('Custom event detected, refreshing data...');loadOverviewData();};window.addEventListener('storage',handleStorageChange);window.addEventListener('mealDataChanged',handleCustomEvent);return()=>{window.removeEventListener('storage',handleStorageChange);window.removeEventListener('mealDataChanged',handleCustomEvent);};},[]);const calculateRemaining=(consumed,goal)=>{return Math.max(0,goal-consumed);};const calculateProgress=(consumed,goal)=>{return Math.min(100,consumed/goal*100);};const getProgressColor=progress=>{if(progress>=100)return'bg-success-500';return'bg-primary-500';};const getStatusIcon=met=>{return met?/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-success-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"w-5 h-5 text-success-600\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Target,{className:\"w-5 h-5 text-gray-500\"})});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600\"})});}// Debug information (remove this in production)\nconsole.log('Overview component state:',{profile,todayNutrition,today});if(!profile){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Target,{className:\"h-16 w-16 mx-auto mb-4 text-gray-300\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No Profile Set\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:\"Set your daily nutrition goals in the Profile tab to see your overview.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href='/dashboard/profile',className:\"btn-primary\",children:\"Set Goals\"})]});}// Show message if no nutrition data for today (check if we have actual meal data)\nif(!todayNutrition||todayNutrition.total_calories===0&&todayNutrition.total_protein===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Daily Overview\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Track your nutrition progress for today\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:refreshData,className:\"btn-secondary flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Zap,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Refresh\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:format(new Date(),'EEEE, MMMM d, yyyy')})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Flame,{className:\"h-16 w-16 mx-auto mb-4 text-gray-300\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No Meals Logged Today\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:\"Start tracking your nutrition by adding your first meal of the day.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href='/dashboard/inputs',className:\"btn-primary\",children:\"Add Meal\"}),/*#__PURE__*/_jsx(\"button\",{onClick:refreshData,className:\"btn-secondary\",children:\"Refresh Data\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Flame,{className:\"w-6 h-6 text-orange-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Calories\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Daily Goal\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Target,{className:\"w-5 h-5 text-gray-500\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-gray-900\",children:\"0\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg text-gray-500\",children:[\"/ \",profile.daily_calories]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-3 rounded-full transition-all duration-300 bg-gray-300\",style:{width:'0%'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center text-sm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[profile.daily_calories,\" left\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900\",children:\"0%\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Beef,{className:\"w-6 h-6 text-red-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Protein\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Daily Goal\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Target,{className:\"w-5 h-5 text-gray-500\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-gray-900\",children:\"0g\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg text-gray-500\",children:[\"/ \",profile.daily_protein,\"g\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-3 rounded-full transition-all duration-300 bg-gray-300\",style:{width:'0%'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center text-sm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[profile.daily_protein,\"g left\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900\",children:\"0%\"})]})]})]})]})]});}// Ensure we have valid numbers for calculations\nconst currentCalories=(todayNutrition===null||todayNutrition===void 0?void 0:todayNutrition.total_calories)||0;const currentProtein=(todayNutrition===null||todayNutrition===void 0?void 0:todayNutrition.total_protein)||0;const caloriesGoal=profile.daily_calories||0;const proteinGoal=profile.daily_protein||0;const caloriesRemaining=calculateRemaining(currentCalories,caloriesGoal);const proteinRemaining=calculateRemaining(currentProtein,proteinGoal);const caloriesProgress=calculateProgress(currentCalories,caloriesGoal);const proteinProgress=calculateProgress(currentProtein,proteinGoal);return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Daily Overview\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Track your nutrition progress for today\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:refreshData,className:\"btn-secondary flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Zap,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Refresh\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:format(new Date(),'EEEE, MMMM d, yyyy')})]})]})]}),profile.weight&&profile.target_weight&&/*#__PURE__*/_jsxs(\"div\",{className:\"card bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-4\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"h-5 w-5 text-blue-600\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-blue-900\",children:\"Weight Progress Analysis\"})]}),/*#__PURE__*/_jsx(WeightAnalysis,{currentWeight:profile.weight,targetWeight:profile.target_weight,dailyCalorieGoal:profile.daily_calories})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Flame,{className:\"w-6 h-6 text-orange-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Calories\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Daily Goal\"})]})]}),getStatusIcon((todayNutrition===null||todayNutrition===void 0?void 0:todayNutrition.calories_met)||false)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-gray-900\",children:currentCalories}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg text-gray-500\",children:[\"/ \",caloriesGoal]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-3 rounded-full transition-all duration-300 \".concat(getProgressColor(caloriesProgress)),style:{width:\"\".concat(caloriesProgress,\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:caloriesRemaining>0?\"\".concat(caloriesRemaining,\" left\"):'Goal achieved! ðŸŽ‰'}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-gray-900\",children:[Math.round(caloriesProgress),\"%\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Beef,{className:\"w-6 h-6 text-red-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Protein\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Daily Goal\"})]})]}),getStatusIcon((todayNutrition===null||todayNutrition===void 0?void 0:todayNutrition.protein_met)||false)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-2xl font-bold text-gray-900\",children:[currentProtein,\"g\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg text-gray-500\",children:[\"/ \",proteinGoal,\"g\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-3 rounded-full transition-all duration-300 \".concat(getProgressColor(proteinProgress)),style:{width:\"\".concat(proteinProgress,\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:proteinRemaining>0?\"\".concat(proteinRemaining,\"g left\"):'Goal achieved! ðŸŽ‰'}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-gray-900\",children:[Math.round(proteinProgress),\"%\"]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Additional Nutrients\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold text-gray-900\",children:[(todayNutrition===null||todayNutrition===void 0?void 0:todayNutrition.total_carbs)||0,\"g\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Carbs\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold text-gray-900\",children:[(todayNutrition===null||todayNutrition===void 0?void 0:todayNutrition.total_fat)||0,\"g\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Fat\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold text-gray-900\",children:[(todayNutrition===null||todayNutrition===void 0?void 0:todayNutrition.total_fiber)||0,\"g\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Fiber\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold text-gray-900\",children:[(todayNutrition===null||todayNutrition===void 0?void 0:todayNutrition.total_sugar)||0,\"g\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Sugar\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold text-gray-900\",children:[(todayNutrition===null||todayNutrition===void 0?void 0:todayNutrition.total_sodium)||0,\"mg\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"Sodium\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card bg-gradient-to-r from-primary-50 to-blue-50 border-primary-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-primary-800 mb-4\",children:\"Quick Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.location.href='/dashboard/inputs',className:\"flex items-center space-x-3 p-4 bg-white rounded-lg border border-primary-200 hover:border-primary-300 transition-colors\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-6 h-6 text-primary-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:\"Add Meal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:\"Log your nutrition\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.location.href='/dashboard/profile',className:\"flex items-center space-x-3 p-4 bg-white rounded-lg border border-primary-200 hover:border-primary-300 transition-colors\",children:[/*#__PURE__*/_jsx(Target,{className:\"w-6 h-6 text-primary-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:\"Update Goals\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:\"Adjust targets\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.location.href='/dashboard/diary',className:\"flex items-center space-x-3 p-4 bg-white rounded-lg border border-primary-200 hover:border-primary-300 transition-colors\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-6 h-6 text-primary-600\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:\"View History\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:\"Track progress\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Today's Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-gray-900\",children:currentCalories}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Calories\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold text-gray-900\",children:[currentProtein,\"g\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Protein\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-gray-900\",children:caloriesRemaining}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Calories Left\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold text-gray-900\",children:[proteinRemaining,\"g\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Protein Left\"})]})]})]})]});};export default Overview;","map":{"version":3,"names":["React","useState","useEffect","format","Target","Flame","Beef","TrendingUp","Calendar","Zap","Plus","profileAPI","mealsAPI","jsx","_jsx","jsxs","_jsxs","WeightAnalysis","_ref","currentWeight","targetWeight","dailyCalorieGoal","weeklyData","setWeeklyData","loading","setLoading","loadWeeklyData","endDate","Date","startDate","now","response","getByRange","meals","data","dailyTotals","reduce","acc","meal","date","meal_date","calories","protein","weeklyDataArray","Object","entries","map","_ref2","totals","deficit","sort","a","b","getTime","error","console","weightDifference","isWeightLoss","absWeightDifference","Math","abs","averageDailyDeficit","length","sum","day","caloriesPerLb","totalCaloriesNeeded","daysToTarget","weeksToTarget","className","children","concat","toFixed","round","Overview","profile","setProfile","todayNutrition","setTodayNutrition","today","loadOverviewData","_profileResponse$data","_profileResponse$data2","_profileResponse$data3","_profileResponse$data4","profileResponse","get","mealsResponse","getByDate","log","totalCalories","totalProtein","totalCarbs","carbs","totalFat","fat","totalFiber","fiber","totalSugar","sugar","totalSodium","sodium","nutritionData","total_calories","total_protein","total_carbs","total_fat","total_fiber","total_sugar","total_sodium","calories_goal","daily_calories","protein_goal","daily_protein","calories_met","protein_met","refreshData","interval","setInterval","clearInterval","handleVisibilityChange","document","hidden","addEventListener","removeEventListener","handleStorageChange","e","key","handleCustomEvent","window","calculateRemaining","consumed","goal","max","calculateProgress","min","getProgressColor","progress","getStatusIcon","met","onClick","location","href","style","width","currentCalories","currentProtein","caloriesGoal","proteinGoal","caloriesRemaining","proteinRemaining","caloriesProgress","proteinProgress","weight","target_weight"],"sources":["C:/Users/arian/OneDrive/Desktop/Nutrition/client/src/components/Overview.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { format } from 'date-fns';\nimport { Target, Flame, Beef, TrendingUp, Calendar, Zap, Plus } from 'lucide-react';\nimport { profileAPI, mealsAPI, diaryAPI } from '../services/api';\n\ninterface UserProfile {\n  daily_calories: number;\n  daily_protein: number;\n  weight?: number;\n  target_weight?: number;\n}\n\ninterface DailyNutrition {\n  total_calories: number;\n  total_protein: number;\n  total_carbs?: number;\n  total_fat?: number;\n  total_fiber?: number;\n  total_sugar?: number;\n  total_sodium?: number;\n  calories_goal: number;\n  protein_goal: number;\n  calories_met: boolean;\n  protein_met: boolean;\n  date?: string;\n}\n\ninterface MealData {\n  id: number;\n  meal_date: string;\n  meal_type: string;\n  description: string;\n  calories: number;\n  protein: number;\n  carbs: number;\n  fat: number;\n  fiber: number;\n  sugar: number;\n  sodium: number;\n  created_at: string;\n}\n\n// Weight Analysis Component\nconst WeightAnalysis: React.FC<{\n  currentWeight: number;\n  targetWeight: number;\n  dailyCalorieGoal: number;\n}> = ({ currentWeight, targetWeight, dailyCalorieGoal }) => {\n  const [weeklyData, setWeeklyData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    loadWeeklyData();\n  }, []);\n\n  const loadWeeklyData = async () => {\n    try {\n      setLoading(true);\n      const endDate = format(new Date(), 'yyyy-MM-dd');\n      const startDate = format(new Date(Date.now() - 7 * 24 * 60 * 60 * 1000), 'yyyy-MM-dd');\n      \n      // Get meals for the past week\n      const response = await mealsAPI.getByRange(startDate, endDate);\n      const meals = response.data.meals || [];\n      \n      // Group meals by date and calculate daily totals\n      const dailyTotals = meals.reduce((acc: any, meal: any) => {\n        const date = meal.meal_date;\n        if (!acc[date]) {\n          acc[date] = { calories: 0, protein: 0 };\n        }\n        acc[date].calories += meal.calories || 0;\n        acc[date].protein += meal.protein || 0;\n        return acc;\n      }, {});\n      \n      // Convert to array and sort by date\n      const weeklyDataArray = Object.entries(dailyTotals).map(([date, totals]: [string, any]) => ({\n        date,\n        calories: totals.calories,\n        deficit: dailyCalorieGoal - totals.calories\n      })).sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime());\n      \n      setWeeklyData(weeklyDataArray);\n    } catch (error) {\n      console.error('Failed to load weekly data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const weightDifference = targetWeight - currentWeight;\n  const isWeightLoss = weightDifference < 0;\n  const absWeightDifference = Math.abs(weightDifference);\n  \n  // Calculate average daily calorie deficit/surplus over the past week\n  const averageDailyDeficit = weeklyData.length > 0 \n    ? weeklyData.reduce((sum, day) => sum + day.deficit, 0) / weeklyData.length\n    : 0;\n  \n  // Calculate time to reach target weight\n  // 1 lb of fat = approximately 3,500 calories\n  const caloriesPerLb = 3500;\n  const totalCaloriesNeeded = absWeightDifference * caloriesPerLb;\n  const daysToTarget = averageDailyDeficit !== 0 ? Math.abs(totalCaloriesNeeded / averageDailyDeficit) : 0;\n  const weeksToTarget = daysToTarget / 7;\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-4\">\n        <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Current Status */}\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                 <div className=\"text-center\">\n           <div className=\"text-lg font-bold text-gray-900\">{currentWeight} lbs</div>\n           <div className=\"text-xs text-gray-600\">Current Weight</div>\n         </div>\n         <div className=\"text-center\">\n           <div className=\"text-lg font-bold text-primary-600\">{targetWeight} lbs</div>\n           <div className=\"text-xs text-gray-600\">Target Weight</div>\n         </div>\n         <div className=\"text-center\">\n           <div className={`text-lg font-bold ${isWeightLoss ? 'text-green-600' : 'text-orange-600'}`}>\n             {absWeightDifference.toFixed(1)} lbs\n           </div>\n           <div className=\"text-xs text-gray-600\">to {isWeightLoss ? 'Lose' : 'Gain'}</div>\n         </div>\n        <div className=\"text-center\">\n          <div className={`text-lg font-bold ${averageDailyDeficit > 0 ? 'text-green-600' : 'text-orange-600'}`}>\n            {Math.abs(averageDailyDeficit).toFixed(0)}\n          </div>\n          <div className=\"text-xs text-gray-600\">\n            {averageDailyDeficit > 0 ? 'Cal Deficit' : 'Cal Surplus'}/day\n          </div>\n        </div>\n      </div>\n\n      {/* Progress Analysis */}\n      <div className=\"bg-white rounded-lg p-4 border border-blue-200\">\n        <h4 className=\"font-semibold text-blue-900 mb-3\">Weekly Progress Analysis</h4>\n        \n        {weeklyData.length > 0 ? (\n          <div className=\"space-y-3\">\n            <div className=\"flex justify-between text-sm\">\n              <span className=\"text-gray-600\">Average daily calorie {averageDailyDeficit > 0 ? 'deficit' : 'surplus'}:</span>\n              <span className={`font-medium ${averageDailyDeficit > 0 ? 'text-green-600' : 'text-orange-600'}`}>\n                {Math.abs(averageDailyDeficit).toFixed(0)} calories\n              </span>\n            </div>\n            \n            {averageDailyDeficit !== 0 && (\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-gray-600\">At this pace, you'll reach your target in:</span>\n                <span className=\"font-medium text-blue-600\">\n                  {daysToTarget < 30 ? `${Math.round(daysToTarget)} days` : `${weeksToTarget.toFixed(1)} weeks`}\n                </span>\n              </div>\n            )}\n            \n            <div className=\"text-xs text-gray-500 mt-2\">\n              * Based on past week's average calorie intake vs. your daily goal\n            </div>\n          </div>\n        ) : (\n          <div className=\"text-sm text-gray-500\">\n            No meal data available for the past week. Add meals to see your progress analysis.\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst Overview: React.FC = () => {\n  const [profile, setProfile] = useState<UserProfile | null>(null);\n  const [todayNutrition, setTodayNutrition] = useState<DailyNutrition | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [today] = useState(format(new Date(), 'yyyy-MM-dd'));\n\n  useEffect(() => {\n    loadOverviewData();\n  }, []);\n\n  const loadOverviewData = async () => {\n    try {\n      setLoading(true);\n      \n      // Load user profile\n      const profileResponse = await profileAPI.get();\n      if (profileResponse.data.profile) {\n        setProfile(profileResponse.data.profile);\n      }\n      \n      // Load today's meals directly to calculate totals\n      const mealsResponse = await mealsAPI.getByDate(today);\n      console.log('Meals response:', mealsResponse.data);\n      \n             // Calculate totals from meals\n       const meals: MealData[] = mealsResponse.data.meals || [];\n       const totalCalories = meals.reduce((sum: number, meal: MealData) => sum + (meal.calories || 0), 0);\n       const totalProtein = meals.reduce((sum: number, meal: MealData) => sum + (meal.protein || 0), 0);\n       const totalCarbs = meals.reduce((sum: number, meal: MealData) => sum + (meal.carbs || 0), 0);\n       const totalFat = meals.reduce((sum: number, meal: MealData) => sum + (meal.fat || 0), 0);\n       const totalFiber = meals.reduce((sum: number, meal: MealData) => sum + (meal.fiber || 0), 0);\n       const totalSugar = meals.reduce((sum: number, meal: MealData) => sum + (meal.sugar || 0), 0);\n       const totalSodium = meals.reduce((sum: number, meal: MealData) => sum + (meal.sodium || 0), 0);\n       \n       // Create nutrition data object\n       const nutritionData = {\n         total_calories: totalCalories,\n         total_protein: totalProtein,\n         total_carbs: totalCarbs,\n         total_fat: totalFat,\n         total_fiber: totalFiber,\n         total_sugar: totalSugar,\n         total_sodium: totalSodium,\n         calories_goal: profileResponse.data.profile?.daily_calories || 0,\n         protein_goal: profileResponse.data.profile?.daily_protein || 0,\n         calories_met: totalCalories >= (profileResponse.data.profile?.daily_calories || 0),\n         protein_met: totalProtein >= (profileResponse.data.profile?.daily_protein || 0),\n         date: today\n       };\n      \n      console.log('Calculated nutrition data:', nutritionData);\n      setTodayNutrition(nutritionData);\n      \n    } catch (error) {\n      console.error('Failed to load overview data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Refresh data when component mounts or when today changes\n  useEffect(() => {\n    loadOverviewData();\n  }, [today]);\n\n  // Add a manual refresh function\n  const refreshData = () => {\n    loadOverviewData();\n  };\n\n  // Set up interval to refresh data every 30 seconds\n  useEffect(() => {\n    const interval = setInterval(() => {\n      loadOverviewData();\n    }, 30000); // 30 seconds\n\n    return () => clearInterval(interval);\n  }, []);\n\n  // Refresh data when the tab becomes visible (user switches back to this tab)\n  useEffect(() => {\n    const handleVisibilityChange = () => {\n      if (!document.hidden) {\n        console.log('Tab became visible, refreshing data...');\n        loadOverviewData();\n      }\n    };\n\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n    return () => document.removeEventListener('visibilitychange', handleVisibilityChange);\n  }, []);\n\n  // Listen for storage events to refresh when meals are added from other tabs\n  useEffect(() => {\n    const handleStorageChange = (e: StorageEvent) => {\n      if (e.key === 'mealAdded' || e.key === 'mealDeleted') {\n        console.log('Storage event detected, refreshing data...');\n        loadOverviewData();\n      }\n    };\n\n    // Also listen for custom events that can be triggered from the same tab\n    const handleCustomEvent = () => {\n      console.log('Custom event detected, refreshing data...');\n      loadOverviewData();\n    };\n\n    window.addEventListener('storage', handleStorageChange);\n    window.addEventListener('mealDataChanged', handleCustomEvent);\n    \n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n      window.removeEventListener('mealDataChanged', handleCustomEvent);\n    };\n  }, []);\n\n  const calculateRemaining = (consumed: number, goal: number) => {\n    return Math.max(0, goal - consumed);\n  };\n\n  const calculateProgress = (consumed: number, goal: number) => {\n    return Math.min(100, (consumed / goal) * 100);\n  };\n\n  const getProgressColor = (progress: number) => {\n    if (progress >= 100) return 'bg-success-500';\n    return 'bg-primary-500';\n  };\n\n  const getStatusIcon = (met: boolean) => {\n    return met ? (\n      <div className=\"w-8 h-8 bg-success-100 rounded-full flex items-center justify-center\">\n        <TrendingUp className=\"w-5 h-5 text-success-600\" />\n      </div>\n    ) : (\n      <div className=\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center\">\n        <Target className=\"w-5 h-5 text-gray-500\" />\n      </div>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600\"></div>\n      </div>\n    );\n  }\n\n  // Debug information (remove this in production)\n  console.log('Overview component state:', {\n    profile,\n    todayNutrition,\n    today\n  });\n\n  if (!profile) {\n    return (\n      <div className=\"text-center py-12\">\n        <Target className=\"h-16 w-16 mx-auto mb-4 text-gray-300\" />\n        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No Profile Set</h3>\n        <p className=\"text-gray-500 mb-4\">Set your daily nutrition goals in the Profile tab to see your overview.</p>\n        <button\n          onClick={() => window.location.href = '/dashboard/profile'}\n          className=\"btn-primary\"\n        >\n          Set Goals\n        </button>\n      </div>\n    );\n  }\n\n  // Show message if no nutrition data for today (check if we have actual meal data)\n  if (!todayNutrition || (todayNutrition.total_calories === 0 && todayNutrition.total_protein === 0)) {\n    return (\n      <div className=\"space-y-6\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">Daily Overview</h2>\n            <p className=\"text-gray-600\">Track your nutrition progress for today</p>\n          </div>\n          <div className=\"flex items-center space-x-4\">\n            <button\n              onClick={refreshData}\n              className=\"btn-secondary flex items-center space-x-2\"\n            >\n              <Zap className=\"h-4 w-4\" />\n              <span>Refresh</span>\n            </button>\n            <div className=\"flex items-center space-x-2 text-sm text-gray-500\">\n              <Calendar className=\"h-4 w-4\" />\n              <span>{format(new Date(), 'EEEE, MMMM d, yyyy')}</span>\n            </div>\n          </div>\n        </div>\n\n        {/* No Data Message */}\n        <div className=\"text-center py-12\">\n          <Flame className=\"h-16 w-16 mx-auto mb-4 text-gray-300\" />\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No Meals Logged Today</h3>\n          <p className=\"text-gray-500 mb-4\">Start tracking your nutrition by adding your first meal of the day.</p>\n          <div className=\"flex justify-center space-x-4\">\n            <button\n              onClick={() => window.location.href = '/dashboard/inputs'}\n              className=\"btn-primary\"\n            >\n              Add Meal\n            </button>\n            <button\n              onClick={refreshData}\n              className=\"btn-secondary\"\n            >\n              Refresh Data\n            </button>\n          </div>\n        </div>\n\n        {/* Daily Goals Summary (with 0 values) */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          {/* Calories Card */}\n          <div className=\"card\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center\">\n                  <Flame className=\"w-6 h-6 text-orange-600\" />\n                </div>\n                <div>\n                  <h3 className=\"text-lg font-semibold text-gray-900\">Calories</h3>\n                  <p className=\"text-sm text-gray-500\">Daily Goal</p>\n                </div>\n              </div>\n              <div className=\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center\">\n                <Target className=\"w-5 h-5 text-gray-500\" />\n              </div>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-2xl font-bold text-gray-900\">0</span>\n                <span className=\"text-lg text-gray-500\">/ {profile.daily_calories}</span>\n              </div>\n\n              {/* Progress Bar */}\n              <div className=\"w-full bg-gray-200 rounded-full h-3\">\n                <div className=\"h-3 rounded-full transition-all duration-300 bg-gray-300\" style={{ width: '0%' }}></div>\n              </div>\n\n              <div className=\"flex justify-between items-center text-sm\">\n                <span className=\"text-gray-600\">{profile.daily_calories} left</span>\n                <span className=\"font-medium text-gray-900\">0%</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Protein Card */}\n          <div className=\"card\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center\">\n                  <Beef className=\"w-6 h-6 text-red-600\" />\n                </div>\n                <div>\n                  <h3 className=\"text-lg font-semibold text-gray-900\">Protein</h3>\n                  <p className=\"text-sm text-gray-500\">Daily Goal</p>\n                </div>\n              </div>\n              <div className=\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center\">\n                <Target className=\"w-5 h-5 text-gray-500\" />\n              </div>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-2xl font-bold text-gray-900\">0g</span>\n                <span className=\"text-lg text-gray-500\">/ {profile.daily_protein}g</span>\n              </div>\n\n              {/* Progress Bar */}\n              <div className=\"w-full bg-gray-200 rounded-full h-3\">\n                <div className=\"h-3 rounded-full transition-all duration-300 bg-gray-300\" style={{ width: '0%' }}></div>\n              </div>\n\n              <div className=\"flex justify-between items-center text-sm\">\n                <span className=\"text-gray-600\">{profile.daily_protein}g left</span>\n                <span className=\"font-medium text-gray-900\">0%</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Ensure we have valid numbers for calculations\n  const currentCalories = todayNutrition?.total_calories || 0;\n  const currentProtein = todayNutrition?.total_protein || 0;\n  const caloriesGoal = profile.daily_calories || 0;\n  const proteinGoal = profile.daily_protein || 0;\n\n  const caloriesRemaining = calculateRemaining(currentCalories, caloriesGoal);\n  const proteinRemaining = calculateRemaining(currentProtein, proteinGoal);\n  \n  const caloriesProgress = calculateProgress(currentCalories, caloriesGoal);\n  const proteinProgress = calculateProgress(currentProtein, proteinGoal);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n             <div className=\"flex items-center justify-between\">\n         <div>\n           <h2 className=\"text-2xl font-bold text-gray-900\">Daily Overview</h2>\n           <p className=\"text-gray-600\">Track your nutrition progress for today</p>\n         </div>\n         <div className=\"flex items-center space-x-4\">\n           <button\n             onClick={refreshData}\n             className=\"btn-secondary flex items-center space-x-2\"\n           >\n             <Zap className=\"h-4 w-4\" />\n             <span>Refresh</span>\n           </button>\n           <div className=\"flex items-center space-x-2 text-sm text-gray-500\">\n             <Calendar className=\"h-4 w-4\" />\n             <span>{format(new Date(), 'EEEE, MMMM d, yyyy')}</span>\n           </div>\n         </div>\n       </div>\n\n      {/* Weight Loss/Gain Analysis */}\n      {profile.weight && profile.target_weight && (\n        <div className=\"card bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200\">\n          <div className=\"flex items-center space-x-2 mb-4\">\n            <TrendingUp className=\"h-5 w-5 text-blue-600\" />\n            <h3 className=\"text-lg font-semibold text-blue-900\">Weight Progress Analysis</h3>\n          </div>\n          \n          <WeightAnalysis \n            currentWeight={profile.weight}\n            targetWeight={profile.target_weight}\n            dailyCalorieGoal={profile.daily_calories}\n          />\n        </div>\n      )}\n\n      {/* Daily Goals Summary */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        {/* Calories Card */}\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center\">\n                <Flame className=\"w-6 h-6 text-orange-600\" />\n              </div>\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-900\">Calories</h3>\n                <p className=\"text-sm text-gray-500\">Daily Goal</p>\n              </div>\n            </div>\n            {getStatusIcon(todayNutrition?.calories_met || false)}\n          </div>\n\n          <div className=\"space-y-4\">\n                         <div className=\"flex justify-between items-center\">\n               <span className=\"text-2xl font-bold text-gray-900\">\n                 {currentCalories}\n               </span>\n               <span className=\"text-lg text-gray-500\">/ {caloriesGoal}</span>\n             </div>\n\n            {/* Progress Bar */}\n            <div className=\"w-full bg-gray-200 rounded-full h-3\">\n              <div\n                className={`h-3 rounded-full transition-all duration-300 ${getProgressColor(caloriesProgress)}`}\n                style={{ width: `${caloriesProgress}%` }}\n              ></div>\n            </div>\n\n            <div className=\"flex justify-between items-center text-sm\">\n              <span className=\"text-gray-600\">\n                {caloriesRemaining > 0 ? `${caloriesRemaining} left` : 'Goal achieved! ðŸŽ‰'}\n              </span>\n              <span className=\"font-medium text-gray-900\">\n                {Math.round(caloriesProgress)}%\n              </span>\n            </div>\n          </div>\n        </div>\n\n        {/* Protein Card */}\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center\">\n                <Beef className=\"w-6 h-6 text-red-600\" />\n              </div>\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-900\">Protein</h3>\n                <p className=\"text-sm text-gray-500\">Daily Goal</p>\n              </div>\n            </div>\n            {getStatusIcon(todayNutrition?.protein_met || false)}\n          </div>\n\n          <div className=\"space-y-4\">\n                         <div className=\"flex justify-between items-center\">\n               <span className=\"text-2xl font-bold text-gray-900\">\n                 {currentProtein}g\n               </span>\n               <span className=\"text-lg text-gray-500\">/ {proteinGoal}g</span>\n             </div>\n\n            {/* Progress Bar */}\n            <div className=\"w-full bg-gray-200 rounded-full h-3\">\n              <div\n                className={`h-3 rounded-full transition-all duration-300 ${getProgressColor(proteinProgress)}`}\n                style={{ width: `${proteinProgress}%` }}\n              ></div>\n            </div>\n\n            <div className=\"flex justify-between items-center text-sm\">\n              <span className=\"text-gray-600\">\n                {proteinRemaining > 0 ? `${proteinRemaining}g left` : 'Goal achieved! ðŸŽ‰'}\n              </span>\n              <span className=\"font-medium text-gray-900\">\n                {Math.round(proteinProgress)}%\n              </span>\n            </div>\n          </div>\n        </div>\n             </div>\n\n       {/* Additional Macros - Secondary Focus */}\n       <div className=\"card\">\n         <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Additional Nutrients</h3>\n         <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4\">\n           <div className=\"text-center p-3 bg-gray-50 rounded-lg\">\n             <div className=\"text-lg font-bold text-gray-900\">{todayNutrition?.total_carbs || 0}g</div>\n             <div className=\"text-xs text-gray-600\">Carbs</div>\n           </div>\n           <div className=\"text-center p-3 bg-gray-50 rounded-lg\">\n             <div className=\"text-lg font-bold text-gray-900\">{todayNutrition?.total_fat || 0}g</div>\n             <div className=\"text-xs text-gray-600\">Fat</div>\n           </div>\n           <div className=\"text-center p-3 bg-gray-50 rounded-lg\">\n             <div className=\"text-lg font-bold text-gray-900\">{todayNutrition?.total_fiber || 0}g</div>\n             <div className=\"text-xs text-gray-600\">Fiber</div>\n           </div>\n           <div className=\"text-center p-3 bg-gray-50 rounded-lg\">\n             <div className=\"text-lg font-bold text-gray-900\">{todayNutrition?.total_sugar || 0}g</div>\n             <div className=\"text-xs text-gray-600\">Sugar</div>\n           </div>\n           <div className=\"text-center p-3 bg-gray-50 rounded-lg\">\n             <div className=\"text-lg font-bold text-gray-900\">{todayNutrition?.total_sodium || 0}mg</div>\n             <div className=\"text-xs text-gray-600\">Sodium</div>\n           </div>\n         </div>\n       </div>\n\n       {/* Quick Actions */}\n      <div className=\"card bg-gradient-to-r from-primary-50 to-blue-50 border-primary-200\">\n        <h3 className=\"text-lg font-semibold text-primary-800 mb-4\">Quick Actions</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <button\n            onClick={() => window.location.href = '/dashboard/inputs'}\n            className=\"flex items-center space-x-3 p-4 bg-white rounded-lg border border-primary-200 hover:border-primary-300 transition-colors\"\n          >\n            <Plus className=\"w-6 h-6 text-primary-600\" />\n            <div className=\"text-left\">\n              <div className=\"font-medium text-gray-900\">Add Meal</div>\n              <div className=\"text-sm text-gray-500\">Log your nutrition</div>\n            </div>\n          </button>\n\n          <button\n            onClick={() => window.location.href = '/dashboard/profile'}\n            className=\"flex items-center space-x-3 p-4 bg-white rounded-lg border border-primary-200 hover:border-primary-300 transition-colors\"\n          >\n            <Target className=\"w-6 h-6 text-primary-600\" />\n            <div className=\"text-left\">\n              <div className=\"font-medium text-gray-900\">Update Goals</div>\n              <div className=\"text-sm text-gray-500\">Adjust targets</div>\n            </div>\n          </button>\n\n          <button\n            onClick={() => window.location.href = '/dashboard/diary'}\n            className=\"flex items-center space-x-3 p-4 bg-white rounded-lg border border-primary-200 hover:border-primary-300 transition-colors\"\n          >\n            <Calendar className=\"w-6 h-6 text-primary-600\" />\n            <div className=\"text-left\">\n              <div className=\"font-medium text-gray-900\">View History</div>\n              <div className=\"text-sm text-gray-500\">Track progress</div>\n            </div>\n          </button>\n        </div>\n      </div>\n\n      {/* Today's Summary */}\n      <div className=\"card\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Today's Summary</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 text-center\">\n                     <div className=\"p-4 bg-gray-50 rounded-lg\">\n             <div className=\"text-2xl font-bold text-gray-900\">\n               {currentCalories}\n             </div>\n             <div className=\"text-sm text-gray-600\">Calories</div>\n           </div>\n           \n           <div className=\"p-4 bg-gray-50 rounded-lg\">\n             <div className=\"text-2xl font-bold text-gray-900\">\n               {currentProtein}g\n             </div>\n             <div className=\"text-sm text-gray-600\">Protein</div>\n           </div>\n          \n          <div className=\"p-4 bg-gray-50 rounded-lg\">\n            <div className=\"text-2xl font-bold text-gray-900\">\n              {caloriesRemaining}\n            </div>\n            <div className=\"text-sm text-gray-600\">Calories Left</div>\n          </div>\n          \n          <div className=\"p-4 bg-gray-50 rounded-lg\">\n            <div className=\"text-2xl font-bold text-gray-900\">\n              {proteinRemaining}g\n            </div>\n            <div className=\"text-sm text-gray-600\">Protein Left</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Overview;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}