{"ast":null,"code":"import _objectSpread from\"C:/Users/arian/OneDrive/Desktop/Nutrition/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useAuth}from'../contexts/AuthContext';import{Heart,MessageCircle,Share,MoreHorizontal,PenTool,Edit3,Grid,Bookmark,UserCircle,Image,X}from'lucide-react';import{diaryAPI}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SocialProfile=()=>{var _profileData$user$fir,_profileData$user$las;const{user}=useAuth();const[profileData,setProfileData]=useState(null);const[posts,setPosts]=useState([]);const[likedPosts,setLikedPosts]=useState([]);const[bookmarkedPosts,setBookmarkedPosts]=useState([]);const[loading,setLoading]=useState(true);const[activeTab,setActiveTab]=useState('posts');const[showCreatePost,setShowCreatePost]=useState(false);const[newPost,setNewPost]=useState({content:'',imageFile:null,mealData:null,allowComments:true,hideLikeCount:false});const[showEditProfile,setShowEditProfile]=useState(false);const[editProfileData,setEditProfileData]=useState({daily_calories:0,daily_protein:0,weight:0,target_weight:0,height:0,age:0,activity_level:'moderate',gender:'male',bio:''});// State for streak calculation\nconst[streak,setStreak]=useState(0);const[streakLoading,setStreakLoading]=useState(true);// SIMPLE streak calculation - just count consecutive yellow/green squares\nconst calculateStreak=async()=>{try{setStreakLoading(true);// Get current month data\nconst currentDate=new Date();const year=currentDate.getFullYear();const month=currentDate.getMonth()+1;const response=await diaryAPI.getMonth(year,month);const monthData=response.data;if(!monthData||!monthData.days){setStreak(0);return;}// Get days with data, sorted by date (newest first)\nconst daysWithData=monthData.days.filter(day=>day.has_data).sort((a,b)=>new Date(b.date).getTime()-new Date(a.date).getTime());let streak=0;// Count consecutive colored squares from today backwards\nfor(const day of daysWithData){// Simple check: yellow = one goal met, green = both goals met\nconst isColored=day.calories_met||day.protein_met;if(isColored){streak++;console.log(\"Day \".concat(day.date,\": COLORED (calories: \").concat(day.calories_met,\", protein: \").concat(day.protein_met,\") - Streak: \").concat(streak));}else{console.log(\"Day \".concat(day.date,\": NOT colored - Streak stops at \").concat(streak));break;}}console.log(\"FINAL STREAK: \".concat(streak));setStreak(streak);}catch(error){console.error('Streak calculation failed:',error);setStreak(0);}finally{setStreakLoading(false);}};useEffect(()=>{if(profileData){calculateStreak();}},[profileData]);useEffect(()=>{if(user){loadProfile();loadPosts();}},[user]);useEffect(()=>{if(user&&activeTab==='liked'){loadLikedPosts();}else if(user&&activeTab==='saved'){loadBookmarkedPosts();}},[user,activeTab]);const loadProfile=async function(){let retryCount=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;try{setLoading(true);console.log('Loading profile for user ID:',user===null||user===void 0?void 0:user.id);if(!(user!==null&&user!==void 0&&user.id)){console.error('No user ID available');setLoading(false);return;}const token=localStorage.getItem('token');if(!token){console.error('No token available');setLoading(false);return;}const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'https://nutrition-back-jtf3.onrender.com',\"/api/social/profile/\").concat(user.id),{headers:{'Authorization':\"Bearer \".concat(token)}});console.log('Profile response status:',response.status);if(response.ok){const data=await response.json();console.log('Profile data received:',data);setProfileData(data);}else{const errorText=await response.text();console.error('Profile response error:',errorText);console.error('Response status:',response.status);}}catch(error){var _error$message;console.error('Error loading profile:',error);// Retry logic for network errors\nif(retryCount<3&&error instanceof Error&&((_error$message=error.message)!==null&&_error$message!==void 0&&_error$message.includes('Failed to fetch')||error.name==='TypeError')){console.log(\"Retrying profile load (attempt \".concat(retryCount+1,\")...\"));setTimeout(()=>loadProfile(retryCount+1),1000*(retryCount+1));return;}}finally{setLoading(false);}};const openEditProfile=()=>{if(profileData){setEditProfileData({daily_calories:profileData.profile.daily_calories||0,daily_protein:profileData.profile.daily_protein||0,weight:profileData.profile.weight||0,target_weight:profileData.profile.target_weight||0,height:profileData.profile.height||0,age:profileData.profile.age||0,activity_level:profileData.profile.activity_level||'moderate',gender:profileData.profile.gender||'male',bio:profileData.profile.bio||''});setShowEditProfile(true);}};const handleEditProfile=async()=>{try{const token=localStorage.getItem('token');if(!token||!(user!==null&&user!==void 0&&user.id))return;const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'https://nutrition-back-jtf3.onrender.com',\"/api/profile\"),{method:'PUT',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify(editProfileData)});if(response.ok){// Reload profile data\nawait loadProfile();setShowEditProfile(false);// You could add a success message here\n}else{console.error('Failed to update profile');}}catch(error){console.error('Error updating profile:',error);}};const loadPosts=async function(){let retryCount=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'https://nutrition-back-jtf3.onrender.com',\"/api/social/posts/\").concat(user===null||user===void 0?void 0:user.id),{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});if(response.ok){const data=await response.json();setPosts(data.posts);}}catch(error){var _error$message2;console.error('Error loading posts:',error);// Retry logic for network errors\nif(retryCount<3&&error instanceof Error&&((_error$message2=error.message)!==null&&_error$message2!==void 0&&_error$message2.includes('Failed to fetch')||error.name==='TypeError')){console.log(\"Retrying posts load (attempt \".concat(retryCount+1,\")...\"));setTimeout(()=>loadPosts(retryCount+1),1000*(retryCount+1));return;}}finally{setLoading(false);}};const loadLikedPosts=async()=>{try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'https://nutrition-back-jtf3.onrender.com',\"/api/social/profile/\").concat(user===null||user===void 0?void 0:user.id,\"/liked-posts\"),{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});if(response.ok){const data=await response.json();setLikedPosts(data.posts);}}catch(error){console.error('Error loading liked posts:',error);}};const loadBookmarkedPosts=async()=>{try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'https://nutrition-back-jtf3.onrender.com',\"/api/social/profile/\").concat(user===null||user===void 0?void 0:user.id,\"/favorited-posts\"),{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});if(response.ok){const data=await response.json();setBookmarkedPosts(data.posts);}}catch(error){console.error('Error loading bookmarked posts:',error);}};const handleLike=async postId=>{try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'https://nutrition-back-jtf3.onrender.com',\"/api/social/posts/\").concat(postId,\"/like\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token')),'Content-Type':'application/json'}});if(response.ok){// Update local state\nsetPosts(posts.map(post=>post.id===postId?_objectSpread(_objectSpread({},post),{},{is_liked:!post.is_liked,likes_count:post.is_liked?post.likes_count-1:post.likes_count+1}):post));}}catch(error){console.error('Error liking post:',error);}};const handleBookmark=async postId=>{try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'https://nutrition-back-jtf3.onrender.com',\"/api/social/posts/\").concat(postId,\"/favorite\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token')),'Content-Type':'application/json'}});if(response.ok){// Update local state in all relevant arrays\nsetPosts(posts.map(post=>post.id===postId?_objectSpread(_objectSpread({},post),{},{is_bookmarked:!post.is_bookmarked}):post));setLikedPosts(likedPosts.map(post=>post.id===postId?_objectSpread(_objectSpread({},post),{},{is_bookmarked:!post.is_bookmarked}):post));setBookmarkedPosts(bookmarkedPosts.map(post=>post.id===postId?_objectSpread(_objectSpread({},post),{},{is_bookmarked:!post.is_bookmarked}):post));}}catch(error){console.error('Error bookmarking post:',error);}};const handleCreatePost=async()=>{try{const formData=new FormData();formData.append('content',newPost.content);formData.append('allowComments',newPost.allowComments.toString());formData.append('hideLikeCount',newPost.hideLikeCount.toString());if(newPost.imageFile){formData.append('image',newPost.imageFile);}if(newPost.mealData){formData.append('mealData',JSON.stringify(newPost.mealData));}const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'https://nutrition-back-jtf3.onrender.com',\"/api/social/posts\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))},body:formData});if(response.ok){const result=await response.json();setNewPost({content:'',imageFile:null,mealData:null,allowComments:true,hideLikeCount:false});setShowCreatePost(false);// Trigger a custom event to update the feed\nwindow.dispatchEvent(new CustomEvent('postCreated',{detail:result}));loadPosts();// Reload posts\n}else{const error=await response.json();console.error('Failed to create post:',error);}}catch(error){console.error('Error creating post:',error);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"})});}if(!profileData){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gray-200 rounded-full mx-auto mb-4 flex items-center justify-center\",children:/*#__PURE__*/_jsx(UserCircle,{className:\"w-8 h-8 text-gray-400\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-medium mb-2\",children:\"Profile not found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:\"We couldn't load your profile information.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),className:\"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\",children:\"Try Again\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-orange-500 to-red-500 rounded-xl p-3\",children:/*#__PURE__*/_jsx(UserCircle,{className:\"w-8 h-8 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"My Profile\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Manage your account and nutrition goals\"})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"relative\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-24 h-24 rounded-2xl bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center text-white text-2xl font-bold shadow-lg\",children:profileData.profile.profile_picture?/*#__PURE__*/_jsx(\"img\",{src:profileData.profile.profile_picture,alt:\"Profile\",className:\"w-24 h-24 rounded-2xl object-cover\"}):\"\".concat(((_profileData$user$fir=profileData.user.first_name)===null||_profileData$user$fir===void 0?void 0:_profileData$user$fir[0])||'').concat(((_profileData$user$las=profileData.user.last_name)===null||_profileData$user$las===void 0?void 0:_profileData$user$las[0])||'U')})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold text-gray-900\",children:[profileData.user.first_name,\" \",profileData.user.last_name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-500\",children:[\"@\",profileData.user.username||\"user\".concat(profileData.user.id)]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:openEditProfile,className:\"bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 px-4 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200 flex items-center space-x-2 shadow-md hover:shadow-lg transform hover:scale-105\",children:[/*#__PURE__*/_jsx(Edit3,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Edit Profile\"})]})]}),profileData.profile.bio&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 mb-4 bg-gray-50 rounded-lg p-3\",children:profileData.profile.bio}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 rounded-lg p-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-blue-600\",children:profileData.stats.posts}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-blue-600 font-medium\",children:\"Posts\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 rounded-lg p-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-green-600\",children:profileData.stats.followers}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-green-600 font-medium\",children:\"Followers\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-50 rounded-lg p-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-purple-600\",children:profileData.stats.following}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-purple-600 font-medium\",children:\"Following\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-orange-100 rounded-lg px-4 py-2 mb-4 border border-orange-200 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-orange-500\",children:\"\\uD83D\\uDD25\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-800\",children:\"Daily Streak:\"}),streakLoading?/*#__PURE__*/_jsx(\"span\",{className:\"text-lg text-orange-500\",children:\"Loading...\"}):streak>0?/*#__PURE__*/_jsxs(\"span\",{className:\"text-2xl font-bold text-orange-500\",children:[streak,\" \",streak===1?'day':'days']}):/*#__PURE__*/_jsx(\"span\",{className:\"text-lg text-orange-500\",children:\"Start your goal today!\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:streakLoading?'Calculating...':streak>0?\"Hit your goal for \".concat(streak,\" \").concat(streak===1?'day':'days',\" in a row!\"):'Build a streak!'})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(UserCircle,{className:\"w-6 h-6 text-orange-600\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Nutrition Goals\"})]}),!profileData.profile.daily_calories?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gray-100 rounded-full mx-auto mb-4 flex items-center justify-center\",children:/*#__PURE__*/_jsx(UserCircle,{className:\"w-8 h-8 text-gray-400\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:\"No nutrition goals set yet\"}),/*#__PURE__*/_jsx(\"button\",{onClick:openEditProfile,className:\"bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 px-4 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200 shadow-md hover:shadow-lg\",children:\"Set Goals\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-orange-50 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-orange-600 font-medium\",children:\"Daily Calories\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-orange-600\",children:profileData.profile.daily_calories})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-50 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600 font-medium\",children:\"Daily Protein\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-2xl font-bold text-green-600\",children:[profileData.profile.daily_protein,\"g\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600 font-medium\",children:\"Current Weight\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-2xl font-bold text-blue-600\",children:[profileData.profile.weight||'Not set',\" lbs\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-purple-50 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-purple-600 font-medium\",children:\"Target Weight\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-2xl font-bold text-purple-600\",children:[profileData.profile.target_weight||'Not set',\" lbs\"]})]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowCreatePost(true),className:\"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white py-3 px-4 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2 shadow-md hover:shadow-lg transform hover:scale-105\",children:[/*#__PURE__*/_jsx(PenTool,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Create a new post\"})]})})]}),showCreatePost&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[85vh] flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-b border-gray-200 flex-shrink-0\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900\",children:\"Create New Post\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCreatePost(false),className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 space-y-4 flex-1 overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"textarea\",{value:newPost.content,onChange:e=>setNewPost(_objectSpread(_objectSpread({},newPost),{},{content:e.target.value})),placeholder:\"What's going on?\",className:\"w-full border border-gray-300 rounded-lg p-4 resize-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors\",rows:4})}),newPost.imageFile&&/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:URL.createObjectURL(newPost.imageFile),alt:\"Preview\",className:\"w-full h-40 object-cover rounded-lg\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setNewPost(_objectSpread(_objectSpread({},newPost),{},{imageFile:null})),className:\"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors shadow-lg\",children:/*#__PURE__*/_jsx(X,{className:\"h-3 w-3\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-2\",children:\"Add to your post\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg cursor-pointer transition-colors\",children:[/*#__PURE__*/_jsx(Image,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Upload Photo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:e=>{var _e$target$files;const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(file){setNewPost(_objectSpread(_objectSpread({},newPost),{},{imageFile:file}));}},className:\"hidden\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-3\",children:\"Privacy Settings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Allow comments\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Let people comment on your post\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setNewPost(_objectSpread(_objectSpread({},newPost),{},{allowComments:!newPost.allowComments})),className:\"relative inline-flex h-6 w-11 items-center rounded-full transition-colors \".concat(newPost.allowComments?'bg-blue-600':'bg-gray-200'),children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-block h-4 w-4 transform rounded-full bg-white transition-transform \".concat(newPost.allowComments?'translate-x-6':'translate-x-1')})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Hide like count\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Only you will see the total number of likes\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setNewPost(_objectSpread(_objectSpread({},newPost),{},{hideLikeCount:!newPost.hideLikeCount})),className:\"relative inline-flex h-6 w-11 items-center rounded-full transition-colors \".concat(newPost.hideLikeCount?'bg-blue-600':'bg-gray-200'),children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-block h-4 w-4 transform rounded-full bg-white transition-transform \".concat(newPost.hideLikeCount?'translate-x-6':'translate-x-1')})})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-3 p-4 border-t border-gray-200 bg-gray-50 flex-shrink-0\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCreatePost(false),className:\"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{console.log('SocialProfile Post button clicked',newPost);handleCreatePost();},disabled:!newPost.content.trim(),className:\"px-6 py-2 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 disabled:bg-gray-400 text-white rounded-lg font-medium transition-all duration-200 shadow-md hover:shadow-lg\",children:\"Post\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex border-b border-gray-200\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('posts'),className:\"flex items-center space-x-2 px-8 py-5 border-b-2 transition-colors \".concat(activeTab==='posts'?'border-gray-900 text-gray-900':'border-transparent text-gray-500 hover:text-gray-700'),children:[/*#__PURE__*/_jsx(Grid,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"POSTS\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('liked'),className:\"flex items-center space-x-2 px-8 py-5 border-b-2 transition-colors \".concat(activeTab==='liked'?'border-gray-900 text-gray-900':'border-transparent text-gray-500 hover:text-gray-700'),children:[/*#__PURE__*/_jsx(Heart,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"LIKED\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('saved'),className:\"flex items-center space-x-2 px-8 py-5 border-b-2 transition-colors \".concat(activeTab==='saved'?'border-gray-900 text-gray-900':'border-transparent text-gray-500 hover:text-gray-700'),children:[/*#__PURE__*/_jsx(Bookmark,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"SAVED\"})]})]}),activeTab==='posts'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6 pt-6\",children:posts.map(post=>{var _profileData$profile;return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 pb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[profileData!==null&&profileData!==void 0&&(_profileData$profile=profileData.profile)!==null&&_profileData$profile!==void 0&&_profileData$profile.profile_picture?/*#__PURE__*/_jsx(\"img\",{src:profileData.profile.profile_picture,alt:\"\".concat(user===null||user===void 0?void 0:user.first_name,\" \").concat(user===null||user===void 0?void 0:user.last_name),className:\"w-10 h-10 rounded-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(UserCircle,{className:\"w-6 h-6 text-gray-400\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold text-gray-900\",children:[user===null||user===void 0?void 0:user.first_name,\" \",user===null||user===void 0?void 0:user.last_name]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:new Date(post.created_at).toLocaleDateString('en-US',{month:'short',day:'numeric',hour:'numeric',minute:'2-digit'})})]})]}),/*#__PURE__*/_jsx(MoreHorizontal,{className:\"w-5 h-5 text-gray-400 cursor-pointer hover:text-gray-600\"})]}),post.content&&/*#__PURE__*/_jsx(\"div\",{className:\"px-4 pb-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:post.content})}),post.image_url&&/*#__PURE__*/_jsx(\"div\",{className:\"px-4 pb-3\",children:/*#__PURE__*/_jsx(\"img\",{src:post.image_url,alt:\"Post content\",className:\"w-full rounded-lg object-cover max-h-96\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between px-4 py-3 border-t border-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleLike(post.id),className:\"flex items-center space-x-1 transition-colors \".concat(post.is_liked?'text-red-600':'text-gray-600 hover:text-red-600'),children:[/*#__PURE__*/_jsx(Heart,{className:\"w-5 h-5 \".concat(post.is_liked?'fill-current':'')}),!post.hide_like_count&&/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:post.likes_count})]}),post.allow_comments&&/*#__PURE__*/_jsxs(\"button\",{className:\"flex items-center space-x-1 text-gray-600 hover:text-blue-600 transition-colors\",children:[/*#__PURE__*/_jsx(MessageCircle,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:post.comments_count})]}),/*#__PURE__*/_jsx(\"button\",{className:\"flex items-center space-x-1 text-gray-600 hover:text-green-600 transition-colors\",children:/*#__PURE__*/_jsx(Share,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleBookmark(post.id),className:\"flex items-center space-x-2 transition-colors \".concat(post.is_bookmarked?'text-blue-500':'text-gray-400 hover:text-blue-500'),children:/*#__PURE__*/_jsx(Bookmark,{className:\"w-5 h-5 \".concat(post.is_bookmarked?'fill-current':'')})})]})]},post.id);})}),activeTab==='liked'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6 pt-6\",children:likedPosts.map(post=>/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 pb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[post.user.profile_picture?/*#__PURE__*/_jsx(\"img\",{src:post.user.profile_picture,alt:\"\".concat(post.user.first_name,\" \").concat(post.user.last_name),className:\"w-10 h-10 rounded-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(UserCircle,{className:\"w-6 h-6 text-gray-400\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold text-gray-900\",children:[post.user.first_name,\" \",post.user.last_name]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:new Date(post.created_at).toLocaleDateString('en-US',{month:'short',day:'numeric',hour:'numeric',minute:'2-digit'})})]})]}),/*#__PURE__*/_jsx(MoreHorizontal,{className:\"w-5 h-5 text-gray-400 cursor-pointer hover:text-gray-600\"})]}),post.content&&/*#__PURE__*/_jsx(\"div\",{className:\"px-4 pb-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:post.content})}),post.image_url&&/*#__PURE__*/_jsx(\"div\",{className:\"px-4 pb-3\",children:/*#__PURE__*/_jsx(\"img\",{src:post.image_url,alt:\"Post content\",className:\"w-full rounded-lg object-cover max-h-96\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-t border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleLike(post.id),className:\"flex items-center space-x-2 transition-colors \".concat(post.is_liked?'text-red-500':'text-gray-400 hover:text-red-500'),children:[/*#__PURE__*/_jsx(Heart,{className:\"w-6 h-6 \".concat(post.is_liked?'fill-current':'')}),!post.hide_like_count&&/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:post.likes_count})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:[/*#__PURE__*/_jsx(MessageCircle,{className:\"w-6 h-6\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm ml-1\",children:post.comments_count})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:/*#__PURE__*/_jsx(Share,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleBookmark(post.id),className:\"flex items-center space-x-2 transition-colors \".concat(post.is_bookmarked?'text-blue-500':'text-gray-400 hover:text-blue-500'),children:/*#__PURE__*/_jsx(Bookmark,{className:\"w-6 h-6 \".concat(post.is_bookmarked?'fill-current':'')})})]})]},post.id))}),activeTab==='saved'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6 pt-6\",children:bookmarkedPosts.map(post=>/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 pb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[post.user.profile_picture?/*#__PURE__*/_jsx(\"img\",{src:post.user.profile_picture,alt:\"\".concat(post.user.first_name,\" \").concat(post.user.last_name),className:\"w-10 h-10 rounded-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(UserCircle,{className:\"w-6 h-6 text-gray-400\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold text-gray-900\",children:[post.user.first_name,\" \",post.user.last_name]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:new Date(post.created_at).toLocaleDateString('en-US',{month:'short',day:'numeric',hour:'numeric',minute:'2-digit'})})]})]}),/*#__PURE__*/_jsx(MoreHorizontal,{className:\"w-5 h-5 text-gray-400 cursor-pointer hover:text-gray-600\"})]}),post.content&&/*#__PURE__*/_jsx(\"div\",{className:\"px-4 pb-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900\",children:post.content})}),post.image_url&&/*#__PURE__*/_jsx(\"div\",{className:\"px-4 pb-3\",children:/*#__PURE__*/_jsx(\"img\",{src:post.image_url,alt:\"Post content\",className:\"w-full rounded-lg object-cover max-h-96\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-t border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleLike(post.id),className:\"flex items-center space-x-2 transition-colors \".concat(post.is_liked?'text-red-500':'text-gray-400 hover:text-red-500'),children:[/*#__PURE__*/_jsx(Heart,{className:\"w-6 h-6 \".concat(post.is_liked?'fill-current':'')}),!post.hide_like_count&&/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:post.likes_count})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:[/*#__PURE__*/_jsx(MessageCircle,{className:\"w-6 h-6\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm ml-1\",children:post.comments_count})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-gray-400 hover:text-gray-600 transition-colors\",children:/*#__PURE__*/_jsx(Share,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleBookmark(post.id),className:\"flex items-center space-x-2 transition-colors \".concat(post.is_bookmarked?'text-blue-500':'text-gray-400 hover:text-blue-500'),children:/*#__PURE__*/_jsx(Bookmark,{className:\"w-6 h-6 \".concat(post.is_bookmarked?'fill-current':'')})})]})]},post.id))}),activeTab==='posts'&&posts.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-12 text-center text-gray-500\",children:[/*#__PURE__*/_jsx(PenTool,{className:\"w-16 h-16 mx-auto mb-4 text-gray-300\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-medium mb-2\",children:\"No posts yet\"}),/*#__PURE__*/_jsx(\"p\",{children:\"When you share photos and videos, they'll appear on your profile.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCreatePost(true),className:\"mt-4 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\",children:\"Share your first photo\"})]}),activeTab==='liked'&&likedPosts.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-12 text-center text-gray-500\",children:[/*#__PURE__*/_jsx(Heart,{className:\"w-16 h-16 mx-auto mb-4 text-gray-300\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-medium mb-2\",children:\"No liked posts yet\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Posts you like will appear here.\"})]}),activeTab==='saved'&&bookmarkedPosts.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-12 text-center text-gray-500\",children:[/*#__PURE__*/_jsx(Bookmark,{className:\"w-16 h-16 mx-auto mb-4 text-gray-300\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-medium mb-2\",children:\"No saved posts yet\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Posts you save will appear here.\"})]}),showEditProfile&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Edit Profile\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Daily Calories\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editProfileData.daily_calories||'',onChange:e=>setEditProfileData(prev=>_objectSpread(_objectSpread({},prev),{},{daily_calories:parseFloat(e.target.value)||0})),className:\"w-full border border-gray-300 rounded-lg p-2\",placeholder:\"2000\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Daily Protein (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editProfileData.daily_protein||'',onChange:e=>setEditProfileData(prev=>_objectSpread(_objectSpread({},prev),{},{daily_protein:parseFloat(e.target.value)||0})),className:\"w-full border border-gray-300 rounded-lg p-2\",placeholder:\"150\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Current Weight (lbs)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editProfileData.weight||'',onChange:e=>setEditProfileData(prev=>_objectSpread(_objectSpread({},prev),{},{weight:parseFloat(e.target.value)||0})),className:\"w-full border border-gray-300 rounded-lg p-2\",placeholder:\"150\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Target Weight (lbs)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editProfileData.target_weight||'',onChange:e=>setEditProfileData(prev=>_objectSpread(_objectSpread({},prev),{},{target_weight:parseFloat(e.target.value)||0})),className:\"w-full border border-gray-300 rounded-lg p-2\",placeholder:\"140\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Height (inches)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editProfileData.height||'',onChange:e=>setEditProfileData(prev=>_objectSpread(_objectSpread({},prev),{},{height:parseFloat(e.target.value)||0})),className:\"w-full border border-gray-300 rounded-lg p-2\",placeholder:\"70\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Age\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editProfileData.age||'',onChange:e=>setEditProfileData(prev=>_objectSpread(_objectSpread({},prev),{},{age:parseFloat(e.target.value)||0})),className:\"w-full border border-gray-300 rounded-lg p-2\",placeholder:\"25\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Activity Level\"}),/*#__PURE__*/_jsxs(\"select\",{value:editProfileData.activity_level,onChange:e=>setEditProfileData(prev=>_objectSpread(_objectSpread({},prev),{},{activity_level:e.target.value})),className:\"w-full border border-gray-300 rounded-lg p-2\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"sedentary\",children:\"Sedentary\"}),/*#__PURE__*/_jsx(\"option\",{value:\"light\",children:\"Light\"}),/*#__PURE__*/_jsx(\"option\",{value:\"moderate\",children:\"Moderate\"}),/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"very_active\",children:\"Very Active\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Gender\"}),/*#__PURE__*/_jsxs(\"select\",{value:editProfileData.gender,onChange:e=>setEditProfileData(prev=>_objectSpread(_objectSpread({},prev),{},{gender:e.target.value})),className:\"w-full border border-gray-300 rounded-lg p-2\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"male\",children:\"Male\"}),/*#__PURE__*/_jsx(\"option\",{value:\"female\",children:\"Female\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Other\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Bio\"}),/*#__PURE__*/_jsx(\"textarea\",{value:editProfileData.bio||'',onChange:e=>setEditProfileData(prev=>_objectSpread(_objectSpread({},prev),{},{bio:e.target.value})),className:\"w-full border border-gray-300 rounded-lg p-2\",rows:3,placeholder:\"Tell us about yourself...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleEditProfile,className:\"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\",children:\"Save Changes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowEditProfile(false),className:\"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors\",children:\"Cancel\"})]})]})})]});};export default SocialProfile;","map":{"version":3,"names":["React","useState","useEffect","useAuth","Heart","MessageCircle","Share","MoreHorizontal","PenTool","Edit3","Grid","Bookmark","UserCircle","Image","X","diaryAPI","jsx","_jsx","jsxs","_jsxs","SocialProfile","_profileData$user$fir","_profileData$user$las","user","profileData","setProfileData","posts","setPosts","likedPosts","setLikedPosts","bookmarkedPosts","setBookmarkedPosts","loading","setLoading","activeTab","setActiveTab","showCreatePost","setShowCreatePost","newPost","setNewPost","content","imageFile","mealData","allowComments","hideLikeCount","showEditProfile","setShowEditProfile","editProfileData","setEditProfileData","daily_calories","daily_protein","weight","target_weight","height","age","activity_level","gender","bio","streak","setStreak","streakLoading","setStreakLoading","calculateStreak","currentDate","Date","year","getFullYear","month","getMonth","response","monthData","data","days","daysWithData","filter","day","has_data","sort","a","b","date","getTime","isColored","calories_met","protein_met","console","log","concat","error","loadProfile","loadPosts","loadLikedPosts","loadBookmarkedPosts","retryCount","arguments","length","undefined","id","token","localStorage","getItem","fetch","process","env","REACT_APP_API_URL","headers","status","ok","json","errorText","text","_error$message","Error","message","includes","name","setTimeout","openEditProfile","profile","handleEditProfile","method","body","JSON","stringify","_error$message2","handleLike","postId","map","post","_objectSpread","is_liked","likes_count","handleBookmark","is_bookmarked","handleCreatePost","formData","FormData","append","toString","result","window","dispatchEvent","CustomEvent","detail","className","children","onClick","location","reload","profile_picture","src","alt","first_name","last_name","username","stats","followers","following","value","onChange","e","target","placeholder","rows","URL","createObjectURL","type","accept","_e$target$files","file","files","disabled","trim","_profileData$profile","created_at","toLocaleDateString","hour","minute","image_url","hide_like_count","allow_comments","comments_count","prev","parseFloat"],"sources":["C:/Users/arian/OneDrive/Desktop/Nutrition/client/src/components/SocialProfile.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { Heart, MessageCircle, Share, MoreHorizontal, PenTool, Edit3, Settings, Grid, Bookmark, UserPlus, UserCheck, UserCircle, Image, X } from 'lucide-react';\nimport { formatDistanceToNow } from 'date-fns';\nimport { diaryAPI, mealsAPI, profileAPI } from '../services/api';\n\ninterface Post {\n  id: number;\n  content: string;\n  image_url: string | null;\n  meal_data: any;\n  likes_count: number;\n  comments_count: number;\n  is_liked: boolean;\n  is_bookmarked: boolean;\n  allow_comments?: boolean;\n  hide_like_count?: boolean;\n  created_at: string;\n  user: {\n    id: number;\n    username: string;\n    first_name: string;\n    last_name: string;\n    profile_picture?: string;\n  };\n}\n\ninterface ProfileData {\n  user: {\n    id: number;\n    email: string;\n    first_name: string;\n    last_name: string;\n    username: string;\n  };\n  profile: {\n    profile_picture: string;\n    bio: string;\n    daily_calories: number;\n    daily_protein: number;\n    weight: number;\n    target_weight: number;\n    height: number;\n    age: number;\n    activity_level: string;\n    gender: string;\n  };\n  stats: {\n    posts: number;\n    followers: number;\n    following: number;\n  };\n  isFollowing: boolean;\n}\n\nconst SocialProfile: React.FC = () => {\n  const { user } = useAuth();\n  const [profileData, setProfileData] = useState<ProfileData | null>(null);\n  const [posts, setPosts] = useState<Post[]>([]);\n  const [likedPosts, setLikedPosts] = useState<Post[]>([]);\n  const [bookmarkedPosts, setBookmarkedPosts] = useState<Post[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState<'posts' | 'liked' | 'saved'>('posts');\n  const [showCreatePost, setShowCreatePost] = useState(false);\n  const [newPost, setNewPost] = useState({ \n    content: '', \n    imageFile: null as File | null, \n    mealData: null,\n    allowComments: true,\n    hideLikeCount: false\n  });\n  const [showEditProfile, setShowEditProfile] = useState(false);\n  const [editProfileData, setEditProfileData] = useState({\n    daily_calories: 0,\n    daily_protein: 0,\n    weight: 0,\n    target_weight: 0,\n    height: 0,\n    age: 0,\n    activity_level: 'moderate',\n    gender: 'male',\n    bio: ''\n  });\n\n  // State for streak calculation\n  const [streak, setStreak] = useState(0);\n  const [streakLoading, setStreakLoading] = useState(true);\n\n  // SIMPLE streak calculation - just count consecutive yellow/green squares\n  const calculateStreak = async () => {\n    try {\n      setStreakLoading(true);\n      \n      // Get current month data\n      const currentDate = new Date();\n      const year = currentDate.getFullYear();\n      const month = currentDate.getMonth() + 1;\n      \n      const response = await diaryAPI.getMonth(year, month);\n      const monthData = response.data;\n      \n      if (!monthData || !monthData.days) {\n        setStreak(0);\n        return;\n      }\n\n      // Get days with data, sorted by date (newest first)\n      const daysWithData = monthData.days\n        .filter((day: any) => day.has_data)\n        .sort((a: any, b: any) => new Date(b.date).getTime() - new Date(a.date).getTime());\n\n      let streak = 0;\n      \n      // Count consecutive colored squares from today backwards\n      for (const day of daysWithData) {\n        // Simple check: yellow = one goal met, green = both goals met\n        const isColored = day.calories_met || day.protein_met;\n        \n        if (isColored) {\n          streak++;\n          console.log(`Day ${day.date}: COLORED (calories: ${day.calories_met}, protein: ${day.protein_met}) - Streak: ${streak}`);\n        } else {\n          console.log(`Day ${day.date}: NOT colored - Streak stops at ${streak}`);\n          break;\n        }\n      }\n      \n      console.log(`FINAL STREAK: ${streak}`);\n      setStreak(streak);\n    } catch (error) {\n      console.error('Streak calculation failed:', error);\n      setStreak(0);\n    } finally {\n      setStreakLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (profileData) {\n      calculateStreak();\n    }\n  }, [profileData]);\n\n  useEffect(() => {\n    if (user) {\n      loadProfile();\n      loadPosts();\n    }\n  }, [user]);\n\n  useEffect(() => {\n    if (user && activeTab === 'liked') {\n      loadLikedPosts();\n    } else if (user && activeTab === 'saved') {\n      loadBookmarkedPosts();\n    }\n  }, [user, activeTab]);\n\n  const loadProfile = async (retryCount = 0) => {\n    try {\n      setLoading(true);\n      console.log('Loading profile for user ID:', user?.id);\n      \n      if (!user?.id) {\n        console.error('No user ID available');\n        setLoading(false);\n        return;\n      }\n      \n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.error('No token available');\n        setLoading(false);\n        return;\n      }\n      \n             const response = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-back-jtf3.onrender.com'}/api/social/profile/${user.id}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      \n      console.log('Profile response status:', response.status);\n      \n      if (response.ok) {\n        const data = await response.json();\n        console.log('Profile data received:', data);\n        setProfileData(data);\n      } else {\n        const errorText = await response.text();\n        console.error('Profile response error:', errorText);\n        console.error('Response status:', response.status);\n      }\n    } catch (error) {\n      console.error('Error loading profile:', error);\n      \n      // Retry logic for network errors\n      if (retryCount < 3 && (error instanceof Error && (error.message?.includes('Failed to fetch') || error.name === 'TypeError'))) {\n        console.log(`Retrying profile load (attempt ${retryCount + 1})...`);\n        setTimeout(() => loadProfile(retryCount + 1), 1000 * (retryCount + 1));\n        return;\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const openEditProfile = () => {\n    if (profileData) {\n      setEditProfileData({\n        daily_calories: profileData.profile.daily_calories || 0,\n        daily_protein: profileData.profile.daily_protein || 0,\n        weight: profileData.profile.weight || 0,\n        target_weight: profileData.profile.target_weight || 0,\n        height: profileData.profile.height || 0,\n        age: profileData.profile.age || 0,\n        activity_level: profileData.profile.activity_level || 'moderate',\n        gender: profileData.profile.gender || 'male',\n        bio: profileData.profile.bio || ''\n      });\n      setShowEditProfile(true);\n    }\n  };\n\n  const handleEditProfile = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token || !user?.id) return;\n\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-back-jtf3.onrender.com'}/api/profile`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify(editProfileData)\n      });\n\n      if (response.ok) {\n        // Reload profile data\n        await loadProfile();\n        setShowEditProfile(false);\n        // You could add a success message here\n      } else {\n        console.error('Failed to update profile');\n      }\n    } catch (error) {\n      console.error('Error updating profile:', error);\n    }\n  };\n\n  const loadPosts = async (retryCount = 0) => {\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-back-jtf3.onrender.com'}/api/social/posts/${user?.id}`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setPosts(data.posts);\n      }\n    } catch (error) {\n      console.error('Error loading posts:', error);\n      \n      // Retry logic for network errors\n      if (retryCount < 3 && (error instanceof Error && (error.message?.includes('Failed to fetch') || error.name === 'TypeError'))) {\n        console.log(`Retrying posts load (attempt ${retryCount + 1})...`);\n        setTimeout(() => loadPosts(retryCount + 1), 1000 * (retryCount + 1));\n        return;\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadLikedPosts = async () => {\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-back-jtf3.onrender.com'}/api/social/profile/${user?.id}/liked-posts`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setLikedPosts(data.posts);\n      }\n    } catch (error) {\n      console.error('Error loading liked posts:', error);\n    }\n  };\n\n  const loadBookmarkedPosts = async () => {\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-back-jtf3.onrender.com'}/api/social/profile/${user?.id}/favorited-posts`, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setBookmarkedPosts(data.posts);\n      }\n    } catch (error) {\n      console.error('Error loading bookmarked posts:', error);\n    }\n  };\n\n  const handleLike = async (postId: number) => {\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-back-jtf3.onrender.com'}/api/social/posts/${postId}/like`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        // Update local state\n        setPosts(posts.map(post => \n          post.id === postId \n            ? { \n                ...post, \n                is_liked: !post.is_liked,\n                likes_count: post.is_liked ? post.likes_count - 1 : post.likes_count + 1\n              }\n            : post\n        ));\n      }\n    } catch (error) {\n      console.error('Error liking post:', error);\n    }\n  };\n\n  const handleBookmark = async (postId: number) => {\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-back-jtf3.onrender.com'}/api/social/posts/${postId}/favorite`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        // Update local state in all relevant arrays\n        setPosts(posts.map(post => \n          post.id === postId \n            ? { ...post, is_bookmarked: !post.is_bookmarked }\n            : post\n        ));\n        setLikedPosts(likedPosts.map(post => \n          post.id === postId \n            ? { ...post, is_bookmarked: !post.is_bookmarked }\n            : post\n        ));\n        setBookmarkedPosts(bookmarkedPosts.map(post => \n          post.id === postId \n            ? { ...post, is_bookmarked: !post.is_bookmarked }\n            : post\n        ));\n      }\n    } catch (error) {\n      console.error('Error bookmarking post:', error);\n    }\n  };\n\n  const handleCreatePost = async () => {\n    try {\n      const formData = new FormData();\n      formData.append('content', newPost.content);\n      formData.append('allowComments', newPost.allowComments.toString());\n      formData.append('hideLikeCount', newPost.hideLikeCount.toString());\n      \n      if (newPost.imageFile) {\n        formData.append('image', newPost.imageFile);\n      }\n      \n      if (newPost.mealData) {\n        formData.append('mealData', JSON.stringify(newPost.mealData));\n      }\n\n      const response = await fetch(`${process.env.REACT_APP_API_URL || 'https://nutrition-back-jtf3.onrender.com'}/api/social/posts`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: formData\n      });\n      \n      if (response.ok) {\n        const result = await response.json();\n        setNewPost({ \n          content: '', \n          imageFile: null, \n          mealData: null,\n          allowComments: true,\n          hideLikeCount: false\n        });\n        setShowCreatePost(false);\n        \n        // Trigger a custom event to update the feed\n        window.dispatchEvent(new CustomEvent('postCreated', { detail: result }));\n        \n        loadPosts(); // Reload posts\n      } else {\n        const error = await response.json();\n        console.error('Failed to create post:', error);\n      }\n    } catch (error) {\n      console.error('Error creating post:', error);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  if (!profileData) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 bg-gray-200 rounded-full mx-auto mb-4 flex items-center justify-center\">\n            <UserCircle className=\"w-8 h-8 text-gray-400\" />\n          </div>\n          <h3 className=\"text-xl font-medium mb-2\">Profile not found</h3>\n          <p className=\"text-gray-500 mb-4\">We couldn't load your profile information.</p>\n          <button\n            onClick={() => window.location.reload()}\n            className=\"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\"\n          >\n            Try Again\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-4xl mx-auto space-y-6\">\n        {/* Modern Header with Orange Theme */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"bg-gradient-to-r from-orange-500 to-red-500 rounded-xl p-3\">\n                <UserCircle className=\"w-8 h-8 text-white\" />\n              </div>\n              <div>\n                <h1 className=\"text-2xl font-bold text-gray-900\">My Profile</h1>\n                <p className=\"text-gray-600\">Manage your account and nutrition goals</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Profile Info Card */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-start space-x-6\">\n            {/* Profile Picture */}\n            <div className=\"relative\">\n              <div className=\"w-24 h-24 rounded-2xl bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center text-white text-2xl font-bold shadow-lg\">\n                {profileData.profile.profile_picture ? (\n                  <img \n                    src={profileData.profile.profile_picture} \n                    alt=\"Profile\" \n                    className=\"w-24 h-24 rounded-2xl object-cover\"\n                  />\n                ) : (\n                  `${profileData.user.first_name?.[0] || ''}${profileData.user.last_name?.[0] || 'U'}`\n                )}\n              </div>\n            </div>\n\n            {/* Profile Details */}\n            <div className=\"flex-1\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <div>\n                  <h2 className=\"text-xl font-bold text-gray-900\">\n                    {profileData.user.first_name} {profileData.user.last_name}\n                  </h2>\n                  <p className=\"text-gray-500\">@{profileData.user.username || `user${profileData.user.id}`}</p>\n                </div>\n                <button\n                  onClick={openEditProfile}\n                  className=\"bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 px-4 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200 flex items-center space-x-2 shadow-md hover:shadow-lg transform hover:scale-105\"\n                >\n                  <Edit3 className=\"w-4 h-4\" />\n                  <span>Edit Profile</span>\n                </button>\n              </div>\n\n              {profileData.profile.bio && (\n                <p className=\"text-gray-700 mb-4 bg-gray-50 rounded-lg p-3\">{profileData.profile.bio}</p>\n              )}\n\n              {/* Stats Cards */}\n              <div className=\"grid grid-cols-3 gap-4\">\n                <div className=\"bg-blue-50 rounded-lg p-4 text-center\">\n                  <div className=\"text-2xl font-bold text-blue-600\">{profileData.stats.posts}</div>\n                  <div className=\"text-sm text-blue-600 font-medium\">Posts</div>\n                </div>\n                <div className=\"bg-green-50 rounded-lg p-4 text-center\">\n                  <div className=\"text-2xl font-bold text-green-600\">{profileData.stats.followers}</div>\n                  <div className=\"text-sm text-green-600 font-medium\">Followers</div>\n                </div>\n                <div className=\"bg-purple-50 rounded-lg p-4 text-center\">\n                  <div className=\"text-2xl font-bold text-purple-600\">{profileData.stats.following}</div>\n                  <div className=\"text-sm text-purple-600 font-medium\">Following</div>\n                </div>\n              </div>\n            </div>\n\n            {/* Streak Counter */}\n            <div className=\"bg-orange-100 rounded-lg px-4 py-2 mb-4 border border-orange-200 flex items-center justify-between\">\n              <div className=\"flex items-center space-x-2\">\n                <span className=\"text-orange-500\">🔥</span>\n                <span className=\"font-semibold text-gray-800\">Daily Streak:</span>\n                {streakLoading ? (\n                  <span className=\"text-lg text-orange-500\">Loading...</span>\n                ) : streak > 0 ? (\n                  <span className=\"text-2xl font-bold text-orange-500\">{streak} {streak === 1 ? 'day' : 'days'}</span>\n                ) : (\n                  <span className=\"text-lg text-orange-500\">Start your goal today!</span>\n                )}\n              </div>\n              <div className=\"text-right\">\n                <p className=\"text-xs text-gray-600\">\n                  {streakLoading ? 'Calculating...' : streak > 0 \n                    ? `Hit your goal for ${streak} ${streak === 1 ? 'day' : 'days'} in a row!` \n                    : 'Build a streak!'\n                  }\n                </p>\n              </div>\n            </div>\n\n          </div>\n        </div>\n\n        {/* Nutrition Goals Card */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-center space-x-3 mb-6\">\n            <div className=\"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center\">\n              <UserCircle className=\"w-6 h-6 text-orange-600\" />\n            </div>\n            <h3 className=\"text-lg font-semibold text-gray-900\">Nutrition Goals</h3>\n          </div>\n\n          {!profileData.profile.daily_calories ? (\n            <div className=\"text-center py-8\">\n              <div className=\"w-16 h-16 bg-gray-100 rounded-full mx-auto mb-4 flex items-center justify-center\">\n                <UserCircle className=\"w-8 h-8 text-gray-400\" />\n              </div>\n              <p className=\"text-gray-500 mb-4\">No nutrition goals set yet</p>\n              <button\n                onClick={openEditProfile}\n                className=\"bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 px-4 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200 shadow-md hover:shadow-lg\"\n              >\n                Set Goals\n              </button>\n            </div>\n          ) : (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"bg-orange-50 rounded-lg p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-orange-600 font-medium\">Daily Calories</span>\n                  <span className=\"text-2xl font-bold text-orange-600\">{profileData.profile.daily_calories}</span>\n                </div>\n              </div>\n              <div className=\"bg-green-50 rounded-lg p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-green-600 font-medium\">Daily Protein</span>\n                  <span className=\"text-2xl font-bold text-green-600\">{profileData.profile.daily_protein}g</span>\n                </div>\n              </div>\n              <div className=\"bg-blue-50 rounded-lg p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-blue-600 font-medium\">Current Weight</span>\n                  <span className=\"text-2xl font-bold text-blue-600\">{profileData.profile.weight || 'Not set'} lbs</span>\n                </div>\n              </div>\n              <div className=\"bg-purple-50 rounded-lg p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-purple-600 font-medium\">Target Weight</span>\n                  <span className=\"text-2xl font-bold text-purple-600\">{profileData.profile.target_weight || 'Not set'} lbs</span>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Create Post Card */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <button\n            onClick={() => setShowCreatePost(true)}\n            className=\"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white py-3 px-4 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2 shadow-md hover:shadow-lg transform hover:scale-105\"\n          >\n            <PenTool className=\"w-5 h-5\" />\n            <span>Create a new post</span>\n          </button>\n        </div>\n      </div>\n\n      {/* Create Post Modal */}\n      {showCreatePost && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[85vh] flex flex-col\">\n            {/* Modal Header */}\n            <div className=\"flex items-center justify-between p-4 border-b border-gray-200 flex-shrink-0\">\n              <h3 className=\"text-xl font-semibold text-gray-900\">Create New Post</h3>\n              <button\n                onClick={() => setShowCreatePost(false)}\n                className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n              >\n                <X className=\"h-6 w-6\" />\n              </button>\n            </div>\n\n            {/* Modal Body */}\n            <div className=\"p-4 space-y-4 flex-1 overflow-y-auto\">\n              {/* Text Input */}\n              <div>\n                <textarea\n                  value={newPost.content}\n                  onChange={(e) => setNewPost({ ...newPost, content: e.target.value })}\n                  placeholder=\"What's going on?\"\n                  className=\"w-full border border-gray-300 rounded-lg p-4 resize-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors\"\n                  rows={4}\n                />\n              </div>\n\n              {/* Image Preview */}\n              {newPost.imageFile && (\n                <div className=\"relative\">\n                  <img\n                    src={URL.createObjectURL(newPost.imageFile)}\n                    alt=\"Preview\"\n                    className=\"w-full h-40 object-cover rounded-lg\"\n                  />\n                  <button\n                    onClick={() => setNewPost({ ...newPost, imageFile: null })}\n                    className=\"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors shadow-lg\"\n                  >\n                    <X className=\"h-3 w-3\" />\n                  </button>\n                </div>\n              )}\n\n              {/* Upload Controls */}\n              <div className=\"border border-gray-200 rounded-lg p-3\">\n                <h4 className=\"font-medium text-gray-900 mb-2\">Add to your post</h4>\n                <div className=\"flex items-center space-x-4\">\n                  <label className=\"flex items-center space-x-2 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg cursor-pointer transition-colors\">\n                    <Image className=\"h-4 w-4\" />\n                    <span className=\"text-sm font-medium\">Upload Photo</span>\n                    <input\n                      type=\"file\"\n                      accept=\"image/*\"\n                      onChange={(e) => {\n                        const file = e.target.files?.[0];\n                        if (file) {\n                          setNewPost({ ...newPost, imageFile: file });\n                        }\n                      }}\n                      className=\"hidden\"\n                    />\n                  </label>\n                </div>\n              </div>\n\n              {/* Privacy Settings */}\n              <div className=\"border border-gray-200 rounded-lg p-3\">\n                <h4 className=\"font-medium text-gray-900 mb-3\">Privacy Settings</h4>\n                <div className=\"space-y-3\">\n                  {/* Allow Comments Toggle */}\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-700\">Allow comments</label>\n                      <p className=\"text-xs text-gray-500\">Let people comment on your post</p>\n                    </div>\n                    <button\n                      onClick={() => setNewPost({ ...newPost, allowComments: !newPost.allowComments })}\n                      className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\n                        newPost.allowComments ? 'bg-blue-600' : 'bg-gray-200'\n                      }`}\n                    >\n                      <span\n                        className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                          newPost.allowComments ? 'translate-x-6' : 'translate-x-1'\n                        }`}\n                      />\n                    </button>\n                  </div>\n\n                  {/* Hide Like Count Toggle */}\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-700\">Hide like count</label>\n                      <p className=\"text-xs text-gray-500\">Only you will see the total number of likes</p>\n                    </div>\n                    <button\n                      onClick={() => setNewPost({ ...newPost, hideLikeCount: !newPost.hideLikeCount })}\n                      className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\n                        newPost.hideLikeCount ? 'bg-blue-600' : 'bg-gray-200'\n                      }`}\n                    >\n                      <span\n                        className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                          newPost.hideLikeCount ? 'translate-x-6' : 'translate-x-1'\n                        }`}\n                      />\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Modal Footer */}\n            <div className=\"flex items-center justify-end space-x-3 p-4 border-t border-gray-200 bg-gray-50 flex-shrink-0\">\n              <button\n                onClick={() => setShowCreatePost(false)}\n                className=\"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={() => {\n                  console.log('SocialProfile Post button clicked', newPost);\n                  handleCreatePost();\n                }}\n                disabled={!newPost.content.trim()}\n                className=\"px-6 py-2 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 disabled:bg-gray-400 text-white rounded-lg font-medium transition-all duration-200 shadow-md hover:shadow-lg\"\n              >\n                Post\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Tabs */}\n      <div className=\"flex border-b border-gray-200\">\n        <button\n          onClick={() => setActiveTab('posts')}\n          className={`flex items-center space-x-2 px-8 py-5 border-b-2 transition-colors ${\n            activeTab === 'posts' \n              ? 'border-gray-900 text-gray-900' \n              : 'border-transparent text-gray-500 hover:text-gray-700'\n          }`}\n        >\n          <Grid className=\"w-4 h-4\" />\n          <span>POSTS</span>\n        </button>\n        <button\n          onClick={() => setActiveTab('liked')}\n          className={`flex items-center space-x-2 px-8 py-5 border-b-2 transition-colors ${\n            activeTab === 'liked' \n              ? 'border-gray-900 text-gray-900' \n              : 'border-transparent text-gray-500 hover:text-gray-700'\n          }`}\n        >\n          <Heart className=\"w-4 h-4\" />\n          <span>LIKED</span>\n        </button>\n        <button\n          onClick={() => setActiveTab('saved')}\n          className={`flex items-center space-x-2 px-8 py-5 border-b-2 transition-colors ${\n            activeTab === 'saved' \n              ? 'border-gray-900 text-gray-900' \n              : 'border-transparent text-gray-500 hover:text-gray-700'\n          }`}\n        >\n          <Bookmark className=\"w-4 h-4\" />\n          <span>SAVED</span>\n        </button>\n      </div>\n\n      {/* Posts Feed */}\n      {activeTab === 'posts' && (\n        <div className=\"space-y-6 pt-6\">\n          {posts.map((post) => (\n            <div key={post.id} className=\"border border-gray-200 rounded-lg\">\n              {/* Post Header */}\n              <div className=\"flex items-center justify-between p-4 pb-3\">\n                <div className=\"flex items-center space-x-3\">\n                  {profileData?.profile?.profile_picture ? (\n                    <img\n                      src={profileData.profile.profile_picture}\n                      alt={`${user?.first_name} ${user?.last_name}`}\n                      className=\"w-10 h-10 rounded-full object-cover\"\n                    />\n                  ) : (\n                    <div className=\"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center\">\n                      <UserCircle className=\"w-6 h-6 text-gray-400\" />\n                    </div>\n                  )}\n                  <div>\n                    <h3 className=\"font-semibold text-gray-900\">\n                      {user?.first_name} {user?.last_name}\n                    </h3>\n                    <p className=\"text-sm text-gray-500\">\n                      {new Date(post.created_at).toLocaleDateString('en-US', {\n                        month: 'short',\n                        day: 'numeric',\n                        hour: 'numeric',\n                        minute: '2-digit'\n                      })}\n                    </p>\n                  </div>\n                </div>\n                <MoreHorizontal className=\"w-5 h-5 text-gray-400 cursor-pointer hover:text-gray-600\" />\n              </div>\n\n              {/* Post Content */}\n              {post.content && (\n                <div className=\"px-4 pb-3\">\n                  <p className=\"text-gray-900\">{post.content}</p>\n                </div>\n              )}\n\n              {/* Post Image */}\n              {post.image_url && (\n                <div className=\"px-4 pb-3\">\n                  <img\n                    src={post.image_url}\n                    alt=\"Post content\"\n                    className=\"w-full rounded-lg object-cover max-h-96\"\n                  />\n                </div>\n              )}\n\n              {/* Post Actions */}\n              <div className=\"flex items-center justify-between px-4 py-3 border-t border-gray-100\">\n                <div className=\"flex items-center space-x-4\">\n                  <button\n                    onClick={() => handleLike(post.id)}\n                    className={`flex items-center space-x-1 transition-colors ${\n                      post.is_liked ? 'text-red-600' : 'text-gray-600 hover:text-red-600'\n                    }`}\n                  >\n                    <Heart className={`w-5 h-5 ${post.is_liked ? 'fill-current' : ''}`} />\n                    {!post.hide_like_count && <span className=\"text-sm\">{post.likes_count}</span>}\n                  </button>\n                  \n                  {post.allow_comments && (\n                    <button className=\"flex items-center space-x-1 text-gray-600 hover:text-blue-600 transition-colors\">\n                      <MessageCircle className=\"w-5 h-5\" />\n                      <span className=\"text-sm\">{post.comments_count}</span>\n                    </button>\n                  )}\n                  \n                  <button className=\"flex items-center space-x-1 text-gray-600 hover:text-green-600 transition-colors\">\n                    <Share className=\"w-5 h-5\" />\n                  </button>\n                </div>\n                \n                <button\n                  onClick={() => handleBookmark(post.id)}\n                  className={`flex items-center space-x-2 transition-colors ${\n                    post.is_bookmarked ? 'text-blue-500' : 'text-gray-400 hover:text-blue-500'\n                  }`}\n                >\n                  <Bookmark className={`w-5 h-5 ${post.is_bookmarked ? 'fill-current' : ''}`} />\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Liked Posts */}\n      {activeTab === 'liked' && (\n        <div className=\"space-y-6 pt-6\">\n          {likedPosts.map((post) => (\n            <div key={post.id} className=\"border border-gray-200 rounded-lg\">\n              {/* Post Header */}\n              <div className=\"flex items-center justify-between p-4 pb-3\">\n                <div className=\"flex items-center space-x-3\">\n                  {post.user.profile_picture ? (\n                    <img\n                      src={post.user.profile_picture}\n                      alt={`${post.user.first_name} ${post.user.last_name}`}\n                      className=\"w-10 h-10 rounded-full object-cover\"\n                    />\n                  ) : (\n                    <div className=\"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center\">\n                      <UserCircle className=\"w-6 h-6 text-gray-400\" />\n                    </div>\n                  )}\n                  <div>\n                    <h3 className=\"font-semibold text-gray-900\">\n                      {post.user.first_name} {post.user.last_name}\n                    </h3>\n                    <p className=\"text-sm text-gray-500\">\n                      {new Date(post.created_at).toLocaleDateString('en-US', {\n                        month: 'short',\n                        day: 'numeric',\n                        hour: 'numeric',\n                        minute: '2-digit'\n                      })}\n                    </p>\n                  </div>\n                </div>\n                <MoreHorizontal className=\"w-5 h-5 text-gray-400 cursor-pointer hover:text-gray-600\" />\n              </div>\n\n              {/* Post Content */}\n              {post.content && (\n                <div className=\"px-4 pb-3\">\n                  <p className=\"text-gray-900\">{post.content}</p>\n                </div>\n              )}\n\n              {/* Post Image */}\n              {post.image_url && (\n                <div className=\"px-4 pb-3\">\n                  <img\n                    src={post.image_url}\n                    alt=\"Post content\"\n                    className=\"w-full rounded-lg object-cover max-h-96\"\n                  />\n                </div>\n              )}\n\n              {/* Post Actions */}\n              <div className=\"flex items-center justify-between p-4 border-t border-gray-200\">\n                <div className=\"flex items-center space-x-4\">\n                  <button\n                    onClick={() => handleLike(post.id)}\n                    className={`flex items-center space-x-2 transition-colors ${\n                      post.is_liked ? 'text-red-500' : 'text-gray-400 hover:text-red-500'\n                    }`}\n                  >\n                    <Heart className={`w-6 h-6 ${post.is_liked ? 'fill-current' : ''}`} />\n                    {!post.hide_like_count && (\n                      <span className=\"text-sm\">{post.likes_count}</span>\n                    )}\n                  </button>\n                  <button className=\"text-gray-400 hover:text-gray-600 transition-colors\">\n                    <MessageCircle className=\"w-6 h-6\" />\n                    <span className=\"text-sm ml-1\">{post.comments_count}</span>\n                  </button>\n                  <button className=\"text-gray-400 hover:text-gray-600 transition-colors\">\n                    <Share className=\"w-6 h-6\" />\n                  </button>\n                </div>\n                <button\n                  onClick={() => handleBookmark(post.id)}\n                  className={`flex items-center space-x-2 transition-colors ${\n                    post.is_bookmarked ? 'text-blue-500' : 'text-gray-400 hover:text-blue-500'\n                  }`}\n                >\n                  <Bookmark className={`w-6 h-6 ${post.is_bookmarked ? 'fill-current' : ''}`} />\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Saved Posts */}\n      {activeTab === 'saved' && (\n        <div className=\"space-y-6 pt-6\">\n          {bookmarkedPosts.map((post) => (\n            <div key={post.id} className=\"border border-gray-200 rounded-lg\">\n              {/* Post Header */}\n              <div className=\"flex items-center justify-between p-4 pb-3\">\n                <div className=\"flex items-center space-x-3\">\n                  {post.user.profile_picture ? (\n                    <img\n                      src={post.user.profile_picture}\n                      alt={`${post.user.first_name} ${post.user.last_name}`}\n                      className=\"w-10 h-10 rounded-full object-cover\"\n                    />\n                  ) : (\n                    <div className=\"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center\">\n                      <UserCircle className=\"w-6 h-6 text-gray-400\" />\n                    </div>\n                  )}\n                  <div>\n                    <h3 className=\"font-semibold text-gray-900\">\n                      {post.user.first_name} {post.user.last_name}\n                    </h3>\n                    <p className=\"text-sm text-gray-500\">\n                      {new Date(post.created_at).toLocaleDateString('en-US', {\n                        month: 'short',\n                        day: 'numeric',\n                        hour: 'numeric',\n                        minute: '2-digit'\n                      })}\n                    </p>\n                  </div>\n                </div>\n                <MoreHorizontal className=\"w-5 h-5 text-gray-400 cursor-pointer hover:text-gray-600\" />\n              </div>\n\n              {/* Post Content */}\n              {post.content && (\n                <div className=\"px-4 pb-3\">\n                  <p className=\"text-gray-900\">{post.content}</p>\n                </div>\n              )}\n\n              {/* Post Image */}\n              {post.image_url && (\n                <div className=\"px-4 pb-3\">\n                  <img\n                    src={post.image_url}\n                    alt=\"Post content\"\n                    className=\"w-full rounded-lg object-cover max-h-96\"\n                  />\n                </div>\n              )}\n\n              {/* Post Actions */}\n              <div className=\"flex items-center justify-between p-4 border-t border-gray-200\">\n                <div className=\"flex items-center space-x-4\">\n                  <button\n                    onClick={() => handleLike(post.id)}\n                    className={`flex items-center space-x-2 transition-colors ${\n                      post.is_liked ? 'text-red-500' : 'text-gray-400 hover:text-red-500'\n                    }`}\n                  >\n                    <Heart className={`w-6 h-6 ${post.is_liked ? 'fill-current' : ''}`} />\n                    {!post.hide_like_count && (\n                      <span className=\"text-sm\">{post.likes_count}</span>\n                    )}\n                  </button>\n                  <button className=\"text-gray-400 hover:text-gray-600 transition-colors\">\n                    <MessageCircle className=\"w-6 h-6\" />\n                    <span className=\"text-sm ml-1\">{post.comments_count}</span>\n                  </button>\n                  <button className=\"text-gray-400 hover:text-gray-600 transition-colors\">\n                    <Share className=\"w-6 h-6\" />\n                  </button>\n                </div>\n                <button\n                  onClick={() => handleBookmark(post.id)}\n                  className={`flex items-center space-x-2 transition-colors ${\n                    post.is_bookmarked ? 'text-blue-500' : 'text-gray-400 hover:text-blue-500'\n                  }`}\n                >\n                  <Bookmark className={`w-6 h-6 ${post.is_bookmarked ? 'fill-current' : ''}`} />\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n\n      {/* No Posts Message */}\n      {activeTab === 'posts' && posts.length === 0 && (\n        <div className=\"p-12 text-center text-gray-500\">\n          <PenTool className=\"w-16 h-16 mx-auto mb-4 text-gray-300\" />\n          <h3 className=\"text-xl font-medium mb-2\">No posts yet</h3>\n          <p>When you share photos and videos, they'll appear on your profile.</p>\n          <button\n            onClick={() => setShowCreatePost(true)}\n            className=\"mt-4 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\"\n          >\n            Share your first photo\n          </button>\n        </div>\n      )}\n\n      {/* No Liked Posts Message */}\n      {activeTab === 'liked' && likedPosts.length === 0 && (\n        <div className=\"p-12 text-center text-gray-500\">\n          <Heart className=\"w-16 h-16 mx-auto mb-4 text-gray-300\" />\n          <h3 className=\"text-xl font-medium mb-2\">No liked posts yet</h3>\n          <p>Posts you like will appear here.</p>\n        </div>\n      )}\n\n      {/* No Saved Posts Message */}\n      {activeTab === 'saved' && bookmarkedPosts.length === 0 && (\n        <div className=\"p-12 text-center text-gray-500\">\n          <Bookmark className=\"w-16 h-16 mx-auto mb-4 text-gray-300\" />\n          <h3 className=\"text-xl font-medium mb-2\">No saved posts yet</h3>\n          <p>Posts you save will appear here.</p>\n        </div>\n      )}\n\n      {/* Edit Profile Modal */}\n      {showEditProfile && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto\">\n            <h3 className=\"text-lg font-semibold mb-4\">Edit Profile</h3>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Daily Calories</label>\n                <input\n                  type=\"number\"\n                  value={editProfileData.daily_calories || ''}\n                  onChange={(e) => setEditProfileData(prev => ({ ...prev, daily_calories: parseFloat(e.target.value) || 0 }))}\n                  className=\"w-full border border-gray-300 rounded-lg p-2\"\n                  placeholder=\"2000\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Daily Protein (g)</label>\n                <input\n                  type=\"number\"\n                  value={editProfileData.daily_protein || ''}\n                  onChange={(e) => setEditProfileData(prev => ({ ...prev, daily_protein: parseFloat(e.target.value) || 0 }))}\n                  className=\"w-full border border-gray-300 rounded-lg p-2\"\n                  placeholder=\"150\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Current Weight (lbs)</label>\n                <input\n                  type=\"number\"\n                  value={editProfileData.weight || ''}\n                  onChange={(e) => setEditProfileData(prev => ({ ...prev, weight: parseFloat(e.target.value) || 0 }))}\n                  className=\"w-full border border-gray-300 rounded-lg p-2\"\n                  placeholder=\"150\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Target Weight (lbs)</label>\n                <input\n                  type=\"number\"\n                  value={editProfileData.target_weight || ''}\n                  onChange={(e) => setEditProfileData(prev => ({ ...prev, target_weight: parseFloat(e.target.value) || 0 }))}\n                  className=\"w-full border border-gray-300 rounded-lg p-2\"\n                  placeholder=\"140\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Height (inches)</label>\n                <input\n                  type=\"number\"\n                  value={editProfileData.height || ''}\n                  onChange={(e) => setEditProfileData(prev => ({ ...prev, height: parseFloat(e.target.value) || 0 }))}\n                  className=\"w-full border border-gray-300 rounded-lg p-2\"\n                  placeholder=\"70\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Age</label>\n                <input\n                  type=\"number\"\n                  value={editProfileData.age || ''}\n                  onChange={(e) => setEditProfileData(prev => ({ ...prev, age: parseFloat(e.target.value) || 0 }))}\n                  className=\"w-full border border-gray-300 rounded-lg p-2\"\n                  placeholder=\"25\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Activity Level</label>\n                <select\n                  value={editProfileData.activity_level}\n                  onChange={(e) => setEditProfileData(prev => ({ ...prev, activity_level: e.target.value }))}\n                  className=\"w-full border border-gray-300 rounded-lg p-2\"\n                >\n                  <option value=\"sedentary\">Sedentary</option>\n                  <option value=\"light\">Light</option>\n                  <option value=\"moderate\">Moderate</option>\n                  <option value=\"active\">Active</option>\n                  <option value=\"very_active\">Very Active</option>\n                </select>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Gender</label>\n                <select\n                  value={editProfileData.gender}\n                  onChange={(e) => setEditProfileData(prev => ({ ...prev, gender: e.target.value }))}\n                  className=\"w-full border border-gray-300 rounded-lg p-2\"\n                >\n                  <option value=\"male\">Male</option>\n                  <option value=\"female\">Female</option>\n                  <option value=\"other\">Other</option>\n                </select>\n              </div>\n            </div>\n            \n            <div className=\"mb-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Bio</label>\n              <textarea\n                value={editProfileData.bio || ''}\n                onChange={(e) => setEditProfileData(prev => ({ ...prev, bio: e.target.value }))}\n                className=\"w-full border border-gray-300 rounded-lg p-2\"\n                rows={3}\n                placeholder=\"Tell us about yourself...\"\n              />\n            </div>\n            \n            <div className=\"flex space-x-3\">\n              <button\n                onClick={handleEditProfile}\n                className=\"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\"\n              >\n                Save Changes\n              </button>\n              <button\n                onClick={() => setShowEditProfile(false)}\n                className=\"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SocialProfile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}